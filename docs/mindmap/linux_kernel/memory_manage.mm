<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1464590232237" ID="ID_365265929" MODIFIED="1464590246786" TEXT="memory_manage">
<node CREATED="1464631849652" ID="ID_203017267" MODIFIED="1464757617251" POSITION="right" TEXT="slub">
<node CREATED="1464631854865" ID="ID_1089036839" MODIFIED="1464757620791" TEXT="&#x539f;&#x7406;">
<node CREATED="1464758111604" FOLDED="true" ID="ID_1967749378" MODIFIED="1464807196372" TEXT="&#x5185;&#x6838;&#x5bf9;&#x8c61;&#x7f13;&#x51b2;&#x533a;&#x7ba1;&#x7406;">
<node CREATED="1464758130253" ID="ID_531940239" MODIFIED="1464758132535" TEXT="Linux &#x5185;&#x6838;&#x5728;&#x8fd0;&#x884c;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x5e38;&#x5e38;&#x4f1a;&#x9700;&#x8981;&#x7ecf;&#x5e38;&#x4f7f;&#x7528;&#x4e00;&#x4e9b;&#x5185;&#x6838;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff08;&#x5bf9;&#x8c61;&#xff09;&#x3002;&#x4f8b;&#x5982;&#xff0c;&#x5f53;&#x8fdb;&#x7a0b;&#x7684;&#x67d0;&#x4e2a;&#x7ebf;&#x7a0b;&#x7b2c;&#x4e00;&#x6b21;&#x6253;&#x5f00;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5185;&#x6838;&#x9700;&#x8981;&#x4e3a;&#x8be5;&#x6587;&#x4ef6;&#x5206;&#x914d;&#x4e00;&#x4e2a;&#x79f0;&#x4e3a; file &#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff1b;&#x5f53;&#x8be5;&#x6587;&#x4ef6;&#x88ab;&#x6700;&#x7ec8;&#x5173;&#x95ed;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5185;&#x6838;&#x5fc5;&#x987b;&#x91ca;&#x653e;&#x6b64;&#x6587;&#x4ef6;&#x6240;&#x5173;&#x8054;&#x7684; file &#x6570;&#x636e;&#x7ed3;&#x6784;&#x3002;&#x8fd9;&#x4e9b;&#x5c0f;&#x5757;&#x5b58;&#x50a8;&#x7a7a;&#x95f4;&#x5e76;&#x4e0d;&#x53ea;&#x5728;&#x67d0;&#x4e2a;&#x5185;&#x6838;&#x51fd;&#x6570;&#x7684;&#x5185;&#x90e8;&#x4f7f;&#x7528;&#xff0c;&#x5426;&#x5219;&#x5c31;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x7684;&#x5185;&#x6838;&#x6808;&#x7a7a;&#x95f4;&#x3002;&#x540c;&#x65f6;&#xff0c;&#x8fd9;&#x4e9b;&#x5c0f;&#x5757;&#x5b58;&#x50a8;&#x7a7a;&#x95f4;&#x53c8;&#x662f;&#x52a8;&#x6001;&#x53d8;&#x5316;&#x7684;&#xff0c;&#x4e0d;&#x53ef;&#x80fd;&#x50cf;&#x7269;&#x7406;&#x5185;&#x5b58;&#x9875;&#x9762;&#x7ba1;&#x7406;&#x4f7f;&#x7528;&#x7684; page &#x7ed3;&#x6784;&#x90a3;&#x6837;&#xff0c;&#x6709;&#x591a;&#x5927;&#x5185;&#x5b58;&#x5c31;&#x6709;&#x591a;&#x5c11;&#x4e2a; page &#x7ed3;&#x6784;&#xff0c;&#x5f62;&#x6210;&#x4e00;&#x4e2a;&#x9759;&#x6001;&#x957f;&#x5ea6;&#x7684;&#x961f;&#x5217;&#x3002;&#x800c;&#x4e14;&#x7531;&#x4e8e;&#x5185;&#x6838;&#x65e0;&#x6cd5;&#x9884;&#x6d4b;&#x8fd0;&#x884c;&#x4e2d;&#x5404;&#x79cd;&#x4e0d;&#x540c;&#x7684;&#x5185;&#x6838;&#x5bf9;&#x8c61;&#x5bf9;&#x7f13;&#x51b2;&#x533a;&#x7684;&#x9700;&#x6c42;&#xff0c;&#x56e0;&#x6b64;&#x4e0d;&#x9002;&#x5408;&#x4e3a;&#x6bcf;&#x4e00;&#x79cd;&#x53ef;&#x80fd;&#x7528;&#x5230;&#x7684;&#x5bf9;&#x8c61;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;&#x201c;&#x7f13;&#x51b2;&#x6c60;&#x201d;&#xff0c;&#x56e0;&#x4e3a;&#x90a3;&#x6837;&#x7684;&#x8bdd;&#x5f88;&#x53ef;&#x80fd;&#x51fa;&#x73b0;&#x6709;&#x4e9b;&#x7f13;&#x51b2;&#x6c60;&#x5df2;&#x7ecf;&#x8017;&#x5c3d;&#x800c;&#x6709;&#x4e9b;&#x7f13;&#x51b2;&#x6c60;&#x4e2d;&#x5374;&#x53c8;&#x5927;&#x91cf;&#x7a7a;&#x95f2;&#x7f13;&#x51b2;&#x533a;&#x7684;&#x73b0;&#x8c61;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x5185;&#x6838;&#x53ea;&#x80fd;&#x91c7;&#x53d6;&#x66f4;&#x5168;&#x5c40;&#x6027;&#x7684;&#x65b9;&#x6cd5;&#x3002;"/>
<node CREATED="1464758151053" ID="ID_1916393719" MODIFIED="1464758159865">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25105;&#20204;&#21487;&#20197;&#30475;&#20986;&#65292;&#20869;&#26680;&#23545;&#35937;&#30340;&#31649;&#29702;&#19982;&#29992;&#25143;&#36827;&#31243;&#20013;&#30340;&#22534;&#31649;&#29702;&#27604;&#36739;&#30456;&#20284;&#65292;&#26680;&#24515;&#38382;&#39064;&#22343;&#26159;&#65306;&#22914;&#20309;&#39640;&#25928;&#22320;&#31649;&#29702;&#20869;&#23384;&#31354;&#38388;&#65292;&#20351;&#24471;&#21487;&#20197;&#24555;&#36895;&#22320;&#36827;&#34892;&#23545;&#35937;&#30340;&#20998;&#37197;&#21644;&#22238;&#25910;&#24182;&#20943;&#23569;&#20869;&#23384;&#30862;&#29255;&#12290;&#20294;&#26159;&#20869;&#26680;&#19981;&#33021;&#31616;&#21333;&#22320;&#37319;&#29992;&#29992;&#25143;&#36827;&#31243;&#30340;&#22522;&#20110;&#22534;&#30340;&#20869;&#23384;&#20998;&#37197;&#31639;&#27861;&#65292;&#36825;&#26159;&#22240;&#20026;&#20869;&#26680;&#23545;&#20854;&#23545;&#35937;&#30340;&#20351;&#29992;&#20855;&#26377;&#20197;&#19979;&#29305;&#27530;&#24615;&#65306;
    </p>
    <ol type="1">
      <li>
        &#20869;&#26680;&#20351;&#29992;&#30340;&#23545;&#35937;&#31181;&#31867;&#32321;&#22810;&#65292;&#24212;&#35813;&#37319;&#29992;&#19968;&#31181;&#32479;&#19968;&#30340;&#39640;&#25928;&#31649;&#29702;&#26041;&#27861;&#12290;
      </li>
      <li>
        &#20869;&#26680;&#23545;&#26576;&#20123;&#23545;&#35937;&#65288;&#22914; task_struct&#65289;&#30340;&#20351;&#29992;&#26159;&#38750;&#24120;&#39057;&#32321;&#30340;&#65292;&#25152;&#20197;&#29992;&#25143;&#36827;&#31243;&#22534;&#31649;&#29702;&#24120;&#29992;&#30340;&#22522;&#20110;&#25628;&#32034;&#30340;&#20998;&#37197;&#31639;&#27861;&#27604;&#22914;First-Fit&#65288;&#22312;&#22534;&#20013;&#25628;&#32034;&#21040;&#30340;&#31532;&#19968;&#20010;&#28385;&#36275;&#35831;&#27714;&#30340;&#20869;&#23384; &#22359;&#65289;&#21644; Best-Fit&#65288;&#20351;&#29992;&#22534;&#20013;&#28385;&#36275;&#35831;&#27714;&#30340;&#26368;&#21512;&#36866;&#30340;&#20869;&#23384;&#22359;&#65289;&#24182;&#19981;&#30452;&#25509;&#36866;&#29992;&#65292;&#32780;&#24212;&#35813;&#37319;&#29992;&#26576;&#31181;&#32531;&#20914;&#21306;&#30340;&#26426;&#21046;&#12290;
      </li>
      <li>
        &#20869;&#26680;&#23545;&#35937;&#20013;&#30456;&#24403;&#19968;&#37096;&#20998;&#25104;&#21592;&#38656;&#35201;&#26576;&#20123;&#29305;&#27530;&#30340;&#21021;&#22987;&#21270;&#65288;&#20363;&#22914;&#38431;&#21015;&#22836;&#37096;&#65289;&#32780;&#24182;&#38750;&#31616;&#21333;&#22320;&#28165;&#25104;&#20840; 0&#12290;&#22914;&#26524;&#33021;&#20805;&#20998;&#37325;&#29992;&#24050;&#34987;&#37322;&#25918;&#30340;&#23545;&#35937;&#20351;&#24471;&#19979;&#27425;&#20998;&#37197;&#26102;&#26080;&#38656;&#21021;&#22987;&#21270;&#65292;&#37027;&#20040;&#21487;&#20197;&#25552;&#39640;&#20869;&#26680;&#30340;&#36816;&#34892;&#25928;&#29575;&#12290;
      </li>
      <li>
        &#20998;&#37197;&#22120;&#23545;&#20869;&#26680;&#23545;&#35937;&#32531;&#20914;&#21306;&#30340;&#32452;&#32455;&#21644;&#31649;&#29702;&#24517;&#39035;&#20805;&#20998;&#32771;&#34385;&#23545;&#30828;&#20214;&#39640;&#36895;&#32531;&#23384;&#30340;&#24433;&#21709;&#12290;
      </li>
      <li>
        &#38543;&#30528;&#20849;&#20139;&#20869;&#23384;&#30340;&#22810;&#22788;&#29702;&#22120;&#31995;&#32479;&#30340;&#26222;&#21450;&#65292;&#22810;&#22788;&#29702;&#22120;&#21516;&#26102;&#20998;&#37197;&#26576;&#31181;&#31867;&#22411;&#23545;&#35937;&#30340;&#29616;&#35937;&#26102;&#24120;&#21457;&#29983;&#65292;&#22240;&#27492;&#20998;&#37197;&#22120;&#24212;&#35813;&#23613;&#37327;&#36991;&#20813;&#22788;&#29702;&#22120;&#38388;&#21516;&#27493;&#30340;&#24320;&#38144;&#65292;&#24212;&#37319;&#29992;&#26576;&#31181; Lock-Free &#30340;&#31639;&#27861;&#12290;
      </li>
    </ol>
    <p>
      &#22914;&#20309;&#26377;&#25928;&#22320;&#31649;&#29702;&#32531;&#20914;&#21306;&#31354;&#38388;&#65292;&#38271;&#26399;&#20197;&#26469;&#37117;&#26159;&#19968;&#20010;&#28909;&#38376;&#30340;&#30740;&#31350;&#35838;&#39064;&#12290;90 &#24180;&#20195;&#21021;&#26399;&#65292;&#22312; Solaris 2.4 &#25805;&#20316;&#31995;&#32479;&#20013;&#65292;&#37319;&#29992;&#20102;&#19968;&#31181;&#31216;&#20026;&#8220;slab&#8221;&#65288;&#21407;&#24847;&#26159;&#22823;&#22359;&#30340;&#28151;&#20957;&#22303;&#65289;&#30340;&#32531;&#20914;&#21306;&#20998;&#37197;&#21644;&#31649;&#29702;&#26041;&#27861;&#65292;&#22312;&#30456;&#24403;&#31243;&#24230;&#19978;&#28385;&#36275;&#20102;&#20869;&#26680;&#30340;&#29305;&#27530;&#38656;&#27714;&#12290;
    </p>
  </body>
</html></richcontent>
<arrowlink DESTINATION="ID_1916393719" ENDARROW="Default" ENDINCLINATION="0;0;" ID="Arrow_ID_1873534030" STARTARROW="None" STARTINCLINATION="0;0;"/>
</node>
</node>
<node CREATED="1464758184284" FOLDED="true" ID="ID_1306976974" MODIFIED="1464807200196" TEXT="SLAB &#x5206;&#x914d;&#x5668;&#x4ecb;&#x7ecd;">
<node CREATED="1464758189514" FOLDED="true" ID="ID_1178500312" MODIFIED="1464758303906" TEXT="&#x539f;&#x7406; ">
<node CREATED="1464758213764" ID="ID_802775304" MODIFIED="1464758220106">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22810;&#24180;&#20197;&#26469;&#65292;Linux &#20869;&#26680;&#20351;&#29992;&#19968;&#31181;&#31216;&#20026; SLAB &#30340;&#20869;&#26680;&#23545;&#35937;&#32531;&#20914;&#21306;&#20998;&#37197;&#22120;&#12290;SLAB &#20998;&#37197;&#22120;&#28304;&#20110; Solaris 2.4 &#30340;&#20998;&#37197;&#31639;&#27861;&#65292;&#24037;&#20316;&#20110;&#29289;&#29702;&#20869;&#23384;&#39029;&#26694;&#20998;&#37197;&#22120;&#20043;&#19978;&#65292;&#31649;&#29702;&#29305;&#23450;&#22823;&#23567;&#23545;&#35937;&#30340;&#32531;&#23384;&#65292;&#36827;&#34892;&#24555;&#36895;&#32780;&#39640;&#25928;&#30340;&#20869;&#23384;&#20998;&#37197;&#12290;
    </p>
    <p>
      SLAB &#20998;&#37197;&#22120;&#20026;&#27599;&#31181;&#20351;&#29992;&#30340;&#20869;&#26680;&#23545;&#35937;&#24314;&#31435;&#21333;&#29420;&#30340;&#32531;&#20914;&#21306;&#12290;Linux &#20869;&#26680;&#24050;&#32463;&#37319;&#29992;&#20102;&#20249;&#20276;&#31995;&#32479;&#65288;Buddy System&#65289;&#31649;&#29702;&#29289;&#29702;&#20869;&#23384;&#39029;&#26694;&#65292;&#22240;&#27492; SLAB &#20998;&#37197;&#22120;&#30452;&#25509;&#24037;&#20316;&#20110;&#20249;&#20276;&#31995;&#32479;&#20043;&#19978;&#12290;&#27599;&#31181;&#32531;&#20914;&#21306;&#30001;&#22810;&#20010; slab &#32452;&#25104;&#65292;&#27599;&#20010; slab&#23601;&#26159;&#19968;&#32452;&#36830;&#32493;&#30340;&#29289;&#29702;&#20869;&#23384;&#39029;&#26694;&#65292;&#34987;&#21010;&#20998;&#25104;&#20102;&#22266;&#23450;&#25968;&#30446;&#30340;&#23545;&#35937;&#12290;&#26681;&#25454;&#23545;&#35937;&#22823;&#23567;&#30340;&#19981;&#21516;&#65292;&#32570;&#30465;&#24773;&#20917;&#19979;&#19968;&#20010; slab &#26368;&#22810;&#21487;&#20197;&#30001; 1024 &#20010;&#29289;&#29702;&#20869;&#23384;&#39029;&#26694;&#26500;&#25104;&#12290;&#20986;&#20110;&#23545;&#40784;&#31561;&#20854;&#23427;&#26041;&#38754;&#30340;&#35201;&#27714;&#65292;slab &#20013;&#20998;&#37197;&#32473;&#23545;&#35937;&#30340;&#20869;&#23384;&#21487;&#33021;&#22823;&#20110;&#29992;&#25143;&#35201;&#27714;&#30340;&#23545;&#35937;&#23454;&#38469;&#22823;&#23567;&#65292;&#36825;&#20250;&#36896;&#25104;&#19968;&#23450;&#30340;&#20869;&#23384;&#28010;&#36153;&#12290;
    </p>
    <p>
      &#30001; &#20110;&#20869;&#26680;&#23545;&#35937;&#22312;&#20351;&#29992;&#21069;&#21644;&#37322;&#25918;&#21518;&#21487;&#33021;&#38656;&#35201;&#20570;&#26576;&#20123;&#29305;&#27530;&#22788;&#29702;&#65292;&#32531;&#20914;&#21306;&#25317;&#26377;&#33258;&#24049;&#30340;&#8220;&#26500;&#36896;&#20989;&#25968;&#65288;constructor&#65289;&#8221;&#21644;&#8220;&#26512;&#26500;&#20989;&#25968;&#65288;destructor&#65289;&#8221;&#65292; &#31867;&#20284;&#20110;C++ &#31561;&#38754;&#21521;&#23545;&#35937;&#32534;&#31243;&#35821;&#35328;&#20013;&#30340;&#27010;&#24565;&#65288;&#19981;&#36807;&#26368;&#26032;&#29256;&#26412;&#30340; SLAB &#20998;&#37197;&#22120;&#21462;&#28040;&#20102;&#26512;&#26500;&#20989;&#25968;&#65289;&#12290;&#21019;&#24314;&#26032; slab &#26102;&#20869;&#26680;&#35843;&#29992;&#26500;&#36896;&#20989;&#25968;&#21021;&#22987;&#21270;&#27599;&#20010;&#23545;&#35937;&#65292;&#37322;&#25918; slab &#26102;&#21017;&#35843;&#29992;&#26512;&#26500;&#20989;&#25968;&#12290;&#36825;&#23601;&#26159;&#20869;&#26680;&#25968;&#25454;&#32467;&#26500;&#34987;&#31216;&#20026;&#23545;&#35937;&#30340;&#21407;&#22240;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464758233784" ID="ID_555098387" MODIFIED="1464758243116">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    &#20869;&#26680;&#20351;&#29992; kmem_cache &#25968;&#25454;&#32467;&#26500;&#31649;&#29702;&#32531;&#20914;&#21306;&#12290;&#30001;&#20110; kmem_cache &#33258;&#36523;&#20063;&#26159;&#19968;&#31181;&#20869;&#26680;&#23545;&#35937;&#65292;&#25152;&#20197;&#38656;&#35201;&#19968;&#20010;&#19987;&#38376;&#30340;&#32531;&#20914;&#21306;&#12290;&#25152;&#26377;&#32531;&#20914;&#21306;&#30340; kmem_cache &#25511;&#21046;&#32467;&#26500;&#34987;&#32452;&#32455;&#25104;&#20197; cache_chain &#20026;&#38431;&#21015;&#22836;&#30340;&#19968;&#20010;&#21452;&#21521;&#24490;&#29615;&#38431;&#21015;&#65292;&#21516;&#26102; cache_cache &#20840;&#23616;&#21464;&#37327;&#25351;&#21521;kmem_cache &#23545;&#35937;&#32531;&#20914;&#21306;&#30340; kmem_cache &#23545;&#35937;&#12290;&#27599;&#20010; slab &#37117;&#38656;&#35201;&#19968;&#20010;&#31867;&#22411;&#20026; struct slab &#30340;&#25551;&#36848;&#31526;&#25968;&#25454;&#32467;&#26500;&#31649;&#29702;&#20854;&#29366;&#24577;&#65292;&#21516;&#26102;&#36824;&#38656;&#35201;&#19968;&#20010; kmem_bufctl_t&#65288;&#34987;&#23450;&#20041;&#20026;&#26080;&#31526;&#21495;&#25972;&#25968;&#65289;&#30340;&#32467;&#26500;&#25968;&#32452;&#26469;&#31649;&#29702;&#31354;&#38386;&#23545;&#35937;&#12290;&#22914;&#26524;&#23545;&#35937;&#19981;&#36229;&#36807; 1/8 &#20010;&#29289;&#29702;&#20869;&#23384;&#39029;&#26694;&#30340;&#22823;&#23567;&#65292;&#37027;&#20040;&#36825;&#20123; slab &#31649;&#29702;&#32467;&#26500;&#30452;&#25509;&#23384;&#25918;&#22312; slab &#30340;&#20869;&#37096;&#65292;&#20301;&#20110;&#20998;&#37197;&#32473; slab &#30340;&#31532;&#19968;&#20010;&#29289;&#29702;&#20869;&#23384;&#39029;&#26694;&#30340;&#36215;&#22987;&#20301;&#32622;&#65307;&#21542;&#21017;&#30340;&#35805;&#65292;&#23384;&#25918;&#22312; slab &#22806;&#37096;&#65292;&#20301;&#20110;&#30001; kmalloc &#20998;&#37197;&#30340;&#36890;&#29992;&#23545;&#35937;&#32531;&#20914;&#21306;&#20013;&#12290;
  </body>
</html></richcontent>
</node>
<node CREATED="1464758260584" ID="ID_1249455582" MODIFIED="1464758268716">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      slab &#20013;&#30340;&#23545;&#35937;&#26377; 2 &#31181;&#29366;&#24577;&#65306;&#24050;&#20998;&#37197;&#25110;&#31354;&#38386;&#12290;&#20026;&#20102;&#26377;&#25928;&#22320;&#31649;&#29702; slab&#65292;&#26681;&#25454;&#24050;&#20998;&#37197;&#23545;&#35937;&#30340;&#25968;&#30446;&#65292;slab &#21487;&#20197;&#26377; 3 &#31181;&#29366;&#24577;&#65292;&#21160;&#24577;&#22320;&#22788;&#20110;&#32531;&#20914;&#21306;&#30456;&#24212;&#30340;&#38431;&#21015;&#20013;&#65306;
    </p>
    <ol type="1">
      <li>
        Full &#38431;&#21015;&#65292;&#27492;&#26102;&#35813; slab &#20013;&#27809;&#26377;&#31354;&#38386;&#23545;&#35937;&#12290;
      </li>
      <li>
        Partial &#38431;&#21015;&#65292;&#27492;&#26102;&#35813; slab &#20013;&#26082;&#26377;&#24050;&#20998;&#37197;&#30340;&#23545;&#35937;&#65292;&#20063;&#26377;&#31354;&#38386;&#23545;&#35937;&#12290;
      </li>
      <li>
        Empty &#38431;&#21015;&#65292;&#27492;&#26102;&#35813; slab &#20013;&#20840;&#26159;&#31354;&#38386;&#23545;&#35937;&#12290;
      </li>
    </ol>
    <p>
      NUMA&#65288;Non Uniform Memory Access&#65289; &#31995;&#32479;&#20013;&#65292;&#27599;&#20010;&#33410;&#28857;&#37117;&#20250;&#25317;&#26377;&#36825; 3 &#31181; slab &#38431;&#21015;&#65292;struct kmem_list3&#32467;&#26500;&#29992;&#20110;&#32500;&#25252;&#30456;&#20851;&#38431;&#21015;&#12290;SLAB &#20998;&#37197;&#22120;&#20248;&#20808;&#20174; Partial &#38431;&#21015;&#37324;&#30340; slab &#20013;&#20998;&#37197;&#23545;&#35937;&#12290;&#24403; slab &#30340;&#26368;&#21518;&#19968;&#20010;&#24050;&#20998;&#37197;&#23545;&#35937;&#34987;&#37322;&#25918;&#26102;&#65292;&#35813; slab &#20174; Partial &#38431;&#21015;&#36716;&#31227;&#21040; Empty &#38431;&#21015;&#65307;&#24403; slab &#30340;&#26368;&#21518;&#19968;&#20010;&#31354;&#38386;&#23545;&#35937;&#34987;&#20998;&#37197;&#26102;&#65292;&#35813; slab &#20174;Partial &#38431;&#21015;&#36716;&#31227;&#21040;Full &#38431;&#21015;&#37324;&#12290;&#32531;&#20914;&#21306;&#20013;&#31354;&#38386;&#23545;&#35937;&#24635;&#25968;&#19981;&#36275;&#26102;&#65292;&#21017;&#20998;&#37197;&#26356;&#22810;&#30340; slab&#65307;&#20294;&#26159;&#22914;&#26524;&#31354;&#38386;&#23545;&#35937;&#27604;&#36739;&#23500;&#20313;&#65292;Empty &#38431;&#21015;&#30340;&#37096;&#20998; slab &#23558;&#34987;&#23450;&#26399;&#22238;&#25910;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464758280934" ID="ID_253789219" MODIFIED="1464758288236">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20026;&#20102;&#20805;&#20998;&#21033;&#29992;&#30828;&#20214;&#39640;&#36895;&#32531;&#23384;&#65292;SLAB &#20998;&#37197;&#22120;&#20801;&#35768;&#23545;&#35937;&#22312;&#19968;&#32423;&#30828;&#20214;&#39640;&#36895;&#32531;&#23384;&#20013;&#23545;&#40784;&#65288;&#21019;&#24314;&#32531;&#20914;&#21306;&#26102;&#65292;&#35774;&#32622; SLAB_HWCACHE_ALIGN &#26631;&#24535;&#65289;&#65307;&#21516;&#26102;&#20351;&#29992;&#30528;&#33394;&#65288;color&#65289;&#31574;&#30053;&#65292;&#20351;&#24471;&#21516;&#19968;&#32531;&#20914;&#21306;&#20869;&#19981;&#21516; slab &#20013;&#30456;&#21516;&#32534;&#21495;&#30340;&#23545;&#35937;&#30340;&#22320;&#22336;&#30456;&#20114;&#38169;&#24320;&#65292;&#36991;&#20813;&#23427;&#20204;&#34987;&#25918;&#20837;&#21516;&#19968;&#29289;&#29702;&#39640;&#36895;&#32531;&#23384;&#34892;&#32780;&#36896;&#25104;&#39057;&#32321;&#25442;&#20837;/&#25442;&#20986;&#30340;&#24615;&#33021;&#25439;&#22833;&#12290;
    </p>
    <p>
      &#20026;&#20102;&#25903;&#25345;&#22810;&#22788;&#29702;&#22120;&#21516;&#26102;&#20998;&#37197;&#23545;&#35937;&#65292;&#32531;&#20914;&#21306;&#20026;&#27599;&#20010;&#22788;&#29702;&#22120;&#32500;&#25252;&#19968;&#20010;&#26412;&#22320;&#32531;&#23384;&#12290;&#22788;&#29702;&#22120;&#30452;&#25509;&#20174;&#26412;&#22320;&#32531;&#23384;&#20013;&#20998;&#37197;&#23545;&#35937;&#65292;&#20174;&#32780;&#36991;&#20813;&#20102;&#38145;&#30340;&#20351;&#29992;&#65307;&#24403;&#26412;&#22320;&#32531;&#23384;&#20026;&#31354;&#26102;&#65292;&#20174; slab &#20013;&#25209;&#37327;&#20998;&#37197;&#23545;&#35937;&#21040;&#26412;&#22320;&#32531;&#23384;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464632112670" ID="ID_643674399" MODIFIED="1464759173613">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/slab_1.png" />
  </body>
</html></richcontent>
<node CREATED="1464631977945" ID="ID_786386870" MODIFIED="1464632792954" TEXT="Linux&#x5e95;&#x5c42;&#x91c7;&#x7528;&#x4f19;&#x4f34;&#x7cfb;&#x7edf;&#x57fa;&#x4e8e;&#x9875;&#x6765;&#x7ba1;&#x7406;&#x5185;&#x5b58;.&#x6bcf;&#x6b21;&#x5206;&#x914d;&#x5185;&#x5b58;&#x9700;&#x8981;&#x627e;&#x5230;&#x7a7a;&#x95f2;&#x7684;&#x7269;&#x7406;&#x9875;,&#x7136;&#x540e;&#x5c06;&#x5176;&#x6620;&#x5c04;&#x5230;&#x865a;&#x62df;&#x5730;&#x5740;&#x7a7a;&#x95f4;,&#x4e4b;&#x540e;&#x5185;&#x6838;&#x624d;&#x80fd;&#x4f7f;&#x7528;. &#x4f46;&#x662f;&#x5b9e;&#x9645;&#x4e0a;&#x7ecf;&#x5e38;&#x9700;&#x8981;&#x4f7f;&#x7528;&#x7684;&#x90fd;&#x662f;&#x4e00;&#x4e9b;&#x5c0f;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x6bd4;&#x5982;skb&#xff0c;dentry, &#x8fd9;&#x4e9b;&#x5bf9;&#x8c61;&#x6784;&#x9020;&#x9500;&#x6bc1;&#x5341;&#x5206;&#x9891;&#x7e41;&#x3002;&#x5982;&#x679c;&#x6bcf;&#x6b21;&#x6784;&#x5efa;&#x8fd9;&#x79cd;&#x5bf9;&#x8c61;&#x65f6;&#x5c31;&#x5411;&#x5185;&#x5b58;&#x8981;&#x4e00;&#x4e2a;&#x9875;&#xff0c;&#x800c;&#x5176;&#x5b9e;&#x9645;&#x5927;&#x5c0f;&#x53ef;&#x80fd;&#x53ea;&#x6709;&#x51e0;&#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd9;&#x6837;&#x65e2;&#x6d6a;&#x8d39;&#x5185;&#x5b58;&#x53c8;&#x5f88;&#x5bb9;&#x6613;&#x9020;&#x6210;&#x5185;&#x5b58;&#x7684;&#x788e;&#x7247;&#x5316;,&#x5e76;&#x4e14;&#x5206;&#x914d;&#x5185;&#x5b58;&#x4e5f;&#x66f4;&#x8017;&#x65f6;."/>
<node CREATED="1464632892545" ID="ID_265865363" MODIFIED="1464633783787" TEXT="slab&#x5206;&#x914d;&#x5668;&#x7684;&#x57fa;&#x672c;&#x601d;&#x60f3;&#x662f;&#x6784;&#x9020;&#x4e00;&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;,&#x5c06;&#x5185;&#x6838;&#x7ecf;&#x5e38;&#x4f7f;&#x7528;&#x7684;&#x5bf9;&#x8c61;&#x653e;&#x5230;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x4e2d;,&#x7531;&#x7cfb;&#x7edf;&#x4fdd;&#x6301;&#x4e3a;&#x521d;&#x59cb;&#x7684;&#x53ef;&#x5229;&#x7528;&#x72b6;&#x6001;,&#x8fd9;&#x4e9b;&#x7f13;&#x5b58;&#x7684;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x53ef;&#x4ee5;&#x5728;&#x4e0b;&#x6b21;&#x5206;&#x914d;&#x65f6;&#x5feb;&#x901f;&#x7684;&#x88ab;&#x5206;&#x914d;&#x4ee5;&#x91cd;&#x590d;&#x5229;&#x7528;.&#x7cfb;&#x7edf;&#x4e2d;&#x6709;&#x591a;&#x4e2a;slab&#x9ad8;&#x901f;&#x7f13;&#x5b58;, &#x6bcf;&#x4e00;&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7ba1;&#x7406;&#x7684;&#x662f;&#x5177;&#x6709;&#x76f8;&#x540c;&#x5927;&#x5c0f;&#x7684;&#x540c;&#x4e00;&#x7c7b;&#x5bf9;&#x8c61;.&#x8fd9;&#x4e9b;&#x5bf9;&#x8c61;&#x80fd;&#x591f;&#x4ee5;&#x540c;&#x6837;&#x7684;&#x65b9;&#x5f0f;&#x521b;&#x5efa;&#x548c;&#x9500;&#x6bc1;. &#x6240;&#x4ee5;&#x6bcf;&#x4e00;&#x79cd;&#x5bf9;&#x8c61;&#x90fd;&#x6709;&#x5176;&#x4e13;&#x6709;&#x7684;&#x9ad8;&#x901f;&#x7f13;&#x5b58;. &#x6bd4;&#x5982;skb&#x4e13;&#x7528;&#x7684;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x662f;skbuff_head_cache."/>
<node CREATED="1464633433999" ID="ID_342072572" MODIFIED="1464634004426" TEXT="&#x4e00;&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x5305;&#x542b;&#x4e86;&#x591a;&#x4e2a;slab,&#x6bcf;&#x4e2a;slab&#x7531;&#x8fde;&#x7eed;&#x7684;&#x9875;&#x9762;&#x5e27;&#x7ec4;&#x6210;,&#x5b83;&#x88ab;&#x5212;&#x5206;&#x6210;&#x8bb8;&#x591a;&#x5c0f;&#x7684;&#x5757;&#x4ee5;&#x5b58;&#x653e;&#x7531;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x6240;&#x7ba1;&#x7406;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x548c;&#x5bf9;&#x8c61;."/>
<node CREATED="1464634134048" ID="ID_1532993861" MODIFIED="1464634150442" TEXT="slab&#x5206;&#x914d;&#x5668;&#x7684;3&#x4e2a;&#x57fa;&#x672c;&#x76ee;&#x6807;:">
<node CREATED="1464634151266" ID="ID_1581369464" MODIFIED="1464634194715" TEXT="&#x51cf;&#x5c11;&#x4f19;&#x4f34;&#x7cfb;&#x7edf;&#x5206;&#x914d;&#x5c0f;&#x5757;&#x5185;&#x5b58;&#x65f6;&#x6240;&#x4ea7;&#x751f;&#x7684;&#x5185;&#x90e8;&#x788e;&#x7247;"/>
<node CREATED="1464634205498" ID="ID_998646054" MODIFIED="1464634264489" TEXT="&#x628a;&#x7ecf;&#x5e38;&#x4f7f;&#x7528;&#x7684;&#x5bf9;&#x8c61;&#x7f13;&#x5b58;&#x8d77;&#x6765;,&#x51cf;&#x5c11;&#x5206;&#x914d;,&#x521d;&#x59cb;&#x5316;&#x4ee5;&#x53ca;&#x91ca;&#x653e;&#x5bf9;&#x8c61;&#x7684;&#x65f6;&#x95f4;&#x5f00;&#x9500;."/>
<node CREATED="1464634265778" ID="ID_1672834417" MODIFIED="1464634297489" TEXT="&#x8c03;&#x6574;&#x5bf9;&#x8c61;&#x4ee5;&#x66f4;&#x597d;&#x5730;&#x4f7f;&#x7528;L1&#x548c;L2&#x786c;&#x4ef6;&#x9ad8;&#x901f;&#x7f13;&#x5b58;"/>
</node>
<node CREATED="1464634610809" ID="ID_1731555807" MODIFIED="1464634613113" TEXT="SLAB,SLOB,SLUB&#x90fd;&#x662f;&#x5185;&#x6838;&#x63d0;&#x4f9b;&#x7684;&#x5206;&#x914d;&#x5668;&#xff0c;&#x5176;&#x524d;&#x7aef;&#x63a5;&#x53e3;&#x90fd;&#x662f;&#x4e00;&#x81f4;&#x7684;&#xff0c;&#x5176;&#x4e2d;SLAB&#x662f;&#x901a;&#x7528;&#x7684;&#x5206;&#x914d;&#x5668;&#xff0c;SLOB&#x9488;&#x5bf9;&#x5fae;&#x5c0f;&#x7684;&#x5d4c;&#x5165;&#x5f0f;&#x7cfb;&#x7edf;&#xff0c;&#x5176;&#x7b97;&#x6cd5;&#x8f83;&#x4e3a;&#x7b80;&#x5355;&#xff08;&#x6700;&#x5148;&#x9002;&#x914d;&#x7b97;&#x6cd5;&#xff09;&#xff0c;SLUB&#x662f;&#x9762;&#x5411;&#x914d;&#x5907;&#x5927;&#x91cf;&#x7269;&#x7406;&#x5185;&#x5b58;&#x7684;&#x5927;&#x89c4;&#x6a21;&#x5e76;&#x884c;&#x7cfb;&#x7edf;&#xff0c;&#x901a;&#x8fc7;&#x4e5f;&#x63cf;&#x8ff0;&#x7b26;&#x4e2d;&#x672a;&#x4f7f;&#x7528;&#x7684;&#x5b57;&#x6bb5;&#x6765;&#x7ba1;&#x7406;&#x9875;&#x7ec4;&#xff0c;&#x964d;&#x4f4e;SLUB&#x672c;&#x8eab;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x7684;&#x5185;&#x5b58;&#x5f00;&#x9500;&#x3002;"/>
</node>
</node>
<node CREATED="1464758332764" FOLDED="true" ID="ID_1128836803" MODIFIED="1464849974357" TEXT="SLUB &#x5206;&#x914d;&#x5668;&#x7684;&#x8bbe;&#x8ba1;&#x539f;&#x7406;">
<node CREATED="1464758355394" FOLDED="true" ID="ID_1613136943" MODIFIED="1464807263305" TEXT="SLAB &#x5206;&#x914d;&#x5668;&#x7684;&#x4e0d;&#x8db3;">
<node CREATED="1464758382334" ID="ID_461588601" MODIFIED="1464758392296">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      SLAB &#20998;&#37197;&#22120;&#22810;&#24180;&#20197;&#26469;&#19968;&#30452;&#20301;&#20110; Linux &#20869;&#26680;&#30340;&#20869;&#23384;&#31649;&#29702;&#37096;&#20998;&#30340;&#26680;&#24515;&#22320;&#24102;&#65292;&#20869;&#26680;&#40657;&#23458;&#20204;&#19968;&#33324;&#19981;&#24895;&#24847;&#20027;&#21160;&#21435;&#26356;&#25913;&#23427;&#30340;&#20195;&#30721;&#65292;&#22240;&#20026;&#23427;&#23454;&#22312;&#26159;&#38750;&#24120;&#22797;&#26434;&#65292;&#32780;&#19988;&#22312;&#22823;&#22810;&#25968;&#24773;&#20917;&#19979;&#65292;&#23427;&#30340;&#24037;&#20316;&#23436;&#25104;&#30340;&#30456;&#24403;&#19981;&#38169;&#12290;&#20294;&#26159;&#65292;&#38543; &#30528;&#22823;&#35268;&#27169;&#22810;&#22788;&#29702;&#22120;&#31995;&#32479;&#21644; NUMA&#31995;&#32479;&#30340;&#24191;&#27867;&#24212;&#29992;&#65292;SLAB &#20998;&#37197;&#22120;&#36880;&#28176;&#26292;&#38706;&#20986;&#33258;&#36523;&#30340;&#20005;&#37325;&#19981;&#36275;&#65306;
    </p>
    <ol type="1">
      <li>
        &#36739;&#22810;&#22797;&#26434;&#30340;&#38431;&#21015;&#31649;&#29702;&#12290;&#22312; SLAB &#20998;&#37197;&#22120;&#20013;&#23384;&#22312;&#20247;&#22810;&#30340;&#38431;&#21015;&#65292;&#20363;&#22914;&#38024;&#23545;&#22788;&#29702;&#22120;&#30340;&#26412;&#22320;&#23545;&#35937;&#32531;&#23384;&#38431;&#21015;&#65292;slab &#20013;&#31354;&#38386;&#23545;&#35937;&#38431;&#21015;&#65292;&#27599;&#20010; slab &#22788;&#20110;&#19968;&#20010;&#29305;&#23450;&#29366;&#24577;&#30340;&#38431;&#21015;&#20013;&#65292;&#29978;&#33267;&#32531;&#20914;&#21306;&#25511;&#21046;&#32467;&#26500;&#20063;&#22788;&#20110;&#19968;&#20010;&#38431;&#21015;&#20043;&#20013;&#12290;&#26377;&#25928;&#22320;&#31649;&#29702;&#36825;&#20123;&#19981;&#21516;&#30340;&#38431;&#21015;&#26159;&#19968;&#20214;&#36153;&#21147;&#19988;&#22797;&#26434;&#30340;&#24037;&#20316;&#12290;
      </li>
      <li>
        slab &#31649;&#29702;&#25968;&#25454;&#21644;&#38431;&#21015;&#30340;&#23384;&#20648;&#24320;&#38144;&#27604;&#36739;&#22823;&#12290;&#27599;&#20010; slab &#38656;&#35201;&#19968;&#20010; struct slab &#25968;&#25454;&#32467;&#26500;&#21644;&#19968;&#20010;&#31649;&#29702;&#25152;&#26377;&#31354;&#38386;&#23545;&#35937;&#30340; kmem_bufctl_t&#65288;4 &#23383;&#33410;&#30340;&#26080;&#31526;&#21495;&#25972;&#25968;&#65289;&#30340;&#25968;&#32452;&#12290;&#24403;&#23545;&#35937;&#20307;&#31215;&#36739;&#23569;&#26102;&#65292;kmem_bufctl_t &#25968;&#32452;&#23558;&#36896;&#25104;&#36739;&#22823;&#30340;&#24320;&#38144;&#65288;&#27604;&#22914;&#23545;&#35937;&#22823;&#23567;&#20026;32&#23383;&#33410;&#26102;&#65292;&#23558;&#28010;&#36153; 1/8 &#30340;&#31354;&#38388;&#65289;&#12290;&#20026;&#20102;&#20351;&#24471;&#23545;&#35937;&#22312;&#30828;&#20214;&#39640;&#36895;&#32531;&#23384;&#20013;&#23545;&#40784;&#21644;&#20351;&#29992;&#30528;&#33394;&#31574;&#30053;&#65292;&#36824;&#24517;&#39035;&#28010;&#36153;&#39069;&#22806;&#30340;&#20869;&#23384;&#12290;&#21516;&#26102;&#65292;&#32531;&#20914;&#21306;&#38024;&#23545;&#33410;&#28857;&#21644;&#22788;&#29702;&#22120;&#30340;&#38431;&#21015;&#20063;&#20250;&#28010;&#36153;&#19981;&#23569;&#20869;&#23384;&#12290;&#27979;&#35797;&#34920;&#26126;&#22312;&#19968; &#20010; 1000 &#33410;&#28857;/&#22788;&#29702;&#22120;&#30340;&#22823;&#35268;&#27169; NUMA &#31995;&#32479;&#20013;&#65292;&#25968; GB &#20869;&#23384;&#34987;&#29992;&#26469;&#32500;&#25252;&#38431;&#21015;&#21644;&#23545;&#35937;&#30340;&#24341;&#29992;&#12290;
      </li>
      <li>
        &#32531;&#20914;&#21306;&#20869;&#23384;&#22238;&#25910;&#27604;&#36739;&#22797;&#26434;&#12290;
      </li>
      <li>
        &#23545; NUMA &#30340;&#25903;&#25345;&#38750;&#24120;&#22797;&#26434;&#12290;SLAB &#23545; NUMA &#30340;&#25903;&#25345;&#22522;&#20110;&#29289;&#29702;&#39029;&#26694;&#20998;&#37197;&#22120;&#65292;&#26080;&#27861;&#32454;&#31890;&#24230;&#22320;&#20351;&#29992;&#23545;&#35937;&#65292;&#22240;&#27492;&#19981;&#33021;&#20445;&#35777;&#22788;&#29702;&#22120;&#32423;&#32531;&#23384;&#30340;&#23545;&#35937;&#26469;&#33258;&#21516;&#19968;&#33410;&#28857;&#12290;
      </li>
      <li>
        &#20887;&#20313;&#30340; Partial &#38431;&#21015;&#12290;SLAB &#20998;&#37197;&#22120;&#38024;&#23545;&#27599;&#20010;&#33410;&#28857;&#37117;&#26377;&#19968;&#20010; Partial &#38431;&#21015;&#65292;&#38543;&#30528;&#26102;&#38388;&#27969;&#36893;&#65292;&#23558;&#26377;&#22823;&#37327;&#30340; Partial slab &#20135;&#29983;&#65292;&#19981;&#21033;&#20110;&#20869;&#23384;&#30340;&#21512;&#29702;&#20351;&#29992;&#12290;
      </li>
      <li>
        &#24615;&#33021;&#35843;&#20248;&#27604;&#36739;&#22256;&#38590;&#12290;&#38024;&#23545;&#27599;&#20010; slab &#21487;&#20197;&#35843;&#25972;&#30340;&#21442;&#25968;&#27604;&#36739;&#22797;&#26434;&#65292;&#32780;&#19988;&#20998;&#37197;&#22788;&#29702;&#22120;&#26412;&#22320;&#32531;&#23384;&#26102;&#65292;&#19981;&#24471;&#19981;&#20351;&#29992;&#33258;&#26059;&#38145;&#12290;
      </li>
      <li>
        &#35843;&#35797;&#21151;&#33021;&#27604;&#36739;&#38590;&#20110;&#20351;&#29992;&#12290;
      </li>
    </ol>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464758415284" ID="ID_251873447" MODIFIED="1464758422086">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    &#20026;&#20102;&#35299;&#20915;&#20197;&#19978; SLAB &#20998;&#37197;&#22120;&#30340;&#19981;&#36275;&#20043;&#22788;&#65292;&#20869;&#26680;&#24320;&#21457;&#20154;&#21592; Christoph Lameter &#22312; Linux &#20869;&#26680; 2.6.22 &#29256;&#26412;&#20013;&#24341;&#20837;&#19968;&#31181;&#26032;&#30340;&#35299;&#20915;&#26041;&#26696;&#65306;SLUB &#20998;&#37197;&#22120;&#12290;SLUB &#20998;&#37197;&#22120;&#29305;&#28857;&#26159;&#31616;&#21270;&#35774;&#35745;&#29702;&#24565;&#65292;&#21516;&#26102;&#20445;&#30041; SLAB &#20998;&#37197;&#22120;&#30340;&#22522;&#26412;&#24605;&#24819;&#65306;&#27599;&#20010;&#32531;&#20914;&#21306;&#30001;&#22810;&#20010;&#23567;&#30340; slab &#32452;&#25104;&#65292;&#27599;&#20010; slab &#21253;&#21547;&#22266;&#23450;&#25968;&#30446;&#30340;&#23545;&#35937;&#12290;SLUB &#20998;&#37197;&#22120;&#31616;&#21270;&#20102;kmem_cache&#65292;slab &#31561;&#30456;&#20851;&#30340;&#31649;&#29702;&#25968;&#25454;&#32467;&#26500;&#65292;&#25682;&#24323;&#20102;SLAB &#20998;&#37197;&#22120;&#20013;&#20247;&#22810;&#30340;&#38431;&#21015;&#27010;&#24565;&#65292;&#24182;&#38024;&#23545;&#22810;&#22788;&#29702;&#22120;&#12289;NUMA &#31995;&#32479;&#36827;&#34892;&#20248;&#21270;&#65292;&#20174;&#32780;&#25552;&#39640;&#20102;&#24615;&#33021;&#21644;&#21487;&#25193;&#23637;&#24615;&#24182;&#38477;&#20302;&#20102;&#20869;&#23384;&#30340;&#28010;&#36153;&#12290;&#20026;&#20102;&#20445;&#35777;&#20869;&#26680;&#20854;&#23427;&#27169;&#22359;&#33021;&#22815;&#26080;&#32541;&#36801;&#31227;&#21040; SLUB &#20998;&#37197;&#22120;&#65292;SLUB &#36824;&#20445;&#30041;&#20102;&#21407;&#26377; SLAB &#20998;&#37197;&#22120;&#25152;&#26377;&#30340;&#25509;&#21475; API &#20989;&#25968;&#12290;
  </body>
</html></richcontent>
</node>
<node CREATED="1464761382218" ID="ID_603836150" MODIFIED="1464761384152" TEXT="&#x5728; SLUB &#x5206;&#x914d;&#x5668;&#x4e2d;&#xff0c;&#x4e00;&#x4e2a; slab &#x5c31;&#x662f;&#x4e00;&#x7ec4;&#x8fde;&#x7eed;&#x7684;&#x7269;&#x7406;&#x5185;&#x5b58;&#x9875;&#x6846;&#xff0c;&#x88ab;&#x5212;&#x5206;&#x6210;&#x4e86;&#x56fa;&#x5b9a;&#x6570;&#x76ee;&#x7684;&#x5bf9;&#x8c61;&#x3002;slab &#x6ca1;&#x6709;&#x989d;&#x5916;&#x7684;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x961f;&#x5217;&#xff08;&#x8fd9;&#x4e0e; SLAB &#x4e0d;&#x540c;&#xff09;&#xff0c;&#x800c;&#x662f;&#x91cd;&#x7528;&#x4e86;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x81ea;&#x8eab;&#x7684;&#x7a7a;&#x95f4;&#x3002;slab &#x4e5f;&#x6ca1;&#x6709;&#x989d;&#x5916;&#x7684;&#x63cf;&#x8ff0;&#x7ed3;&#x6784;&#xff0c;&#x56e0;&#x4e3a; SLUB &#x5206;&#x914d;&#x5668;&#x5728;&#x4ee3;&#x8868;&#x7269;&#x7406;&#x9875;&#x6846;&#x7684; page &#x7ed3;&#x6784;&#x4e2d;&#x52a0;&#x5165; freelist&#xff0c;inuse &#x548c; slab &#x7684; union &#x5b57;&#x6bb5;&#xff0c;&#x5206;&#x522b;&#x4ee3;&#x8868;&#x7b2c;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;&#xff0c;&#x5df2;&#x5206;&#x914d;&#x5bf9;&#x8c61;&#x7684;&#x6570;&#x76ee;&#x548c;&#x7f13;&#x51b2;&#x533a; kmem_cache &#x7ed3;&#x6784;&#x7684;&#x6307;&#x9488;&#xff0c;&#x6240;&#x4ee5; slab &#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x7269;&#x7406;&#x9875;&#x6846;&#x7684; page &#x7ed3;&#x6784;&#x5c31;&#x53ef;&#x4ee5;&#x63cf;&#x8ff0;&#x81ea;&#x5df1;&#x3002;"/>
<node CREATED="1464767048523" ID="ID_1018816971" MODIFIED="1464767604320">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25152;&#26377;&#30340;&#26377;&#21487;&#20998;&#37197;&#23545;&#35937;&#30340;slab(&#31216;&#20043;&#20026;partial slab)&#37117;&#34987;&#38142;&#20837;struct kmem_cache_node&#30340;partial&#38431;&#21015;&#20013;&#12290;&#20026;&#20102;&#22810;&#26680;&#26102;&#30340;&#26080;&#38145;&#25805;&#20316;&#65292;&#27599;&#20010;CPU&#26377;&#19968;&#20010;&#26412;&#22320;&#32531;&#23384;(struct kmem_cache_cpu)&#12290;&#27599;&#27425;&#20998;&#37197;&#23545;&#35937;&#37117;&#20174;CPU&#26412;&#22320;&#32531;&#23384;&#20013;&#20998;&#37197;&#12290;&#21482;&#26377;&#22312;CPU&#26412;&#22320;&#32531;&#23384;&#20013;&#20998;&#37197;&#19981;&#21040;&#23545;&#35937;&#26102;&#65292;&#25165;&#20174;struct kmem_cache_node&#30340;partial&#38431;&#21015;&#20013;&#21462;&#20986;&#19968;&#37096;&#20998;partial slab&#21040;CPU&#26412;&#22320;&#32531;&#23384;&#12290;&#20026;&#20102;&#36991;&#20813;&#39057;&#32321;&#21152;&#38145;&#65292;&#27599;&#27425;&#19981;&#20165;&#20165;&#21462;&#19968;&#20010;partial slab&#65292;&#32780;&#26159;&#35201;&#21462;&#22810;&#20010;partial slab&#65292;&#26631;&#20934;&#26159;&#25152;&#26377;&#36825;&#20123;&#31227;&#21040;CPU&#26412;&#22320;&#32531;&#23384;&#20013;&#30340;partial slab&#30340;&#31354;&#38386;&#23545;&#35937;&#25968;&#24635;&#21644;&#36798;&#21040;&#38408;&#20540;struct kmem_cache *s -&gt; cpu_partial&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464849017135" ID="ID_479004670" MODIFIED="1464849019727" TEXT="&#x5728;Slub&#x5206;&#x914d;&#x5668;&#x4e2d;&#xff0c;&#x5982;&#x679c;&#x4e00;&#x4e2a;slab&#x4f4d;&#x4e8e;&#x672c;&#x5730;CPU&#x7f13;&#x5b58;&#x4e0a;&#x7684;&#x8bdd;&#x5219;&#x79f0;&#x5176;&#x5904;&#x4e8e;&#x51bb;&#x7ed3;&#x72b6;&#x6001;(frozen)&#xff0c;&#x5982;&#x679c;&#x5904;&#x4e8e;slab &#x94fe;&#x8868;&#x4e2d;&#x4e2d;&#xff0c;&#x5219;&#x79f0;&#x5176;&#x5904;&#x4e8e;&#x89e3;&#x51bb;&#x72b6;&#x6001;(unfrozen)&#x3002;"/>
</node>
<node CREATED="1464807283115" FOLDED="true" ID="ID_1247890331" MODIFIED="1464807503961" TEXT="slub&#x4e0e;slab&#x7684;&#x533a;&#x522b;">
<node CREATED="1464807302004" ID="ID_1123574159" MODIFIED="1464807319642">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4">Slab&#20998;&#37197;&#22120;&#19968;&#30452;&#22788;&#20110;&#20869;&#26680;&#20869;&#23384;&#31649;&#29702;&#30340;&#26680;&#24515;&#22320;&#20301;&#65292;&#23613;&#31649;&#22914;&#27492;&#65292;&#23427;&#36824;&#26159;&#25317;&#26377;&#33258;&#36523;&#30340;&#32570;&#28857;&#65292;&#26368;&#26126;&#26174;&#30340;&#20004;&#28857;&#23601;&#26159;&#22797;&#26434;&#24615;&#21644;&#36807;&#22810;&#30340;&#31649;&#29702;&#25968;&#25454;&#36896;&#25104;&#30340;&#20869;&#23384;&#19978;&#30340;&#24320;&#38144;&#12290;&#38024;&#23545;&#36825;&#20123;&#38382;&#39064;&#65292;linux&#24341;&#20837;&#20102;slub&#20998;&#37197;&#22120;&#65292;</font><font size="18px">slub&#20998;&#37197;&#22120;&#20445;&#30041;&#20102;slab&#20998;&#37197;&#22120;&#30340;&#25152;&#26377;&#25509;&#21475;</font><font size="4">&#65292;&#23454;&#38469;&#19978;slub&#20998;&#37197;&#22120;&#30340;&#27169;&#22411;&#21644;slab&#20998;&#37197;&#30340;&#27169;&#22411;&#26159;&#22522;&#26412;&#19968;&#33268;&#30340;&#65292;&#21482;&#19981;&#36807;&#22312;&#19968;&#20123;&#22320;&#26041;&#36827;&#34892;&#20102;&#31934;&#31616;&#65292;&#36825;&#20063;&#20351;&#24471;slub&#20998;&#37197;&#22120;&#24037;&#20316;&#36215;&#26469;&#26356;&#20026;&#28216;&#20995;&#26377;&#20313;&#12290;&#20004;&#32773;&#20027;&#35201;&#30340;&#21306;&#21035;&#22914;&#19979;&#65306;</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464807336457" ID="ID_698813948" MODIFIED="1464807378474">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <ul>
      <li>
        <font size="4">slab&#20998;&#37197;&#22120;&#20026;&#20102;&#22686;&#21152;&#20998;&#37197;&#36895;&#24230;&#65292;&#24341;&#20837;&#20102;&#19968;&#20123;&#31649;&#29702;&#25968;&#32452;&#65292;&#22914;slab&#31649;&#29702;&#21306;&#20013;&#30340; kmem_bufctl&#25968;&#32452;&#21644;&#32039;&#38543;&#26412;&#22320;CPU&#32467;&#26500;&#21518;&#38754;&#30340;&#29992;&#26469;&#36319;&#36394;&#26368;&#28909;&#31354;&#38386;&#23545;&#35937;&#30340;&#25968;&#32452;&#65292;&#36825;&#20123;&#32467;&#26500;&#34429;&#28982;&#21152;&#24555;&#20102;&#20998;&#37197;&#23545;&#35937;&#30340;&#36895;&#24230;&#65292;&#20294;&#20063;&#22686;&#21152;&#20102;&#19968;&#23450;&#30340;&#22797;&#26434;&#24615;&#65292;&#32780;&#19988;&#38543; &#30528;&#31995;&#32479;&#21464;&#24471;&#24222;&#22823;&#65292;&#20854;&#23545;&#20869;&#23384;&#30340;&#24320;&#38144;&#20063;&#36234;&#26126;&#26174;&#12290;&#32780;slub&#20998;&#37197;&#22120;&#21017;&#23436;&#20840;&#25682;&#24323;&#20102;&#36825;&#20123;&#31649;&#29702;&#25968;&#25454;&#65292;&#20010;&#20154;&#35273;&#24471;&#36825;&#20063;&#26159;slub&#20998;&#37197;&#22120;&#26368;&#31934;&#39635;&#30340;&#22320;&#26041;&#65292;&#33267;&#20110;slub&#20998;&#37197;&#22120;&#30340; &#20855;&#20307;&#20570;&#27861;&#26159;&#24590;&#26679;&#30340;&#65292;&#21518;&#38754;&#20877;&#20570;&#20998;&#26512;&#65307; </font>
      </li>
      <li>
        <font size="4">slab&#20998;&#37197;&#22120;&#38024;&#23545;&#27599;&#20010;&#32531;&#23384;&#65292;&#26681;&#25454;slab&#30340;&#29366;&#24577;&#21010;&#20998;&#20102;3&#20010;&#38142;&#34920;--full,partial&#21644;free. slub&#20998;&#37197;&#22120;&#20570;&#20102;&#31616;&#21270;&#65292;&#21435;&#25481;&#20102;free&#38142;&#34920;&#65292;&#23545;&#20110;&#31354;&#38386;&#30340;slab,slub&#20998;&#37197;&#22120;&#36873;&#25321;&#30452;&#25509;&#23558;&#20854;&#37322;&#25918;&#65307; </font>
      </li>
      <li>
        <font size="4">slub&#20998;&#37197;&#22120;&#25682;&#24323;&#20102;slab&#20998;&#37197;&#22120;&#20013;&#30340;&#30528;&#33394;&#27010;&#24565;&#65292;&#22312;slab&#20998;&#37197;&#22120;&#20013;&#65292;&#30001;&#20110;&#39068;&#33394;&#30340;&#20010;&#25968;&#26377;&#38480;&#65292;&#22240;&#27492;&#30528;&#33394;&#20063;&#26080;&#27861;&#23436;&#20840;&#35299;&#20915;slab&#20043;&#38388;&#30340;&#32531;&#23384;&#34892;&#20914;&#31361;&#38382;&#39064;&#65292;&#32771;&#34385;&#21040;&#30528;&#33394;&#36896;&#25104;&#20102;&#20869;&#23384;&#19978;&#30340;&#28010;&#36153;&#65292;slub&#20998;&#37197;&#22120;&#27809;&#26377;&#24341;&#20837;&#30528;&#33394;&#65307; </font>
      </li>
      <li>
        <font size="4">&#22312;NUMA&#26550;&#26500;&#30340;&#25903;&#25345;&#19978;&#65292;slub&#20998;&#37197;&#22120;&#20063;&#36739;slab&#20998;&#37197;&#22120;&#20570;&#20102;&#31616;&#21270;&#12290; </font>
      </li>
    </ul>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1464631871425" ID="ID_585083734" MODIFIED="1464891688777" TEXT="&#x57fa;&#x672c;&#x6846;&#x67b6;">
<node CREATED="1464640284134" ID="ID_826673377" MODIFIED="1464640328548">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/slab_2.png" />
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464640284134" ID="ID_503051206" MODIFIED="1464807524792">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/slab_4.png" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464634371970" ID="ID_658458999" MODIFIED="1464634380716" TEXT="&#x6570;&#x636e;&#x7ed3;&#x6784;">
<node CREATED="1464634644552" ID="ID_26302539" MODIFIED="1464892332805" TEXT="struct kmem_cache">
<node CREATED="1464635390154" ID="ID_274473299" MODIFIED="1464828567912">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;struct kmem_cache_cpu __percpu *cpu_slab
    </p>
    &#20026;&#27599;&#20010;&#22788;&#29702;&#22120;&#21019;&#24314;&#30340; slab &#20449;&#24687;&#30340;&#25968;&#25454;&#32467;&#26500;

    <p>
      
    </p>
    &#20026;&#20102;&#25903;&#25345;&#22810;&#22788;&#29702;&#22120;&#21516;&#26102;&#20998;&#37197;&#23545;&#35937;&#65292;&#32531;&#20914;&#21306;&#20026;&#27599;&#20010;&#22788;&#29702;&#22120;&#32500;&#25252;&#19968;&#20010;&#26412;&#22320;&#32531;&#23384;&#12290;&#22788;&#29702;&#22120;&#30452;&#25509;&#20174;&#26412;&#22320;&#32531;&#23384;&#20013;&#20998;&#37197;&#23545;&#35937;&#65292;&#20174;&#32780;&#36991;&#20813;&#20102;&#38145;&#30340;&#20351;&#29992;&#65307;&#24403;&#26412;&#22320;&#32531;&#23384;&#20026;&#31354;&#26102;&#65292;&#20174; slab &#20013;&#25209;&#37327;&#20998;&#37197;&#23545;&#35937;&#21040;&#26412;&#22320;&#32531;&#23384;&#12290;
  </body>
</html></richcontent>
<node CREATED="1464639218645" ID="ID_186169342" MODIFIED="1464639221042" TEXT="void **freelist">
<node CREATED="1464761294023" ID="ID_919873295" MODIFIED="1464761296222" TEXT="&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x961f;&#x5217;&#x7684;&#x6307;&#x9488;&#xff0c;&#x5373;&#x7b2c;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;"/>
</node>
<node CREATED="1464639229613" ID="ID_89187681" MODIFIED="1464639232053" TEXT="unsigned long tid">
<node CREATED="1464678859690" ID="ID_1793935616" MODIFIED="1464806562319" TEXT="&#x4e8b;&#x52a1;id&#xff0c;&#x5168;&#x5c40;&#x552f;&#x4e00;"/>
</node>
<node CREATED="1464828581590" FOLDED="true" ID="ID_850596854" MODIFIED="1464889173892">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct page *page
    </p>
    &#36825;&#26159;CPU&#26412;&#22320;&#32531;&#23384;&#30340;active slab

    <p>
      &#27880;&#24847;&#19968;&#20010;slab&#26159;&#19968;&#31995;&#21015;&#36830;&#32493;&#30340;&#39029;&#26694;&#65292;slab&#25551;&#36848;&#31526;&#25918;&#22312;&#31532;&#19968;&#20010;&#39029;&#26694;&#30340;&#22836;&#37096;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464828641828" ID="ID_1557056703" MODIFIED="1464828687741">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/slab_5.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1464639239206" FOLDED="true" ID="ID_1947484422" MODIFIED="1464889172068">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct page
    </p>
  </body>
</html></richcontent>
<node CREATED="1464639302710" ID="ID_574330349" MODIFIED="1464639304092" TEXT="unsigned long flags"/>
<node CREATED="1464639316095" ID="ID_389459499" MODIFIED="1464740529852" TEXT="union">
<node CREATED="1464639318596" ID="ID_735273205" MODIFIED="1464639319521" TEXT="struct address_space *mapping"/>
<node CREATED="1464639338092" ID="ID_366551214" MODIFIED="1464639338909" TEXT="void *s_mem"/>
</node>
<node CREATED="1464639355199" ID="ID_576907260" MODIFIED="1464742116102" TEXT="struct">
<node CREATED="1464639366295" ID="ID_1195967459" MODIFIED="1464742119503" TEXT="union">
<node CREATED="1464639370407" ID="ID_1340151952" MODIFIED="1464639371660" TEXT="pgoff_t index"/>
<node CREATED="1464639382031" ID="ID_1448677833" MODIFIED="1464639384640" TEXT="void *freelist"/>
<node CREATED="1464639390959" ID="ID_1471802035" MODIFIED="1464639391529" TEXT="bool pfmemalloc"/>
</node>
<node CREATED="1464639412823" ID="ID_782313054" MODIFIED="1464742121103" TEXT="union">
<node CREATED="1464639415479" ID="ID_1949821279" MODIFIED="1464639416037" TEXT="unsigned long counters;"/>
<node CREATED="1464639431599" ID="ID_1830666180" MODIFIED="1464639634571" TEXT="struct">
<node CREATED="1464639444007" ID="ID_1024475616" MODIFIED="1464639447145" TEXT="union">
<node CREATED="1464639461823" ID="ID_588038310" MODIFIED="1464639462514" TEXT="atomic_t _mapcount"/>
<node CREATED="1464639473502" ID="ID_1375140439" MODIFIED="1464639743982" TEXT="struct">
<node CREATED="1464639475366" ID="ID_74618423" MODIFIED="1464639475959" TEXT="unsigned inuse:16"/>
<node CREATED="1464639487479" ID="ID_1192473577" MODIFIED="1464639488018" TEXT="unsigned objects:15"/>
<node CREATED="1464639497279" ID="ID_1397490134" MODIFIED="1464639498799" TEXT="unsigned frozen:1"/>
</node>
<node CREATED="1464639512327" ID="ID_1318225848" MODIFIED="1464639512937" TEXT="int units"/>
</node>
<node CREATED="1464639447828" ID="ID_1140000074" MODIFIED="1464639449033" TEXT="atomic_t _count"/>
</node>
<node CREATED="1464639536735" ID="ID_710387917" MODIFIED="1464639537358" TEXT="unsigned int active"/>
</node>
</node>
<node CREATED="1464639826445" FOLDED="true" ID="ID_1437785120" MODIFIED="1464889080709" TEXT="union">
<node CREATED="1464639829614" ID="ID_704704128" MODIFIED="1464639830230" TEXT="struct list_head lru"/>
<node CREATED="1464639840606" ID="ID_578298924" MODIFIED="1464639843425" TEXT="struct">
<node CREATED="1464639844583" ID="ID_1970470707" MODIFIED="1464639845270" TEXT="struct page *next"/>
<node CREATED="1464639870087" ID="ID_91998985" MODIFIED="1464639870633" TEXT="short int pages"/>
<node CREATED="1464639880799" ID="ID_331285093" MODIFIED="1464639881334" TEXT="short int pobjects"/>
</node>
<node CREATED="1464639899895" ID="ID_127730637" MODIFIED="1464639900413" TEXT="struct list_head list"/>
<node CREATED="1464639912359" ID="ID_538326010" MODIFIED="1464639912886" TEXT="struct slab *slab_page"/>
<node CREATED="1464639923303" ID="ID_1608112027" MODIFIED="1464639925770" TEXT="struct rcu_head rcu_head"/>
<node CREATED="1464639939581" ID="ID_1113583601" MODIFIED="1464639940106" TEXT="pgtable_t pmd_huge_pte"/>
</node>
<node CREATED="1464639967799" FOLDED="true" ID="ID_187780613" MODIFIED="1464640089608" TEXT="union">
<node CREATED="1464639979814" ID="ID_1903130686" MODIFIED="1464639980470" TEXT="unsigned long private"/>
<node CREATED="1464639994285" ID="ID_955779221" MODIFIED="1464639994815" TEXT="spinlock_t ptl"/>
<node CREATED="1464640007151" ID="ID_1458749208" MODIFIED="1464640009237" TEXT="struct kmem_cache *slab_cache"/>
<node CREATED="1464640018703" ID="ID_902629455" MODIFIED="1464640020305" TEXT="struct page *first_page"/>
</node>
<node CREATED="1464640051399" ID="ID_501240725" MODIFIED="1464640051978" TEXT="void *virtual"/>
<node CREATED="1464640064805" ID="ID_378810215" MODIFIED="1464640065366" TEXT="unsigned long debug_flags"/>
<node CREATED="1464640075261" ID="ID_1196530464" MODIFIED="1464640076910" TEXT="void *shadow"/>
<node CREATED="1464640086565" ID="ID_1163145530" MODIFIED="1464640087058" TEXT="int _last_cpupid"/>
</node>
</node>
<node CREATED="1464639250159" ID="ID_1793936048" MODIFIED="1464767042275">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct page *partial
    </p>
    <p>
      &#36825;&#26159;&#19968;&#20010;slab&#30340;&#21015;&#34920;&#65292;&#20854;&#20013;&#27599;&#20010;slab&#37117;&#26377;&#31354;&#38386;&#30340;&#23545;&#35937;&#21487;&#20379;&#20998;&#37197;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464639264396" ID="ID_1840228018" MODIFIED="1464639264993" TEXT="unsigned stat[NR_SLUB_STAT_ITEMS]"/>
</node>
<node CREATED="1464635390154" ID="ID_1031424396" MODIFIED="1464635390154" TEXT=" unsigned long flags">
<node CREATED="1464805943216" ID="ID_138498723" MODIFIED="1464805945226" TEXT="cache&#x5c5e;&#x6027;&#x7684;&#x63cf;&#x8ff0;&#x6807;&#x8bc6;"/>
</node>
<node CREATED="1464635390154" ID="ID_704422799" MODIFIED="1464635390154" TEXT=" unsigned long min_partial">
<node CREATED="1464806776979" ID="ID_193577536" MODIFIED="1464806781391" TEXT="partial slab&#x94fe;&#x8868;&#x4e2d;&#x7684;&#x6700;&#x5c0f;slab&#x6570;&#x76ee;"/>
</node>
<node CREATED="1464635390154" ID="ID_183744412" MODIFIED="1464635390154" TEXT=" int size">
<node CREATED="1464672739799" ID="ID_1299597611" MODIFIED="1464672792015" TEXT="&#x5bf9;&#x8c61;&#x7684;&#x5927;&#x5c0f;&#xff0c;&#x8ba1;&#x7b97;&#x4e86;meta data&#x90e8;&#x5206;"/>
</node>
<node CREATED="1464635390154" ID="ID_1616646144" MODIFIED="1464635390154" TEXT=" int object_size">
<node CREATED="1464672739799" ID="ID_1466269020" MODIFIED="1464672873217" TEXT="&#x5bf9;&#x8c61;&#x7684;&#x5927;&#x5c0f;&#xff0c;&#x4e0d;&#x5305;&#x542b;meta data&#x90e8;&#x5206;"/>
</node>
<node CREATED="1464635390154" ID="ID_1927252627" MODIFIED="1464635390154" TEXT=" int offset">
<node CREATED="1464758797709" ID="ID_226713248" MODIFIED="1464758800242" TEXT="&#x5b58;&#x653e;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x6307;&#x9488;&#x7684;&#x4f4d;&#x79fb;"/>
<node CREATED="1464758856254" ID="ID_446921387" MODIFIED="1464758956483" TEXT="&#x4e0b;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;&#x5b58;&#x653e;&#x5728;&#x4e0a;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x5185;&#x90e8;&#x6216;&#x8005;&#x540e;&#x9762;&#xff0c;&#x6240;&#x4ee5;&#x8fd9;&#x91cc;&#x7684;&#x504f;&#x79fb;&#x662f;&#x76f8;&#x5bf9;&#x4e8e;&#x5bf9;&#x8c61;&#x800c;&#x8a00;"/>
</node>
<node CREATED="1464635390154" ID="ID_1468581367" MODIFIED="1464635390154" TEXT=" int cpu_partial">
<node CREATED="1464767638580" ID="ID_1418900081" MODIFIED="1464767666022" TEXT="&#x5728;CPU&#x672c;&#x5730;&#x7f13;&#x5b58;&#x4e2d;&#x5206;&#x914d;&#x4e0d;&#x5230;&#x5bf9;&#x8c61;&#x65f6;&#xff0c;&#x9700;&#x8981;&#x4ece;struct kmem_cache_node&#x7684;partial&#x961f;&#x5217;&#x4e2d;&#x53d6;&#x51fa;&#x4e00;&#x90e8;&#x5206;partial slab&#x5230;CPU&#x672c;&#x5730;&#x7f13;&#x5b58;&#x3002;&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x9891;&#x7e41;&#x52a0;&#x9501;&#xff0c;&#x6bcf;&#x6b21;&#x4e0d;&#x4ec5;&#x4ec5;&#x53d6;&#x4e00;&#x4e2a;partial slab&#xff0c;&#x800c;&#x662f;&#x8981;&#x53d6;&#x591a;&#x4e2a;partial slab&#xff0c;&#x6807;&#x51c6;&#x662f;&#x6240;&#x6709;&#x8fd9;&#x4e9b;&#x79fb;&#x5230;CPU&#x672c;&#x5730;&#x7f13;&#x5b58;&#x4e2d;&#x7684;partial slab&#x7684;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x6570;&#x603b;&#x548c;&#x8fbe;&#x5230;&#x9608;&#x503c;struct kmem_cache *s -&gt; cpu_partial&#x3002;"/>
</node>
<node CREATED="1464635390154" ID="ID_19675996" MODIFIED="1464635390154" TEXT=" struct kmem_cache_order_objects oo">
<node CREATED="1464805996584" ID="ID_664381627" MODIFIED="1464806478844">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#39640;16&#20301;&#23384;&#25918;&#20998;&#37197;&#32473;slab&#30340;&#39029;&#26694;&#30340;&#38454;&#25968;&#65292;&#21363;&#27599;&#27425;&#26032;&#20998;&#37197;slab&#26102;&#24212;&#35813;&#20998;&#37197;&#22810;&#23569;&#20010;&#39029;&#26694;&#32473;&#36825;&#20010;slab&#12290;
    </p>
    <p>
      &#20302;16&#20301;&#23384;&#25918;slab&#20013;&#30340;&#23545;&#35937;&#25968;&#37327;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464818696335" ID="ID_271279736" MODIFIED="1464818801911" TEXT="&#x6b63;&#x5e38;&#x65f6;&#x6309;&#x7167;oo&#x4e3a;slab&#x5206;&#x914d;&#x9875;&#x3002;"/>
</node>
<node CREATED="1464635390154" ID="ID_1283063085" MODIFIED="1464635390154" TEXT=" struct kmem_cache_order_objects max">
<node CREATED="1464818696335" ID="ID_654414849" MODIFIED="1464818810519" TEXT="&#x5185;&#x5b58;&#x7a7a;&#x95f2;&#x65f6;&#x6309;&#x7167;max&#x4e3a;slab&#x5206;&#x914d;&#x9875;&#x3002;"/>
</node>
<node CREATED="1464635390154" ID="ID_1856571915" MODIFIED="1464635390154" TEXT=" struct kmem_cache_order_objects min">
<node CREATED="1464818696335" ID="ID_412932234" MODIFIED="1464818827614" TEXT="&#x5185;&#x5b58;&#x7d27;&#x5f20;&#x65f6;&#x6309;&#x7167;min&#x4e3a;slab&#x5206;&#x914d;&#x9875;&#x3002;"/>
</node>
<node CREATED="1464635390154" ID="ID_1481298911" MODIFIED="1464635390154" TEXT=" gfp_t allocflags">
<node CREATED="1464806677276" ID="ID_1070137747" MODIFIED="1464806680856" TEXT="&#x5206;&#x914d;&#x65f6;&#x7528;&#x7684;GFP&#x6807;&#x8bc6;"/>
</node>
<node CREATED="1464635390154" ID="ID_1293599743" MODIFIED="1464635390154" TEXT=" int refcount">
<node CREATED="1464806713699" ID="ID_1213918748" MODIFIED="1464806727891" TEXT="&#x7f13;&#x5b58;&#x4e2d;&#x5b58;&#x5728;&#x7684;&#x5bf9;&#x8c61;&#x79cd;&#x7c7b;&#x6570;&#x76ee;&#xff0c;&#x56e0;&#x4e3a;slub&#x5141;&#x8bb8;&#x7f13;&#x5b58;&#x590d;&#x7528;&#xff0c;&#x56e0;&#x6b64;&#x4e00;&#x4e2a;&#x7f13;&#x5b58;&#x4e2d;&#x53ef;&#x80fd;&#x5b58;&#x5728;&#x591a;&#x79cd;&#x5bf9;&#x8c61;&#x7c7b;&#x578b;"/>
<node CREATED="1464676064003" ID="ID_753199313" MODIFIED="1464676214337" TEXT="&#x4e00;&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x53ef;&#x80fd;&#x6709;&#x591a;&#x4e2a;&#x522b;&#x540d;&#xff0c;&#x6b64;&#x5f15;&#x7528;&#x8ba1;&#x6570;&#x8868;&#x793a;&#x6b64;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x88ab;&#x591a;&#x5c11;&#x4e2a;&#x522b;&#x540d;&#x6240;&#x5f15;&#x7528;&#xff0c;&#x5f53;&#x5b83;&#x53d8;&#x4e3a;0&#x65f6;&#x624d;&#x80fd;&#x9500;&#x6bc1;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x3002;"/>
<node CREATED="1464761266271" ID="ID_1246416365" MODIFIED="1464761268425" TEXT="SLUB &#x5206;&#x914d;&#x5668;&#x5177;&#x6709;&#x7f13;&#x51b2;&#x533a;&#x5408;&#x5e76;&#x7684;&#x529f;&#x80fd;&#xff1a;&#x5f53;&#x5185;&#x6838;&#x6267;&#x884c;&#x7eea;&#x8bf7;&#x6c42;&#x521b;&#x5efa;&#x65b0;&#x7684;&#x7f13;&#x51b2;&#x533a; C2 &#x65f6;&#xff0c;SLUB &#x5206;&#x914d;&#x5668;&#x4f1a;&#x5148;&#x641c;&#x7d22;&#x5df2;&#x521b;&#x5efa;&#x7684;&#x7f13;&#x51b2;&#x533a;&#xff0c;&#x5982;&#x679c;&#x53d1;&#x73b0;&#x67d0;&#x7f13;&#x51b2;&#x533a; C1 &#x7684;&#x5bf9;&#x8c61;&#x5927;&#x5c0f;&#x7565;&#x5927;&#x4e8e; C2&#xff0c;&#x5219;&#x91cd;&#x7528; C1&#x3002;&#x6d4b;&#x8bd5;&#x8868;&#x660e;&#xff0c;&#x8fd9;&#x9879;&#x529f;&#x80fd;&#x51cf;&#x5c11;&#x4e86;&#x5927;&#x7ea6; 50% &#x7684;&#x7f13;&#x51b2;&#x533a;&#x6570;&#x76ee;&#xff0c;&#x4ece;&#x800c;&#x51cf;&#x5c11;&#x4e86; slab &#x788e;&#x7247;&#x5e76;&#x63d0;&#x9ad8;&#x4e86;&#x5185;&#x5b58;&#x5229;&#x7528;&#x7387;&#x3002;"/>
</node>
<node CREATED="1464635390154" ID="ID_873266301" MODIFIED="1464635390154" TEXT=" void (*ctor)(void *)">
<node CREATED="1464672273043" ID="ID_1130143931" MODIFIED="1464672971993">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23545;&#35937;&#30340;&#26500;&#36896;&#20989;&#25968;&#65292;&#27599;&#27425;&#20998;&#37197;&#19968;&#20010;&#23545;&#35937;&#26102;&#35843;&#29992;&#27492;&#20989;&#25968;&#21021;&#22987;&#21270;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65306;&#23545;&#35937;&#24182;&#19981;&#19968;&#23450;&#26159;&#22312;&#20998;&#37197;&#26102;&#25165;&#34987;&#21021;&#22987;&#21270;&#65292;&#39640;&#36895;&#32531;&#23384;&#22312;&#21019;&#24314;slab&#25110;&#37322;&#25918;&#23545;&#35937;&#26102;&#37117;&#21487;&#33021;&#21021;&#22987;&#21270;&#23545;&#35937;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464635390154" ID="ID_1763447393" MODIFIED="1464635390154" TEXT=" int inuse">
<node CREATED="1464759040536" ID="ID_794506558" MODIFIED="1464759108196" TEXT="&#x5143;&#x6570;&#x636e;meta data&#x76f8;&#x5bf9;&#x4e8e;&#x5bf9;&#x8c61;&#x7684;&#x4f4d;&#x79fb;&#xff0c;&#x5143;&#x6570;&#x636e;meta data&#x662f;&#x6307;&#x5bf9;&#x8c61;&#x4e4b;&#x5916;&#x7684;&#x8f85;&#x52a9;&#x6570;&#x636e;"/>
</node>
<node CREATED="1464635390154" ID="ID_1789238935" MODIFIED="1464635390154" TEXT=" int align">
<node CREATED="1464677300866" ID="ID_1729537260" MODIFIED="1464677383505" TEXT="&#x5bf9;&#x8c61;&#x7684;&#x5bf9;&#x9f50;&#x4f4d;&#x7f6e;&#xff0c;&#x6bd4;&#x5982;&#x4e0e;cache line&#x5bf9;&#x9f50;&#x3002;"/>
</node>
<node CREATED="1464635390154" ID="ID_391469113" MODIFIED="1464635390154" TEXT=" int reserved"/>
<node CREATED="1464635390154" ID="ID_771038253" MODIFIED="1464635390154" TEXT=" const char *name">
<node CREATED="1464671500000" ID="ID_1343165987" MODIFIED="1464673035369" TEXT="&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7684;&#x540d;&#x5b57;"/>
</node>
<node CREATED="1464635390154" ID="ID_1507891305" MODIFIED="1464635390154" TEXT=" struct list_head list">
<node CREATED="1464759244652" ID="ID_612434804" MODIFIED="1464759371300" TEXT="&#x6240;&#x6709;&#x7684;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&quot;struct kmem_cache&quot;&#x94fe;&#x63a5;&#x6210;&#x4e00;&#x4e2a;&#x53cc;&#x5411;&#x961f;&#x5217;slab_caches&#x3002;&#x6240;&#x4ee5;&#x672c;&#x5b57;&#x6bb5;&#x7528;&#x4e8e;&#x5c06;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x94fe;&#x63a5;&#x8fdb;&#x5168;&#x5c40;&#x7684;slab_caches&#x961f;&#x5217;&#x3002;"/>
</node>
<node COLOR="#5560a6" CREATED="1464635390155" ID="ID_169459666" MODIFIED="1464635487534" TEXT=" struct kobject kobj"/>
<node COLOR="#d53b31" CREATED="1464635390155" ID="ID_1522353978" MODIFIED="1464635517668" TEXT=" struct memcg_cache_params *memcg_params"/>
<node COLOR="#d53b31" CREATED="1464635390155" ID="ID_936964592" MODIFIED="1464635517669" TEXT=" int max_attr_size"/>
<node COLOR="#d3d531" CREATED="1464635390155" ID="ID_545710054" MODIFIED="1464635537926" TEXT=" int remote_node_defrag_ratio"/>
<node CREATED="1464635390155" ID="ID_226279098" MODIFIED="1464762670051">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;struct kmem_cache_node *node[MAX_NUMNODES]
    </p>
    <p>
      MAX_NUMNODES&#26159;&#19968;&#20010;&#20869;&#26680;&#21487;&#37197;&#21442;&#25968;,&#20294;&#19968;&#33324;&#35774;&#20026;0.
    </p>
  </body>
</html></richcontent>
<node CREATED="1464635390155" ID="ID_1521530296" MODIFIED="1464635390155" TEXT=" spinlock_t list_lock">
<node CREATED="1464762756441" ID="ID_1638065427" MODIFIED="1464762758112" TEXT="&#x4fdd;&#x62a4; nr_partial &#x548c; partial &#x5b57;&#x6bb5;&#x7684;&#x81ea;&#x65cb;&#x9501;"/>
</node>
<node CREATED="1464635718190" FOLDED="true" ID="ID_818103858" MODIFIED="1464803930197">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      slab
    </p>
    <p>
      &#36873;&#25321;slab&#20998;&#37197;&#22120;&#26102;(CONFIG_SLAB=y)&#30340;&#23450;&#20041;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464635390155" ID="ID_188247635" MODIFIED="1464635390155" TEXT=" struct list_head slabs_partial"/>
<node CREATED="1464635390155" ID="ID_1148069516" MODIFIED="1464635390155" TEXT=" struct list_head slabs_full"/>
<node CREATED="1464635390155" ID="ID_1775200778" MODIFIED="1464635390155" TEXT=" struct list_head slabs_free"/>
<node CREATED="1464635390155" ID="ID_1851984644" MODIFIED="1464635390155" TEXT=" unsigned long free_objects"/>
<node CREATED="1464635390155" ID="ID_935561376" MODIFIED="1464635390155" TEXT=" unsigned int free_limit"/>
<node CREATED="1464635390155" ID="ID_597687956" MODIFIED="1464635390155" TEXT=" unsigned int colour_next"/>
<node CREATED="1464635390155" FOLDED="true" ID="ID_1240159505" MODIFIED="1464635565535" TEXT=" struct array_cache *shared">
<node CREATED="1464635390155" MODIFIED="1464635390155" TEXT=" unsigned int avail"/>
<node CREATED="1464635390155" MODIFIED="1464635390155" TEXT=" unsigned int limit"/>
<node CREATED="1464635390155" MODIFIED="1464635390155" TEXT=" unsigned int batchcount"/>
<node CREATED="1464635390155" MODIFIED="1464635390155" TEXT=" unsigned int touched"/>
<node CREATED="1464635390155" MODIFIED="1464635390155" TEXT=" spinlock_t lock"/>
<node CREATED="1464635390155" MODIFIED="1464635390155" TEXT=" void *entry[]"/>
</node>
<node CREATED="1464635390156" ID="ID_799611162" MODIFIED="1464635390156" TEXT=" struct array_cache **alien"/>
<node CREATED="1464635390156" ID="ID_1775370931" MODIFIED="1464635390156" TEXT=" unsigned long next_reap"/>
<node CREATED="1464635390156" ID="ID_1635742975" MODIFIED="1464635390156" TEXT=" int free_touched"/>
</node>
<node CREATED="1464635721177" ID="ID_1179627873" MODIFIED="1464807190040">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      slub
    </p>
    <p>
      &#36873;&#25321;slub&#20998;&#37197;&#22120;&#26102;(CONFIG_SLUB=y)&#30340;&#23450;&#20041;
    </p>
    <p>
      
    </p>
    &#22312; SLUB &#20013;&#65292;&#27809;&#26377;&#21333;&#29420;&#30340; Empty slab &#38431;&#21015;&#12290;&#27599;&#20010; NUMA &#33410;&#28857;&#20351;&#29992; kmem_cache_node &#32467;&#26500;&#32500;&#25252;&#19968;&#20010;&#22788;&#20110; Partial &#29366;&#24577;&#30340; slab &#38431;&#21015;
  </body>
</html></richcontent>
<node CREATED="1464635390156" ID="ID_52411593" MODIFIED="1464635390156" TEXT=" unsigned long nr_partial">
<node CREATED="1464762779446" ID="ID_1762999650" MODIFIED="1464762781276" TEXT="&#x672c;&#x8282;&#x70b9; Partial slab &#x7684;&#x6570;&#x76ee;"/>
</node>
<node CREATED="1464635390156" ID="ID_90119643" MODIFIED="1464635390156" TEXT=" struct list_head partial">
<node CREATED="1464762800335" ID="ID_383531487" MODIFIED="1464762802965" TEXT="Partial slab &#x7684;&#x53cc;&#x5411;&#x5faa;&#x73af;&#x961f;&#x5217;"/>
</node>
<node CREATED="1464635789362" FOLDED="true" ID="ID_229252923" MODIFIED="1464806532938">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      debug
    </p>
    <p>
      &#25171;&#24320;slub&#35843;&#35797;&#24320;&#20851;(CONFIG_SLUB_DEBUG=y)&#26102;&#30340;&#23450;&#20041;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464635390156" ID="ID_472977608" MODIFIED="1464635390156" TEXT=" atomic_long_t nr_slabs"/>
<node CREATED="1464635390156" ID="ID_1444715790" MODIFIED="1464635390156" TEXT=" atomic_long_t total_objects"/>
<node CREATED="1464635390156" ID="ID_757959604" MODIFIED="1464635390156" TEXT=" struct list_head full"/>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1464631893318" ID="ID_1670732985" MODIFIED="1464759187405" TEXT="API">
<node CREATED="1464640638864" FOLDED="true" ID="ID_424736398" MODIFIED="1464820494590" TEXT="struct kmem_cache * &#xa;kmem_cache_create(const char *name,   size_t size,   size_t align, &#x9;&#x9;    &#xa;                                 unsigned long flags,    void (*ctor)(void *))">
<node CREATED="1464671473860" ID="ID_919419060" MODIFIED="1464814864507" TEXT="&#x53c2;&#x6570;&#x8bf4;&#x660e;">
<node CREATED="1464671500000" ID="ID_1026279907" MODIFIED="1464671524302" TEXT="name : &#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7684;&#x540d;&#x5b57;"/>
<node CREATED="1464671524994" ID="ID_1504439538" MODIFIED="1464671553865" TEXT="size : &#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7ba1;&#x7406;&#x7684;&#x5bf9;&#x8c61;&#x7684;&#x5927;&#x5c0f;"/>
<node CREATED="1464672263080" ID="ID_437537954" MODIFIED="1464672271492" TEXT="flags :">
<node CREATED="1464672540114" ID="ID_1533227801" MODIFIED="1464672541020" TEXT="SLAB_POISON">
<node CREATED="1464673751961" ID="ID_592923299" MODIFIED="1464674095710">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20026;&#20102;&#36319;&#36394;&#23545;&#27809;&#26377;&#36827;&#34892;&#20998;&#37197;&#25110;&#21021;&#22987;&#21270;&#30340;&#23545;&#35937;&#25152;&#20316;&#30340;&#21464;&#26356;&#65292;&#29992;&#19968;&#20010;&#29305;&#23450;&#30340;&#25968;&#20540;a5a5a5a5&#21435;&#22635;&#20805;slab&#65292;
    </p>
    <p>
      &#36825;&#26679;&#27809;&#26377;&#20998;&#37197;&#25110;&#21021;&#22987;&#21270;&#23545;&#35937;&#23601;&#24341;&#29992;&#20250;&#36896;&#25104;&#23481;&#26131;&#35782;&#21035;&#30340;&#38169;&#35823;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464672550765" ID="ID_1949501529" MODIFIED="1464672551614" TEXT="SLAB_RED_ZONE">
<node CREATED="1464673664337" ID="ID_1651004848" MODIFIED="1464673707137" TEXT="&#x7ed9;&#x4efb;&#x610f;&#x5bf9;&#x8c61;&#x7684;&#x672b;&#x5c3e;&#x653e;&#x7f6e;&#x4e00;&#x4e2a;&#x6807;&#x5fd7;&#x4f4d;&#xff0c;&#x8ddf;&#x8e2a;&#x6ea2;&#x51fa;"/>
</node>
<node CREATED="1464672562250" ID="ID_459505011" MODIFIED="1464672562899" TEXT="SLAB_HWCACHE_ALIGN">
<node CREATED="1464673547166" ID="ID_1179334396" MODIFIED="1464673623037" TEXT="&#x9700;&#x8981;&#x5c06;&#x5bf9;&#x8c61;&#x5bf9;&#x9f50;&#x5230;CPU L1&#x786c;&#x4ef6;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x5c06;&#x5bf9;&#x8c61;&#x4e0e;cache line&#x5bf9;&#x9f50;"/>
</node>
</node>
<node CREATED="1464672273043" ID="ID_46761202" MODIFIED="1464672436471">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ctor : &#23545;&#35937;&#30340;&#26500;&#36896;&#20989;&#25968;&#65292;&#27599;&#27425;&#20998;&#37197;&#19968;&#20010;&#23545;&#35937;&#26102;&#35843;&#29992;&#27492;&#20989;&#25968;&#21021;&#22987;&#21270;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65306;&#23545;&#35937;&#24182;&#19981;&#19968;&#23450;&#26159;&#22312;&#20998;&#37197;&#26102;&#25165;&#34987;&#21021;&#22987;&#21270;&#65292;&#39640;&#36895;&#32531;&#23384;&#22312;&#21019;&#24314;slab&#25110;&#37322;&#25918;&#23545;&#35937;&#26102;&#37117;&#21487;&#33021;&#21021;&#22987;&#21270;&#23545;&#35937;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464674611133" FOLDED="true" ID="ID_1626178372" MODIFIED="1464820492407" TEXT="&#x5177;&#x4f53;&#x8fc7;&#x7a0b;">
<node CREATED="1464674634832" FOLDED="true" ID="ID_384886851" MODIFIED="1464675750308">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      kmem_cache_sanity_check
    </p>
    <p>
      &#20570;&#19968;&#20123;&#21512;&#27861;&#24615;&#26816;&#26597;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464674640728" ID="ID_510369114" MODIFIED="1464674651917" TEXT="&#x540d;&#x5b57;&#x4e0d;&#x80fd;&#x4e3a;&#x7a7a;"/>
<node CREATED="1464674652622" ID="ID_1265426892" MODIFIED="1464674741976" TEXT="&#x4e0d;&#x80fd;&#x5728;&#x4e2d;&#x65ad;&#x4e2d;&#x8c03;&#x7528;kmem_cache_create()&#xff0c;&#x56e0;&#x4e3a;&#x521b;&#x5efa;&#x8fc7;&#x7a0b;&#x9700;&#x8981;&#x8bbf;&#x95ee;&#x4e2d;&#x65ad;&#x5b89;&#x5168;&#x7684;&#x81ea;&#x65cb;&#x9501;&#x548c;&#x4fe1;&#x53f7;&#x91cf;"/>
<node CREATED="1464674770128" ID="ID_548031214" MODIFIED="1464674786110" TEXT="&#x5bf9;&#x8c61;&#x7684;&#x5927;&#x5c0f;&#x81f3;&#x5c11;&#x662f;&#x4e00;&#x4e2a;&#x5b57;&#x5927;&#x5c0f;"/>
<node CREATED="1464674848982" ID="ID_1321846830" MODIFIED="1464675125083" TEXT="&#x904d;&#x5386;slab_caches&#x4e2d;&#x6240;&#x6709;&#x7684;&#x9ad8;&#x901f;&#x7f13;&#x5b58;kmem_cache&#xff0c;&#x68c0;&#x67e5;s-&gt;name&#x6307;&#x9488;&#x662f;&#x5426;&#x4e3a;&#x4e00;&#x4e2a;&#x6709;&#x6548;&#x7684;&#x5185;&#x6838;&#x5730;&#x5740;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x662f;&#x5219;&#x6253;&#x5370;&#x4e00;&#x4e2a;&#x8b66;&#x544a;&#x3002;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7684;&#x540d;&#x5b57;s-&gt;name&#x4e00;&#x822c;&#x4f4d;&#x4e8e;&#x5185;&#x6838;&#x6a21;&#x5757;&#x7684;&#x5730;&#x5740;&#x6bb5;&#xff0c;&#x5982;&#x679c;&#x5185;&#x6838;&#x6a21;&#x5757;&#x5378;&#x8f7d;&#x4e86;&#x4f46;&#x6ca1;&#x6709;&#x8c03;&#x7528;kmem_cache_destroy()&#x9500;&#x6bc1;&#x5b83;&#x521b;&#x5efa;&#x7684;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#xff0c;&#x5219;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7684;&#x540d;&#x5b57;s-&gt;name&#x4f1a;&#x6307;&#x5411;&#x4e00;&#x4e2a;&#x65e0;&#x6548;&#x7684;&#x5185;&#x6838;&#x5730;&#x5740;&#x3002;"/>
</node>
<node CREATED="1464675751378" ID="ID_1598848118" MODIFIED="1464813910817">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      __kmem_cache_alias
    </p>
    <p>
      <font color="#008200">&#20808;&#35797;&#22270;&#20174;&#24050;&#26377;&#30340;&#32531;&#23384;&#20013;&#25214;&#21040;&#19968;&#20010;&#21487;&#20197;&#28385;&#36275;&#35201;&#27714;&#30340;&#36827;&#34892;&#22797;&#29992;&#65292;&#36825;&#26679;&#23601;&#19981;&#29992;&#21019;&#24314;&#26032;&#30340;&#32531;&#23384;&#20102;</font>&#65292;
    </p>
    <p>
      &#20174;&#32780;&#20165;&#20165;&#21482;&#26159;&#21019;&#24314;&#19968;&#20010;&#24050;&#26377;&#39640;&#36895;&#32531;&#23384;&#30340;&#21035;&#21517;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464675821871" ID="ID_590352554" MODIFIED="1464675933147" TEXT="&#x5f53;2&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x6240;&#x7ba1;&#x7406;&#x7684;&#x5bf9;&#x8c61;&#x7684;&#x5927;&#x5c0f;&#x76f8;&#x5dee;&#x4e0d;&#x8d85;&#x8fc7;&#x4e00;&#x4e2a;&#x5b57;&#x65f6;&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x5b83;&#x4eec;&#x5408;&#x5e76;&#x3002;&#x6b64;&#x65f6;&#x4e00;&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x5c06;&#x6709;2&#x4e2a;&#x522b;&#x540d;&#x3002;"/>
</node>
<node CREATED="1464676517518" ID="ID_1665704173" MODIFIED="1464676659693">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      kmem_cache_zalloc(kmem_cache, GFP_KERNEL)
    </p>
    <p>
      &quot;struct kmem_cache&quot;&#26412;&#36523;&#20063;&#26159;&#19968;&#20010;&#23545;&#35937;&#65292;&#23427;&#20063;&#21487;&#20197;&#20174;&#19968;&#20010;&#29305;&#27530;&#30340;&#39640;&#36895;&#32531;&#23384;kmem_cache&#20013;&#20998;&#37197;&#24471;&#21040;&#12290;
    </p>
    <p>
      &#27880;&#24847;&#27492;&#22788;&#20998;&#37197;&#24471;&#21040;&#30340;&quot;struct kmem_cache&quot;&#24050;&#32463;&#34987;&#28165;0.
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464814061488" ID="ID_522022115" MODIFIED="1464814170540" TEXT="&#x5c06;s-&gt;object_size &#x548c; s-&gt;size&#x521d;&#x59cb;&#x5316;&#x4e3a;&#x5bf9;&#x8c61;&#x7684;&#x5927;&#x5c0f;"/>
<node CREATED="1464677005011" ID="ID_1942537632" MODIFIED="1464677286517">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      s-&gt;align = calculate_alignment()
    </p>
    <p>
      &#35745;&#31639;&#23545;&#35937;&#30340;&#23545;&#40784;&#20301;&#12290;&#26377;3&#31181;&#23545;&#40784;&#20301;&#65292;&#26368;&#32456;&#21462;3&#32773;&#20013;&#30340;&#26368;&#22823;&#32773;&#65306;
    </p>
    <p>
      1&#65292;&#29992;&#25143;&#36890;&#36807;&#21442;&#25968;align&#25351;&#23450;&#20102;&#23545;&#40784;&#20301;&#12290;
    </p>
    <p>
      2&#65292;&#29992;&#25143;&#35774;&#32622;&#20102;&#26631;&#35782;SLAB_HWCACHE_ALIGN&#21017;&#20351;&#29992;&#30828;&#20214;L1 cache&#30340;cache line&#12290;
    </p>
    <p>
      3&#65292;&#26368;&#23567;&#30340;&#23545;&#40784;&#20301;&#26159;&#19968;&#20010;&#23383;&#38271;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464814188720" ID="ID_491552393" MODIFIED="1464814226095" TEXT="&#x5c06;&#x5bf9;&#x8c61;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;s-&gt;ctor&#x521d;&#x59cb;&#x5316;&#x4e3a;&#x6240;&#x4f20;&#x5165;&#x7684;&#x53c2;&#x6570;"/>
<node CREATED="1464814257337" ID="ID_670259644" MODIFIED="1464814270386" TEXT="&#x521d;&#x59cb;&#x5316;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x7684;&#x540d;&#x5b57;s-&gt;name"/>
<node CREATED="1464678200188" ID="ID_1427215988" MODIFIED="1464678203985" TEXT="memcg_alloc_cache_params()"/>
<node CREATED="1464678255337" ID="ID_519764684" MODIFIED="1464678257756" TEXT="__kmem_cache_create()">
<node CREATED="1464678486921" ID="ID_872291600" MODIFIED="1464678490640" TEXT="kmem_cache_open()">
<node CREATED="1464678518298" ID="ID_1615164259" MODIFIED="1464678536531" TEXT="&#x5c06;&#x53c2;&#x6570;flags&#x4fdd;&#x5b58;&#x5728;s-&gt;flags&#x4e2d;&#x3002;"/>
<node CREATED="1464814598761" FOLDED="true" ID="ID_1144251057" MODIFIED="1464818900002">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      calculate_sizes()
    </p>
    <p>
      &#35745;&#31639;kmem_cache&#20013;&#30340;&#21508;&#31181;size&#21442;&#25968;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464814709996" ID="ID_1739228996" MODIFIED="1464814751389" TEXT="&#x8ba1;&#x7b97;s-&gt;size&#xff0c;&#x8fd9;&#x662f;&#x5305;&#x542b;&#x4e86;&#x5bf9;&#x8c61;&#x548c;meta data&#x7684;&#x5927;&#x5c0f;">
<node CREATED="1464814789352" ID="ID_616638672" MODIFIED="1464814834812" TEXT="s-&gt;size&#x4ee5;s-&gt;object_size&#x4e3a;&#x57fa;&#x7840;"/>
<node CREATED="1464815017166" ID="ID_1709327778" MODIFIED="1464815033578" TEXT="s-&gt;size&#x81f3;&#x5c11;&#x8981;&#x5bf9;&#x9f50;&#x5230;&#x4e00;&#x4e2a;&#x5b57;&#x5927;&#x5c0f;"/>
<node CREATED="1464814883220" ID="ID_1666070453" MODIFIED="1464814993971" TEXT="&#x5982;&#x679c;s-&gt;flags&#x4e2d;SLAB_RED_ZONE&#x7f6e;&#x4f4d;&#x4e86;&#xff0c;&#x5219;&#x8868;&#x660e;&#x9700;&#x8981;&#x5728;&#x5bf9;&#x8c61;&#x7684;&#x672b;&#x5c3e;&#x653e;&#x7f6e;&#x4e00;&#x4e2a;&#x7279;&#x6b8a;&#x6807;&#x5fd7;&#x4ee5;&#x8ddf;&#x8e2a;&#x6ea2;&#x51fa;&#xff0c;&#x6240;&#x4ee5;s-&gt;size&#x8981;&#x589e;&#x52a0;&#x4e00;&#x4e2a;&#x5b57;&#x5927;&#x5c0f;"/>
<node CREATED="1464814883220" ID="ID_1428749930" MODIFIED="1464817405669" TEXT="&#x5982;&#x679c;&#x5728;&#x8ba1;&#x7b97;s-&gt;offset&#x65f6;&#x6700;&#x7ec8;&#x8868;&#x660e;&#x7a7a;&#x95f2;&#x6307;&#x9488;&#x9700;&#x8981;&#x653e;&#x5728;&#x5bf9;&#x8c61;&#x540e;&#x9762;&#xff0c;&#x5219;s-&gt;size&#x9700;&#x8981;&#x518d;&#x589e;&#x52a0;&#x4e00;&#x4e2a;&#x5b57;&#x5927;&#x5c0f;"/>
<node CREATED="1464817885831" ID="ID_983178373" MODIFIED="1464817913670" TEXT="s-&gt;size&#x8fd8;&#x8981;&#x5bf9;&#x9f50;&#x5230;s-&gt;align"/>
</node>
<node CREATED="1464815096482" ID="ID_1034022475" MODIFIED="1464815149279" TEXT="&#x8ba1;&#x7b97;s-&gt;inuse&#xff0c;&#x8fd9;&#x662f;&#x5bf9;&#x8c61;&#x7684;meta data&#x76f8;&#x5bf9;&#x4e8e;&#x5bf9;&#x8c61;&#x8d77;&#x59cb;&#x4f4d;&#x7f6e;&#x7684;&#x504f;&#x79fb;">
<node CREATED="1464815238659" ID="ID_1450151292" MODIFIED="1464815272883" TEXT="s-&gt;inuse&#x5c31;&#x662f;s-&gt;object_size&#x5bf9;&#x9f50;&#x4e00;&#x4e2a;&#x5b57;&#x540e;&#x7684;&#x5927;&#x5c0f;"/>
</node>
<node CREATED="1464815337374" ID="ID_275367682" MODIFIED="1464815373034" TEXT="&#x8ba1;&#x7b97;s-&gt;offset&#xff0c;&#x8fd9;&#x662f;&#x4e0b;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;&#x7684;&#x5b58;&#x653e;&#x4f4d;&#x7f6e;">
<node CREATED="1464815767186" ID="ID_831292698" MODIFIED="1464815808761" TEXT="&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;s-&gt;offset&#x4e3a;0&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#x7a7a;&#x95f2;&#x6307;&#x9488;free pointer&#x653e;&#x5728;&#x5bf9;&#x8c61;&#x5185;&#x90e8;&#x7684;&#x8d77;&#x59cb;&#x4f4d;&#x7f6e;&#x3002;"/>
<node CREATED="1464815409264" ID="ID_1920015456" MODIFIED="1464815757262" TEXT="&#x5982;&#x679c;s-&gt;flags&#x4e2d;SLAB_POISON&#x7f6e;&#x4f4d;&#x4e86;&#xff0c;&#x5219;&#x8868;&#x660e;&#x9700;&#x8981;&#x6bd2;&#x5316;&#x5bf9;&#x8c61;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x4ee5;&#x7279;&#x5b9a;&#x7684;&#x6570;&#x5b57;&#x521d;&#x59cb;&#x5316;&#x5bf9;&#x8c61;&#xff0c;&#x4ee5;&#x9632;&#x6b62;&#x8fd8;&#x6ca1;&#x6709;&#x5206;&#x914d;&#x5bf9;&#x8c61;&#x5c31;&#x4f7f;&#x7528;&#x5bf9;&#x8c61;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x8fd9;&#x65f6;&#x7a7a;&#x95f2;&#x6307;&#x9488;free pointer&#x4e0d;&#x80fd;&#x653e;&#x5728;&#x5bf9;&#x8c61;&#x5185;&#x90e8;&#xff0c;&#x53ea;&#x80fd;&#x653e;&#x5728;&#x5bf9;&#x8c61;&#x540e;&#x9762;&#xff0c;&#x4e5f;&#x5c31;&#x662f;s-&gt;object_size&#x5bf9;&#x9f50;&#x4e00;&#x4e2a;&#x5b57;&#x540e;&#x518d;&#x52a0;red zone&#x5b57;&#x540e;&#x7684;&#x504f;&#x79fb;&#x4f4d;&#x3002;&#xa;&#xa;&#x5982;&#x679c;&#x5bf9;&#x8c61;&#x63d0;&#x4f9b;&#x4e86;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x8fd9;&#x8868;&#x660e;&#x9700;&#x8981;&#x521d;&#x59cb;&#x5316;&#x5bf9;&#x8c61;&#xff0c;&#x540c;&#x6837;&#x4e5f;&#x4e0d;&#x80fd;&#x5c06;&#x7a7a;&#x95f2;&#x6307;&#x9488;free pointer&#x653e;&#x5728;&#x5bf9;&#x8c61;&#x5185;&#x90e8;&#xff0c;&#x8ba1;&#x7b97;&#x65b9;&#x6cd5;&#x540c;&#x4e0a;&#x3002;"/>
</node>
<node CREATED="1464817983722" ID="ID_1864255397" MODIFIED="1464818076833">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35745;&#31639;s-&gt;oo, s-&gt;min, s-&gt;max&#65292;
    </p>
    <p>
      &#36825;&#25351;&#23450;&#20102;&#20026;&#19968;&#20010;slab&#20998;&#37197;&#22810;&#23569;&#20010;&#39029;&#26694;&#65292;&#20197;&#21450;&#27599;&#20010;slab&#20013;&#21487;&#20197;&#23481;&#32435;&#22810;&#23569;&#20010;&#23545;&#35937;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464818609213" ID="ID_1541312999" MODIFIED="1464818669436" TEXT="&#x8ba1;&#x7b97;&#x4e3a;&#x4e00;&#x4e2a;slab&#x5206;&#x914d;&#x591a;&#x5c11;&#x9875;&#x662f;&#x4e00;&#x4e2a;&#x5f88;&#x590d;&#x6742;&#x7684;&#x7b97;&#x6cd5;&#xff0c;&#x57fa;&#x672c;&#x4e0a;&#x8981;&#x8003;&#x8651;&#x5f53;&#x524d;&#x7cfb;&#x7edf;&#x7684;&#x5185;&#x5b58;&#x91ca;&#x653e;&#x7d27;&#x5f20;&#xff0c;&#x4ee5;&#x53ca;&#x907f;&#x514d;&#x5185;&#x5b58;&#x788e;&#x7247;&#x5316;&#x3002;"/>
</node>
</node>
<node CREATED="1464819062389" ID="ID_1905041680" MODIFIED="1464819124567" TEXT="&#x8c03;&#x7528;set_min_partial()&#x8bbe;&#x7f6e;s-&gt;min_partial&#xff0c;&#x6839;&#x636e;&#x5bf9;&#x8c61;&#x5927;&#x5c0f;&#x8ba1;&#x7b97;partial slab&#x94fe;&#x8868;&#x4e2d;slab&#x7684;&#x6700;&#x5c0f;&#x6570;&#x76ee;&#xff0c;size&#x8d8a;&#x5927;&#xff0c;slab&#x6570;&#x76ee;&#x8d8a;&#x5927;&#xff0c;&#x4ee5;&#x514d;&#x8fc7;&#x5ea6;&#x4f7f;&#x7528;&#x9875;&#x6846;&#x5206;&#x914d;&#x5668;"/>
<node CREATED="1464819217688" ID="ID_517509810" MODIFIED="1464819228505" TEXT="&#x8ba1;&#x7b97;s-&gt;cpu_partial">
<node CREATED="1464767638580" ID="ID_179567138" MODIFIED="1464767666022" TEXT="&#x5728;CPU&#x672c;&#x5730;&#x7f13;&#x5b58;&#x4e2d;&#x5206;&#x914d;&#x4e0d;&#x5230;&#x5bf9;&#x8c61;&#x65f6;&#xff0c;&#x9700;&#x8981;&#x4ece;struct kmem_cache_node&#x7684;partial&#x961f;&#x5217;&#x4e2d;&#x53d6;&#x51fa;&#x4e00;&#x90e8;&#x5206;partial slab&#x5230;CPU&#x672c;&#x5730;&#x7f13;&#x5b58;&#x3002;&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x9891;&#x7e41;&#x52a0;&#x9501;&#xff0c;&#x6bcf;&#x6b21;&#x4e0d;&#x4ec5;&#x4ec5;&#x53d6;&#x4e00;&#x4e2a;partial slab&#xff0c;&#x800c;&#x662f;&#x8981;&#x53d6;&#x591a;&#x4e2a;partial slab&#xff0c;&#x6807;&#x51c6;&#x662f;&#x6240;&#x6709;&#x8fd9;&#x4e9b;&#x79fb;&#x5230;CPU&#x672c;&#x5730;&#x7f13;&#x5b58;&#x4e2d;&#x7684;partial slab&#x7684;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x6570;&#x603b;&#x548c;&#x8fbe;&#x5230;&#x9608;&#x503c;struct kmem_cache *s -&gt; cpu_partial&#x3002;"/>
</node>
<node CREATED="1464819786350" ID="ID_1552239220" MODIFIED="1464820001303">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      init_kmem_cache_nodes()
    </p>
    <p>
      &#21021;&#22987;&#21270;&#25968;&#32452;s-&gt;node
    </p>
  </body>
</html></richcontent>
<node CREATED="1464819980552" ID="ID_1520502207" MODIFIED="1464820035066" TEXT="&#x4ece;&#x53e6;&#x4e00;&#x4e2a;&#x9ad8;&#x901f;&#x7f13;&#x5b58;kmem_cache_node&#x4e2d;&#x5206;&#x914d;struct kmem_cache_node&#x7ed3;&#x6784;"/>
<node CREATED="1464820063746" FOLDED="true" ID="ID_1355790242" MODIFIED="1464820167805" TEXT="&#x8c03;&#x7528;init_kmem_cache_node()&#x521d;&#x59cb;&#x5316;&#x4e0a;&#x9762;&#x5206;&#x914d;&#x5f97;&#x5230;&#x7684;struct kmem_cache_node&#x7ed3;&#x6784;">
<node CREATED="1464820143664" ID="ID_1427202385" MODIFIED="1464820160830">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      n-&gt;nr_partial = 0;
    </p>
    <p>
      spin_lock_init(&amp;n-&gt;list_lock);
    </p>
    <p>
      INIT_LIST_HEAD(&amp;n-&gt;partial);
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1464819799181" ID="ID_1146323368" MODIFIED="1464820243623">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      alloc_kmem_cache_cpus()
    </p>
    <p>
      &#21021;&#22987;&#21270;per cpu&#32467;&#26500;s-&gt;cpu_slab
    </p>
  </body>
</html></richcontent>
<node CREATED="1464820298987" ID="ID_524114710" MODIFIED="1464820312560" TEXT="&#x4e3a;&#x6bcf;&#x4e2a;CPU&#x5206;&#x914d;&#x4e00;&#x4e2a;struct kmem_cache_cpu&#x7ed3;&#x6784;"/>
<node CREATED="1464820346896" ID="ID_128746578" MODIFIED="1464820378585" TEXT="&#x8c03;&#x7528;init_kmem_cache_cpus()&#x521d;&#x59cb;&#x5316;&#x4e0a;&#x9762;&#x5206;&#x914d;&#x5f97;&#x5230;&#x7684;struct kmem_cache_cpu&#x7ed3;&#x6784;">
<node CREATED="1464820406442" ID="ID_1548817400" MODIFIED="1464820432781" TEXT="&#x4ec5;&#x4ec5;&#x662f;&#x5c06;&#x4e8b;&#x52a1;id&#x521d;&#x59cb;&#x5316;&#x4e3a;CPU&#x7f16;&#x53f7;"/>
</node>
</node>
</node>
</node>
<node CREATED="1464678290634" ID="ID_1672206759" MODIFIED="1464678300431" TEXT="&#x5c06;s-&gt;refcount&#x7f6e;&#x4e3a;1"/>
<node CREATED="1464678313464" ID="ID_1182411168" MODIFIED="1464678333963" TEXT="&#x5c06;&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x6dfb;&#x52a0;&#x5230;&#x94fe;&#x8868;slab_caches&#x4e2d;"/>
<node CREATED="1464678345807" ID="ID_203570563" MODIFIED="1464678348561" TEXT="memcg_register_cache()"/>
</node>
</node>
<node CREATED="1464640716056" ID="ID_809110915" MODIFIED="1464640717451" TEXT="void kmem_cache_destroy(struct kmem_cache *s)"/>
<node CREATED="1464640789583" FOLDED="true" ID="ID_34871582" MODIFIED="1464889911042" TEXT="void *kmem_cache_alloc(struct kmem_cache *s,   gfp_t gfpflags)">
<node CREATED="1464820770883" ID="ID_1217728606" MODIFIED="1464820777202" TEXT="slab_alloc()">
<node CREATED="1464820812958" ID="ID_721866612" MODIFIED="1464820815871" TEXT="slab_alloc_node()">
<node CREATED="1464821149608" FOLDED="true" ID="ID_867428667" MODIFIED="1464827385038">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff0033">&#31532;&#19968;&#32423;</font>&#20998;&#37197;&#39318;&#20808;&#20174;&#26412;&#22320;CPU&#32531;&#23384;&#20013;&#20998;&#37197;&#23545;&#35937;&#65292;&#20063;&#23601;&#26159;&#20174;s-&gt;cpu_slab-&gt;freelist&#20013;&#20998;&#37197;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#22914;&#26524;&#20854;&#19981;&#20026;NULL&#65292;&#21017;&#23558;&#20854;&#20316;&#20026;&#25152;&#20998;&#37197;&#30340;&#23545;&#35937;&#36820;&#22238;&#65292;&#21516;&#26102;&#26356;&#26032;s-&gt;cpu_slab-&gt;freelist&#20026;&#19979;&#19968;&#20010;&#31354;&#38386;&#23545;&#35937;&#65292;
    </p>
    <p>
      &#36882;&#22686;&#20107;&#21153;id&#65306;s-&gt;cpu_slab-&gt;tid&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464821573863" ID="ID_864921895" MODIFIED="1464821580905">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="18px">&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#20998;&#37197;&#30340;&#25805;&#20316;&#38750;&#24120;&#30340;&#31616;&#27905;&#65292;</font>
    </p>
    <p>
      <font size="18px">object = c-&gt;freelist;</font>
    </p>
    <p>
      <font size="18px">c-&gt;freelist = object[c-&gt;offset];</font>
    </p>
    <p>
      <font size="18px">&#31532;&#19968;&#21477;&#35805;&#24456;&#23481;&#26131;&#29702;&#35299;&#65292;freelist&#25351;&#21521;&#20102;&#19968;&#20010;&#26368;&#28909;&#30340;&#23545;&#35937;&#65292;&#36825;&#19968;&#21477;&#35805;&#23601;&#26159;&#23558;&#36825;&#20010;&#23545;&#35937;&#30340;&#22320;&#22336;&#20445;&#23384;&#22312;object&#20013;&#12290;</font>
    </p>
    <p>
      <font size="18px">&#31532;&#20108;&#21477;&#35805;&#30340;&#24847;&#20041;&#20063;&#24456;&#26126;&#26174;&#65292;&#23601;&#26159;&#23558;&#19979;&#19968;&#20010;&#31354;&#38386;&#23545;&#35937;&#30340;&#22320;&#22336;&#20445;&#23384;&#22312;freelist&#20013;&#65292;&#20197; &#20415;&#19979;&#27425;&#20998;&#37197;&#20351;&#29992;&#12290;&#20294;&#36825;&#26159;&#22914;&#20309;&#23454;&#29616;&#30340;&#21602;&#65311;&#27880;&#24847;object&#30340;&#23450;&#20041;&#26159;void **&#65292;&#36825;&#37324;&#20284;&#20046;&#26377;&#28857;&#22797;&#26434;&#65292;&#20026;&#20160;&#20040;&#35201;&#23450;&#20041;&#25104;&#19968;&#20010;&#20108;&#32423;&#25351;&#38024;&#65311;&#36825;&#26159;&#20026;&#20102;&#33021;&#22815;&#20197;&#23383;&#38271;&#20026;&#21333;&#20301;&#26469;&#35775;&#38382;&#21040;&#20559;&#31227;&#20026;offset&#22788;&#30340;&#20869;&#23384;&#20540;&#65292;&#22240;&#20026;void *&#25351;&#38024;&#21344;&#29992;&#30340;&#23384;&#20648;&#31354;&#38388;&#26159;&#19968;&#20010;&#23383;&#38271;&#65281;&#21487;&#20197;&#23558;object&#29702;&#35299;&#25104;&#19968;&#20010;void*&#25351;&#38024;&#25968;&#32452;&#30340;&#36215;&#22987;&#22320;&#22336;(&#25968;&#32452;&#21517;)&#65292;&#36825;&#26102;&#22312;&#25968;&#32452;&#20869;&#20570;&#20559;&#31227;&#30340;&#36816;&#31639;&#26102;&#23601;&#26159;&#20197;void *&#20026;&#21333;&#20301;&#30340;&#65292;&#21462;&#20986;&#26469;&#30340;&#25968;&#20540;&#20063;&#26159;&#20197;void*&#20026;&#21333;&#20301;&#30340;&#65292;&#20063;&#23601;&#26159;&#35828;&#37117;&#26159;&#22522;&#20110;&#23383;&#38271;&#30340;&#12290;&#20551;&#22914;object&#23450;&#20041;&#25104;void*&#25351;&#38024;&#65292;&#37027;&#20040;&#34429;&#28982;&#20173;&#28982;&#21487;&#20197;&#25214;&#21040;&#19979;&#19968;&#20010;&#23545;&#35937;&#30340; &#22320;&#22336;&#65292;&#20294;&#26159;&#21364;&#19981;&#26041;&#20415;&#23558;&#36825;&#20010;&#23383;&#38271;&#30340;&#22320;&#22336;&#20540;&#32473;&#21462;&#20986;&#26469;(&#24517;&#39035;&#24471;&#23558;&#32467;&#26524;&#24378;&#21046;&#36716;&#25442;&#25104;void**&#20877;&#21462;&#20869;&#23481;)&#65281;&#24635;&#32780;&#35328;&#20043;&#65292;&#36825;&#31181;&#23454;&#29616;&#26041;&#27861;&#26159;&#26368;&#31616;&#27905;&#38597;&#35266;&#30340;&#12290;</font>
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464821726369" ID="ID_525952966" MODIFIED="1464821728786" TEXT="c-&gt;freelist&#x6307;&#x5411;NULL&#xff0c;&#x8868;&#x793a;&#x672c;&#x5730;CPU&#x9ad8;&#x901f;&#x7f13;&#x5b58;&#x4e2d;&#x5df2;&#x7ecf;&#x6ca1;&#x6709;&#x53ef;&#x7528;&#x7684;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x4e86;&#xff0c;&#x53e6;&#x5916;&#x4e00;&#x4e2a;&#x4e0d;&#x60f3;&#x89c1;&#x5230;&#x7684;&#x60c5;&#x51b5;&#x5c31;&#x662f;&#x8282;&#x70b9;&#x4e0d;&#x5339;&#x914d;&#xff0c;&#x51fa;&#x73b0;&#x8fd9;&#x4e24;&#x79cd;&#x60c5;&#x51b5;&#x4e2d;&#x7684;&#x4efb;&#x610f;&#x4e00;&#x79cd;&#x90fd;&#x8981;&#x901a;&#x8fc7;__slab_alloc()&#x8d70;&#x4e00;&#x6761;&#x6162;&#x901f;&#x5206;&#x914d;&#x7684;&#x8def;&#x5f84;">
<node CREATED="1464826988719" ID="ID_1109824004" MODIFIED="1464826998173" TEXT="__slab_alloc()">
<node CREATED="1464827393097" ID="ID_1464336565" MODIFIED="1464832825588">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font color="#ff0033">&#31532;&#20108;&#32423;</font>&#20998;&#37197;&#26159;&#20174;&#26412;&#22320;CPU&#32531;&#23384;&#30340;active slab&#20013;&#20998;&#37197;&#23545;&#35937;&#65292;&#20063;&#23601;&#26159;&#20174;s-&gt;cpu_slab-&gt;page&#20998;&#37197;&#23545;&#35937;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464831395397" ID="ID_405579705" MODIFIED="1464836143947">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35843;&#29992;get_freelist()&#21462;&#20986;s-&gt;cpu_slab-&gt;page-&gt;freelist&#20316;&#20026;&#19979;&#19968;&#20010;&#21487;&#20379;&#20998;&#37197;&#30340;&#23545;&#35937;&#12290;
    </p>
    <p>
      &#21516;&#26102;&#23545;s-&gt;cpu_slab-&gt;page&#20570;&#19968;&#20123;&#26356;&#26032;&#65292;&#36825;&#21253;&#25324;&#65306;
    </p>
    <p>
      s-&gt;cpu_slab-&gt;page-&gt;frozen = 1&#65292;&#34920;&#31034;slab&#22788;&#20110;&#20923;&#32467;&#29366;&#24577;&#65292;&#23427;&#27491;&#22788;&#20110;&#26412;&#22320;CPU&#32531;&#23384;&#19978;&#12290;
    </p>
    <p>
      s-&gt;cpu_slab-&gt;page-&gt;inuse = s-&gt;cpu_slab-&gt;page-&gt;objects&#65292;&#34920;&#31034;&#25152;&#26377;&#23545;&#35937;&#37117;&#27491;&#22312;&#34987;&#26412;&#22320;CPU&#32531;&#23384;&#20351;&#29992;&#12290;
    </p>
    <p>
      s-&gt;cpu_slab-&gt;page-&gt;freelist == NULL&#65292;&#22240;&#20026;&#25152;&#26377;&#23545;&#35937;&#37117;&#27491;&#22312;&#34987;&#26412;&#22320;CPU&#32531;&#23384;&#20351;&#29992;&#65292;&#25152;&#20197;slab&#26412;&#36523;&#19981;&#20877;&#32500;&#25252;&#31354;&#38386;&#23545;&#35937;&#21015;&#34920;&#65292;&#32780;&#26159;&#35753;&#26412;&#22320;CPU&#32531;&#23384;&#21435;&#32500;&#25252;&#31354;&#38386;&#23545;&#35937;&#21015;&#34920;&#65288;&#20351;&#29992;s-&gt;cpu_slab-&gt;freelist&#65289;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464832369833" ID="ID_699920442" MODIFIED="1464832665514">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19978;&#38754;&#36820;&#22238;&#30340;s-&gt;cpu_slab-&gt;page-&gt;freelist&#20316;&#20026;&#19979;&#19968;&#20010;&#21487;&#20379;&#20998;&#37197;&#30340;&#23545;&#35937;&#65292;&#20294;s-&gt;cpu_slab-&gt;freelist&#19981;&#33021;&#25351;&#21521;&#36825;&#20010;&#23545;&#35937;&#32780;&#26159;&#35201;&#25351;&#21521;&#19979;&#19968;&#20010;&#31354;&#38386;&#23545;&#35937;&#65292;&#19979;&#19968;&#20010;&#31354;&#38386;&#23545;&#35937;&#30340;&#25351;&#38024;&#23384;&#20648;&#22312;&#19978;&#19968;&#20010;&#31354;&#38386;&#23545;&#35937;&#20013;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464833000960" ID="ID_736610997" MODIFIED="1464833244075" TEXT="&#x5982;&#x679c;&#x4ece;s-&gt;cpu_slab-&gt;page&#x4e5f;&#x5206;&#x914d;&#x4e0d;&#x5230;&#x5bf9;&#x8c61;&#x4e86;&#xff0c;&#x8fd9;&#x65f6;&#x8981;&#x5c06;s-&gt;cpu_slab-&gt;page&#x7f6e;&#x4e3a;NULL&#xff0c;&#x518d;&#x7ee7;&#x7eed;&#x5c1d;&#x8bd5;&#x4ece;s-&gt;cpu_slab-&gt;partial&#x4e2d;&#x5206;&#x914d;&#x3002;&#x6ce8;&#x610f;&#x5728;s-&gt;cpu_slab-&gt;page&#x4e2d;&#x5206;&#x914d;&#x4e0d;&#x5230;&#x5bf9;&#x8c61;&#x65f6;&#xff0c;s-&gt;cpu_slab-&gt;page&#x672c;&#x8eab;&#x4e5f;&#x4f1a;&#x88ab;&#x89e3;&#x51bb;&#xff0c;&#x5373;s-&gt;cpu_slab-&gt;page-&gt;frozen = 0&#x3002;"/>
</node>
<node CREATED="1464833274685" ID="ID_90284684" MODIFIED="1464833475634">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24403;s-&gt;cpu_slab-&gt;freelist&#21644;s-&gt;cpu_slab-&gt;page&#37117;&#20026;&#31354;&#26102;&#65292;&#31532;&#19968;&#32423;&#21644;&#31532;&#20108;&#32423;&#20998;&#37197;&#37117;&#20250;&#22833;&#36133;&#65292;
    </p>
    <p>
      &#27492;&#26102;&#35201;&#23581;&#35797;<font color="#ff0033">&#31532;&#19977;&#32423;&#20998;&#37197;</font>&#65292;&#21363;&#20174;s-&gt;cpu_slab-&gt;partial&#20013;&#20998;&#37197;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464833685164" ID="ID_752104499" MODIFIED="1464833764793" TEXT="s-&gt;cpu_slab-&gt;partial&#x662f;&#x4e00;&#x4e2a;slab&#x7684;&#x94fe;&#x8868;&#xff0c;&#x7b2c;&#x4e09;&#x7ea7;&#x5206;&#x914d;&#x5c31;&#x662f;&#x4ece;s-&gt;cpu_slab-&gt;partial&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x4e2a;slab&#xff0c;&#x628a;&#x5b83;&#x653e;&#x5230;s-&gt;cpu_slab-&gt;page&#x4e0a;&#xff0c;&#x7136;&#x540e;&#x8f6c;&#x5230;&#x7b2c;&#x4e8c;&#x7ea7;&#x5206;&#x914d;&#x3002;"/>
</node>
<node CREATED="1464833873478" ID="ID_1962563494" MODIFIED="1464833877590" TEXT="new_slab_objects()">
<node CREATED="1464833274685" ID="ID_1736331868" MODIFIED="1464834897771">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24403;s-&gt;cpu_slab-&gt;freelist&#65292;s-&gt;cpu_slab-&gt;page&#21644;s-&gt;cpu_slab-&gt;partial&#37117;&#20026;&#31354;&#26102;&#65292;&#31532;&#19968;&#32423;&#65292;&#31532;&#20108;&#32423;&#21644;&#31532;&#19977;&#32423;&#20998;&#37197;&#37117;&#20250;&#22833;&#36133;&#65292;
    </p>
    <p>
      &#27492;&#26102;&#35201;&#23581;&#35797;<font color="#ff0033">&#31532;&#22235;&#32423;&#20998;&#37197;</font>&#65292;&#21363;&#20174;s-&gt;node-&gt;partial&#20013;&#20998;&#37197;&#65292;&#27492;&#26102;&#19981;&#20877;&#26159;&#26080;&#38145;&#20998;&#37197;&#20102;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      get_partial() -&gt; get_partial_node()
    </p>
  </body>
</html></richcontent>
<node CREATED="1464833685164" ID="ID_1485408311" MODIFIED="1464835460327" TEXT="s-&gt;node-&gt;partial&#x662f;&#x4e00;&#x4e2a;slab&#x7684;&#x94fe;&#x8868;&#xff0c;&#x7b2c;&#x56db;&#x7ea7;&#x5206;&#x914d;&#x5c31;&#x662f;&#x4ece;s-&gt;node-&gt;partial&#x53d6;&#x51fa;&#x591a;&#x4e2a;slab&#xff0c;&#x628a;&#x5b83;&#x4eec;&#x653e;&#x5230;&#x672c;&#x5730;CPU&#x7f13;&#x5b58;s-&gt;cpu_slab&#x4e2d;&#xff0c;&#x7136;&#x540e;&#x8f6c;&#x5230;&#x7b2c;&#x4e8c;&#x7ea7;&#x5206;&#x914d;&#x3002;&#x5177;&#x4f53;&#x53d6;&#x591a;&#x5c11;&#x4e2a;slab&#x5230;&#x672c;&#x5730;CPU&#x7f13;&#x5b58;&#x53d6;&#x51b3;&#x4e8e;&#x53c2;&#x6570;s-&gt;cpu_partial&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#x6240;&#x53d6;&#x51fa;&#x7684;&#x6240;&#x6709;slab&#x4e2d;&#x7684;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x6570;&#x5e94;&#x8be5;&#x8fbe;&#x5230;&#x9608;&#x503c;s-&gt;cpu_partial&#x3002;"/>
<node CREATED="1464835473519" ID="ID_693765637" MODIFIED="1464835701337">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25152;&#21462;&#20986;&#30340;&#22810;&#20010;slab&#20013;&#65292;&#31532;&#19968;&#20010;slab&#25918;&#21040;s-&gt;cpu_slab-&gt;page&#19978;&#65292;&#20854;&#20313;&#30340;slab&#25918;&#36827;s-&gt;cpu_slab-&gt;partial&#20013;&#12290;&#22240;&#20026;s-&gt;cpu_slab-&gt;page&#22312;&#36825;&#19968;&#27493;&#34987;&#22635;&#20805;&#20102;&#65292;&#25152;&#20197;&#21487;&#20197;&#36716;&#21040;&#31532;&#20108;&#32423;&#20998;&#37197;&#20102;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464835794836" ID="ID_209305069" MODIFIED="1464836383757">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#34987;&#21462;&#20986;&#30340;slab&#33258;&#28982;&#35201;&#20174;&#38142;&#34920;s-&gt;node-&gt;partial&#20013;&#31227;&#38500;&#12290;&#21516;&#26102;&#35201;&#26356;&#26032;slab&#30456;&#20851;&#30340;&#22495;&#65306;
    </p>
    <p>
      page-&gt;freelist&#65306;&#22914;&#26524;slab&#26159;&#34987;&#25918;&#21040;s-&gt;cpu_slab-&gt;page&#19978;&#65292;&#21017;&#27491;&#22914;&#31532;&#20108;&#32423;&#20998;&#37197;&#25152;&#20570;&#30340;&#20107;&#19968;&#26679;&#65292;s-&gt;cpu_slab-&gt;page-&gt;freelist&#24212;&#34987;&#32622;&#20026;NULL&#65292;&#20197;&#35753;&#26412;&#22320;CPU&#32531;&#23384;&#21435;&#32500;&#25252;&#31354;&#38386;&#23545;&#35937;&#21015;&#34920;&#65288;&#20351;&#29992;s-&gt;cpu_slab-&gt;freelist&#65289;&#12290;&#22914;&#26524;slab&#26159;&#34987;&#25918;&#21040;s-&gt;cpu_slab-&gt;partial&#20013;&#65292;&#21017;&#20445;&#25345;&#21407;&#20540;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      page-&gt;inuse&#65306;&#22914;&#26524;slab&#26159;&#34987;&#25918;&#21040;s-&gt;cpu_slab-&gt;page&#19978;&#65292;&#21017;&#27491;&#22914;&#31532;&#20108;&#32423;&#20998;&#37197;&#25152;&#20570;&#30340;&#20107;&#19968;&#26679;&#65292;s-&gt;cpu_slab-&gt;page-&gt;inuse&#24212;&#34987;&#32622;&#20026;s-&gt;cpu_slab-&gt;page-&gt;objects&#65292;&#34920;&#31034;&#25152;&#26377;&#23545;&#35937;&#37117;&#27491;&#22312;&#34987;&#26412;&#22320;CPU&#32531;&#23384;&#20351;&#29992;&#12290;&#22914;&#26524;slab&#26159;&#34987;&#25918;&#21040;s-&gt;cpu_slab-&gt;partial&#20013;&#65292;&#21017;&#20445;&#25345;&#21407;&#20540;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      page-&gt;frozen &#32622;&#20026;1&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464833274685" ID="ID_1569038846" MODIFIED="1464845853055">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24403;s-&gt;cpu_slab-&gt;freelist&#65292;s-&gt;cpu_slab-&gt;page&#65292;s-&gt;cpu_slab-&gt;partial&#65292;s-&gt;node-&gt;partial&#37117;&#20026;&#31354;&#26102;&#65292;&#31532;&#19968;&#32423;&#65292;&#31532;&#20108;&#32423;&#65292;&#31532;&#19977;&#32423;&#21644;&#31532;&#22235;&#32423;&#20998;&#37197;&#37117;&#20250;&#22833;&#36133;&#65292;
    </p>
    <p>
      &#27492;&#26102;&#35201;&#23581;&#35797;<font color="#ff0033">&#31532;&#20116;&#32423;&#20998;&#37197;</font>&#65292;&#21363;&#26032;&#24314;&#19968;&#20010;slab&#65292;&#23558;&#20854;&#22635;&#20805;&#21040;s-&gt;cpu_slab-&gt;page&#65292;&#27492;&#26102;&#19981;&#20877;&#26159;&#26080;&#38145;&#20998;&#37197;&#20102;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1464845878387" ID="ID_624897138" MODIFIED="1464845893163" TEXT="&#x8c03;&#x7528;new_slab()&#x5206;&#x914d;&#x4e00;&#x4e2a;&#x65b0;&#x7684;slab">
<node CREATED="1464846648715" ID="ID_1521473486" MODIFIED="1464846784767" TEXT="&#x6839;&#x636e;s-&gt;oo (&#x5b83;&#x7684;&#x4f4e;16&#x4f4d;&#x662f;&#x4e00;&#x4e2a;slab&#x4e2d;&#x7684;&#x5bf9;&#x8c61;&#x6570;&#xff0c;&#x9ad8;16&#x4f4d;&#x662f;&#x4e00;&#x4e2a;slab&#x6240;&#x5305;&#x542b;&#x7684;&#x9875;&#x6846;&#x6570;)&#x5206;&#x914d;&#x8fde;&#x7eed;&#x7684;&#x9875;&#xff0c;&#x8fd9;&#x4e9b;&#x7531;page-&gt;lru&#x94fe;&#x63a5;&#x8d77;&#x6765;&#x5f62;&#x6210;&#x4e00;&#x4e2a;slab&#x3002;"/>
<node CREATED="1464847602777" ID="ID_515428895" MODIFIED="1464848770053" TEXT="&#x521d;&#x59cb;&#x5316;slab&#x63cf;&#x8ff0;&#x7b26;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x7b2c;&#x4e00;&#x4e2a;&#x9875;&#x7684;&#x524d;&#x51e0;&#x4e2a;&#x5b57;&#xff1a;">
<node CREATED="1464848048952" ID="ID_1700219993" MODIFIED="1464848214278" TEXT="page-&gt;freelist : &#x6307;&#x5411;&#x7b2c;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#xff0c;&#x4e5f;&#x5c31;&#x662f;page-&gt;virtual&#x3002;&#x7b2c;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;s-&gt;offset&#x5904;&#x5b58;&#x653e;&#x7740;&#x4e0b;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;&#x3002;&#x56e0;&#x6b64;slab&#x4e2d;&#x6240;&#x6709;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x5f7c;&#x6b64;&#x94fe;&#x63a5;&#x8d77;&#x6765;&#x4e86;&#x3002;"/>
<node CREATED="1464847688676" ID="ID_523325647" MODIFIED="1464847713762" TEXT="page-&gt;objects : &#x5373;s-&gt;oo&#x7684;&#x4f4e;16&#x4f4d;"/>
<node CREATED="1464848256790" ID="ID_334770655" MODIFIED="1464848331222" TEXT="page-&gt;inuse :&#x8bbe;&#x7f6e;&#x4e3a;page-&gt;objects&#xff0c;&#x8868;&#x793a;&#x6240;&#x6709;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x6b63;&#x5728;&#x88ab;&#x672c;&#x5730;CPU&#x7f13;&#x5b58;&#x4f7f;&#x7528;&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e2a;slab&#x8981;&#x88ab;&#x653e;&#x5230;s-&gt;cpu_slab-&gt;page&#x4e0a;&#x3002;"/>
<node CREATED="1464848414800" ID="ID_930974912" MODIFIED="1464848436081" TEXT="page-&gt;frozen : &#x8bbe;&#x4e3a;1&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e2a;slab&#x8981;&#x88ab;&#x653e;&#x5230;s-&gt;cpu_slab-&gt;page&#x4e0a;&#x3002;"/>
<node CREATED="1464847764413" ID="ID_1266148714" MODIFIED="1464847765164" TEXT="page-&gt;slab_cache = s"/>
</node>
<node CREATED="1464848678949" ID="ID_1687406139" MODIFIED="1464848870997" TEXT="&#x5982;&#x679c;s-&gt;flags &#x4e2d;&#x6709;&#x6807;&#x8bc6; SLAB_POISON&#xff0c;&#x5219;&#x7528;&#x7279;&#x5b9a;&#x7684;&#x6bd2;&#x5316;&#x6570;&#x5b57;&#x586b;&#x5145;slab&#x4e2d;&#x6240;&#x6709;&#x5bf9;&#x8c61;&#xff0c;&#x5373;page-&gt;virtual&#x5f00;&#x59cb;&#x7684;&#x5185;&#x5b58;&#x3002;&#x8fd9;&#x6837;&#x53ef;&#x4ee5;&#x68c0;&#x6d4b;&#x5bf9;&#x672a;&#x5206;&#x914d;&#x7684;&#x5bf9;&#x8c61;&#x7684;&#x8bbf;&#x95ee;&#x3002;"/>
<node CREATED="1464848611034" ID="ID_816827320" MODIFIED="1464848633977" TEXT="&#x8c03;&#x7528;&#x5bf9;&#x8c61;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x521d;&#x59cb;&#x5316;slab&#x4e2d;&#x7684;&#x5bf9;&#x8c61;"/>
</node>
<node CREATED="1464846127891" ID="ID_1326321519" MODIFIED="1464846209815" TEXT="&#x5c06;&#x65b0;&#x5206;&#x914d;&#x7684;slab&#x586b;&#x5145;&#x5230;s-&gt;cpu_slab-&gt;page&#xff0c;&#x7136;&#x540e;&#x8f6c;&#x5230;&#x7b2c;&#x4e8c;&#x7ea7;&#x5206;&#x914d;&#x3002;&#x5219;&#x6b63;&#x5982;&#x7b2c;&#x4e8c;&#x7ea7;&#x5206;&#x914d;&#x6240;&#x505a;&#x7684;&#x4e8b;&#x4e00;&#x6837;&#xff0c;s-&gt;cpu_slab-&gt;page-&gt;freelist&#x5e94;&#x88ab;&#x7f6e;&#x4e3a;NULL&#xff0c;&#x4ee5;&#x8ba9;&#x672c;&#x5730;CPU&#x7f13;&#x5b58;&#x53bb;&#x7ef4;&#x62a4;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x5217;&#x8868;&#xff08;&#x4f7f;&#x7528;s-&gt;cpu_slab-&gt;freelist&#xff09;&#x3002;">
<node CREATED="1464846241770" ID="ID_106824178" MODIFIED="1464846384286" TEXT="&#x6ce8;&#x610f;&#x5728;&#x5c06;&#x65b0;&#x5206;&#x914d;&#x7684;slab&#x586b;&#x5145;&#x5230;s-&gt;cpu_slab-&gt;page&#x4e4b;&#x524d;&#xff0c;&#x5982;&#x679c;s-&gt;cpu_slab-&gt;page&#x4e0d;&#x4e3a;&#x7a7a;&#x5219;&#x8981;flush&#x8fd9;&#x4e2a;slab&#xff1a;flush_slab()"/>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1464821783681" ID="ID_1010100651" MODIFIED="1464821847901" TEXT="&#x5982;&#x679c;&#x53c2;&#x6570;gfpflags&#x6307;&#x5b9a;&#x4e86;&#x6807;&#x8bc6;&#x4f4d;__GFP_ZERO&#xff0c;&#x5219;&#x5c06;&#x5bf9;&#x8c61;&#x6e05;0&#xff0c;&#x6ce8;&#x610f;&#x8fd9;&#x91cc;&#x5e76;&#x6ca1;&#x6709;&#x5c06;&#x5bf9;&#x8c61;&#x540e;&#x9762;&#x7684;meta data&#x6e05;0."/>
</node>
</node>
</node>
<node CREATED="1464641098360" ID="ID_788698412" MODIFIED="1464641099030" TEXT="void *kmem_cache_alloc_node(struct kmem_cache *s, gfp_t gfpflags, int node)"/>
<node CREATED="1464640839224" ID="ID_1043741087" MODIFIED="1464893642099" TEXT="void kmem_cache_free(struct kmem_cache *s, void *x)">
<node CREATED="1464850515128" ID="ID_1582062055" MODIFIED="1464850522126">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <font size="4">&#37322;&#25918;&#23545;&#35937;&#21644;&#20998;&#37197;&#23545;&#35937;&#26159;&#19968;&#32452;&#23545;&#31216;&#30340;&#25805;&#20316;&#65292;&#21516;&#26679;&#20998;&#20026;&#20004;&#20010;&#36335;&#24452;:</font>
    </p>
    <p>
      <font size="18px">1.&#22914;&#26524;&#24453;&#37322;&#25918;&#30340;&#23545;&#35937;&#25152;&#23646;&#30340;slab&#20301;&#20110;&#26412;&#22320;CPU&#32531;&#23384;&#20013;&#65292;&#20063;&#23601;&#26159;slab&#22788;&#20110;&#20923;&#32467;&#29366;&#24577;&#65292;&#21017;&#21487;&#30452;&#25509;&#37322;&#25918;</font>
    </p>
    <p>
      <font size="18px">2.&#21453;&#20043;&#65292;&#24453;&#37322;&#25918;&#30340;&#23545;&#35937;&#25152;&#23646;&#30340;slab&#20301;&#20110;slab&#38142;&#34920;&#20013;&#65292;&#20063;&#23601;&#26159;slab&#22788;&#20110;&#35299;&#20923;&#29366;&#24577;&#65292;&#21017;&#35201;&#36890;&#36807;&#24930;&#36895;&#36335;&#24452;&#36827;&#34892;&#37322;&#25918;&#12290;</font>
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464849991067" ID="ID_1601775259" MODIFIED="1464850019012" TEXT="&#x6839;&#x636e;&#x5bf9;&#x8c61;&#x7684;&#x5730;&#x5740;&#x627e;&#x5230;&#x6240;&#x5728;&#x7684;slab">
<node CREATED="1464850020844" ID="ID_1985832226" MODIFIED="1464850076114" TEXT="&#x9996;&#x5148;&#x6839;&#x636e;&#x5bf9;&#x8c61;&#x7684;&#x5730;&#x5740;&#x627e;&#x5230;&#x6240;&#x5728;&#x7684;&#x9875;&#xff1a;virt_to_page(x)"/>
<node CREATED="1464850196434" ID="ID_1360593220" MODIFIED="1464850377560">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24403;page&#19981;&#26159;slab&#30340;&#31532;&#19968;&#39029;&#26102;&#65292;page-&gt;first_page&#25351;&#21521;slab&#30340;&#31532;&#19968;&#39029;&#65292;&#20063;&#23601;&#26159;slab&#25551;&#36848;&#31526;&#25152;&#22312;&#30340;&#39029;&#12290;
    </p>
    <p>
      &#24403;page&#26159;slab&#30340;&#31532;&#19968;&#39029;&#26102;&#65292;page-&gt;slab_cache&#25351;&#21521;slab&#25152;&#22312;&#30340;&#39640;&#36895;&#32531;&#23384;&#12290;
    </p>
    <p>
      &#27880;&#24847;page-&gt;first_page&#21644;page-&gt;slab_cache&#26159;&#19968;&#20010;union&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1464850598555" ID="ID_1728757717" MODIFIED="1464850648025">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void slab_free (struct kmem_cache *s,&#160;&#160;&#160;struct page *page,&#160;&#160;&#160;void *x,&#160;&#160; unsigned long addr)
    </p>
  </body>
</html></richcontent>
<node CREATED="1464850774434" ID="ID_555736122" MODIFIED="1464850830308" TEXT="&#x5982;&#x679c;&#x5f85;&#x91ca;&#x653e;&#x5bf9;&#x8c61;&#x6240;&#x5c5e;&#x7684;slab&#x5904;&#x4e8e;&#x672c;&#x5730;CPU&#x7f13;&#x5b58;&#x4e2d;&#xff0c;&#x5373;page == s-&gt;cpu_slab-&gt;page&#xff0c;&#x90a3;&#x4e48;&#x5c31;&#x53ef;&#x4ee5;&#x8fdb;&#x884c;&#x5feb;&#x901f;&#x91ca;&#x653e;">
<node CREATED="1464850888873" ID="ID_598641806" MODIFIED="1464850956010" TEXT="&#x5728;&#x5f85;&#x91ca;&#x653e;&#x5bf9;&#x8c61;&#x7684;s-&gt;offset&#x5904;&#x5b58;&#x653e;&#x4e0b;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;&#xff0c;&#x5373;s-&gt;cpu_slab-&gt;freelist"/>
<node CREATED="1464851002695" ID="ID_1889683595" MODIFIED="1464851014599" TEXT="&#x5c06;s-&gt;cpu_slab-&gt;freelist&#x6307;&#x5411;&#x5f85;&#x91ca;&#x653e;&#x5bf9;&#x8c61;"/>
<node CREATED="1464851079588" ID="ID_1812161378" MODIFIED="1464851090098" TEXT="&#x9012;&#x589e;&#x4e8b;&#x52a1;id&#xff1a;s-&gt;cpu_slab-&gt;tid"/>
</node>
<node CREATED="1464851237731" ID="ID_1651094309" MODIFIED="1464851345605" TEXT="&#x5f53;page != s-&gt;cpu_slab-&gt;page&#x65f6;&#x5f85;&#x91ca;&#x653e;&#x7684;&#x5bf9;&#x8c61;&#x6240;&#x5c5e;&#x7684;slab&#x4f4d;&#x4e8e;slab partial&#x94fe;&#x8868;&#x4e2d;&#xff0c;&#x4e5f;&#x5c31;&#x662f;slab&#x5904;&#x4e8e;&#x89e3;&#x51bb;&#x72b6;&#x6001;&#xff0c;&#x6b64;&#x65f6;&#x9700;&#x8981;&#x901a;&#x8fc7;&#x6162;&#x901f;&#x8def;&#x5f84;&#x8fdb;&#x884c;&#x91ca;&#x653e;&#x3002;     __slab_free(s, page, x, addr).">
<node CREATED="1464852988767" ID="ID_1076780754" MODIFIED="1464891020075">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35760;&#24405;prior = page-&gt;freelist&#65292;&#36825;&#20010;&#29992;&#20110;&#21028;&#26029;&#24453;&#37322;&#25918;&#23545;&#35937;&#25152;&#22312;slab&#26159;&#21542;&#22788;&#20110;slab partial list&#20013;
    </p>
    <p>
      
    </p>
    <table border="0" style="width: 100%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 0; border-right-width: 0; border-bottom-width: 0; border-left-width: 0">
      <tr>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            field \ location
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            s-&gt;c-&gt;page
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            s-&gt;c-&gt;partial
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            s-&gt;node-&gt;partial
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            not in list / full list
          </p>
        </td>
      </tr>
      <tr>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;freelist
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            NULL
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;virtual
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;virtual
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            NULL
          </p>
        </td>
      </tr>
      <tr>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;inuse
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;objects
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            dynamic num
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            dynamic num
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;objects
          </p>
        </td>
      </tr>
      <tr>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            page-&gt;frozen
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            1
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            1
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            0
          </p>
        </td>
        <td valign="top" style="width: 20%; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-width: 1; border-right-width: 1; border-bottom-width: 1; border-left-width: 1">
          <p style="margin-top: 1; margin-right: 1; margin-bottom: 1; margin-left: 1">
            0
          </p>
        </td>
      </tr>
    </table>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1464852159620" ID="ID_1373153566" MODIFIED="1464852162163" TEXT="&#x5c06;&#x5bf9;&#x8c61;&#x91ca;&#x653e;&#x56de;&#x539f;&#x5c5e;&#x7684;slab">
<node CREATED="1464850888873" ID="ID_1079737493" MODIFIED="1464852195566" TEXT="&#x5728;&#x5f85;&#x91ca;&#x653e;&#x5bf9;&#x8c61;&#x7684;s-&gt;offset&#x5904;&#x5b58;&#x653e;&#x4e0b;&#x4e00;&#x4e2a;&#x7a7a;&#x95f2;&#x5bf9;&#x8c61;&#x7684;&#x6307;&#x9488;&#xff0c;&#x5373;page-&gt;freelist"/>
<node CREATED="1464852220916" ID="ID_1569625993" MODIFIED="1464852249748" TEXT="&#x9012;&#x51cf;page-&gt;inuse&#xff0c;&#x8868;&#x793a;&#x6b63;&#x5728;&#x4f7f;&#x7528;&#x7684;&#x5bf9;&#x8c61;&#x5c11;&#x4e86;&#x4e00;&#x4e2a;"/>
<node CREATED="1464851002695" ID="ID_550486282" MODIFIED="1464852314252" TEXT="&#x5c06;page-&gt;freelist&#x6307;&#x5411;&#x5f85;&#x91ca;&#x653e;&#x5bf9;&#x8c61;"/>
</node>
<node CREATED="1464852771318" ID="ID_1079068810" MODIFIED="1464891453794">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;prior&#20026;&#31354;&#21017;&#23558;slab&#25918;&#21040;s-&gt;cpu_slab-&gt;partial&#20013;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#26681;&#25454;&#19978;&#38754;&#30340;&#34920;&#65292;prior&#20026;&#31354;&#34920;&#31034;slab&#22312;s-&gt;cpu_slab-&gt;page&#19978;&#25110;&#32773;&#19981;&#22312;&#20219;&#20309;list&#37324;&#38754;&#20063;&#21363;&#22312;full list&#37324;&#65292;
    </p>
    <p>
      &#20294;&#26159;&#20195;&#30721;&#36208;&#21040;&#24403;&#21069;&#36825;&#37324;&#24050;&#32463;&#34920;&#26126;slab&#19981;&#22312;s-&gt;cpu_slab-&gt;page&#19978;&#65292;&#25152;&#20197;&#23427;&#24403;&#21069;&#32943;&#23450;&#22312;full list&#37324;&#65292;&#20063;&#23601;&#26159;&#35828;&#36825;&#20010;slab&#22240;&#20026;&#23545;&#35937;&#20840;&#37096;&#34987;&#20998;&#20986;&#21435;&#20102;&#65292;&#28385;&#20102;&#65292;&#25152;&#20197;&#34987;&#31227;&#20986;&#20102;&#25152;&#26377;&#38142;&#34920;&#12290;&#29616;&#22312;&#36825;&#20010;slab&#22240;&#20026;&#37322;&#25918;&#20102;&#19968;&#20010;&#23545;&#35937;&#21464;&#25104;&#37096;&#20998;&#31354;&#38386;&#20102;&#65292;&#25152;&#20197;&#23558;&#20854;&#37325;&#26032;&#21152;&#20837;&#21040;s-&gt;cpu_slab-&gt;partial&#20013;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1464852851803" ID="ID_1718066129" MODIFIED="1464891632785" TEXT="&#x5f53;slab&#x4e2d;&#x5168;&#x662f;&#x7a7a;&#x5bf9;&#x8c61;(page-&gt;inuse == 0)&#xff0c;&#x4e14;s-&gt;node-&gt;nr_partial &gt; s-&gt;min_partial&#x65f6;&#xff0c;&#x9500;&#x6bc1;slab&#xff0c;&#x91ca;&#x653e;slab&#x5360;&#x7528;&#x7684;&#x9875;&#x3002;">
<node CREATED="1464853132956" ID="ID_1819136824" MODIFIED="1464853210524">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;prior&#19981;&#20026;&#31354;&#65292;&#35828;&#26126;&#24453;&#38144;&#27585;&#30340;slab&#20043;&#21069;&#22788;&#20110;slab partial list&#20013;&#65292;&#25152;&#20197;&#35201;&#20174;&#20013;&#31227;&#38500;&#12290;
    </p>
    <p>
      remove_partial(n, page)
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1464853180176" ID="ID_1900972659" MODIFIED="1464853231361" TEXT="discard_slab(s, page)"/>
</node>
</node>
</node>
</node>
<node CREATED="1464641219320" ID="ID_51505670" MODIFIED="1464641220378" TEXT="void *kmalloc(size_t size, gfp_t flags)"/>
<node CREATED="1464641028528" ID="ID_14696503" MODIFIED="1464641029227" TEXT="void kfree(const void *x)"/>
<node CREATED="1464641057736" ID="ID_714735318" MODIFIED="1464641058434" TEXT="int kmem_cache_shrink(struct kmem_cache *s)"/>
</node>
</node>
</node>
</map>
