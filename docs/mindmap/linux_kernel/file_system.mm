<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1470978594145" ID="ID_1818147239" MODIFIED="1470978604619" TEXT="file_system">
<node CREATED="1470978970272" ID="ID_138602618" MODIFIED="1471116937224" POSITION="right" TEXT="&#x57fa;&#x672c;&#x6982;&#x5ff5;">
<node CREATED="1470978980176" FOLDED="true" ID="ID_401729866" MODIFIED="1471732839075" TEXT="VFS">
<node CREATED="1470979037777" ID="ID_1457312280" MODIFIED="1470979053587">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_vfs_1.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1471732714462" FOLDED="true" ID="ID_671101549" MODIFIED="1471732836553" TEXT="&#x4f2a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;">
<node CREATED="1470979037777" ID="ID_1131878194" MODIFIED="1471732821943">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_vfs_6.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1470979037777" ID="ID_820940283" MODIFIED="1471732830206">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_vfs_7.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1470979205072" FOLDED="true" ID="ID_1863784950" MODIFIED="1471732704721">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26680;&#24515;&#23545;&#35937;
    </p>
    <p>
      superblock / inode / dentry / file
    </p>
  </body>
</html></richcontent>
<node CREATED="1470979890939" FOLDED="true" ID="ID_1533337213" MODIFIED="1471130739887" TEXT="file">
<node CREATED="1470980063667" ID="ID_279756187" MODIFIED="1470980078089">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_file_1.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1470980113716" ID="ID_962336418" MODIFIED="1470980399015" TEXT="&#x8fdb;&#x7a0b;&#x6bcf;&#x6253;&#x5f00;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#xff0c;&#x5c31;&#x4f1a;&#x6709;&#x4e00;&#x4e2a;file&#x7ed3;&#x6784;&#x4e0e;&#x4e4b;&#x5bf9;&#x5e94;&#x3002;&#x540c;&#x4e00;&#x4e2a;&#x8fdb;&#x7a0b;&#x53ef;&#x4ee5;&#x591a;&#x6b21;&#x6253;&#x5f00;&#x540c;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x800c;&#x5f97;&#x5230;&#x591a;&#x4e2a;&#x4e0d;&#x540c;&#x7684;file&#x7ed3;&#x6784;&#xff0c;file&#x7ed3;&#x6784;&#x63cf;&#x8ff0;&#x88ab;&#x6253;&#x5f00;&#x6587;&#x4ef6;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x6587;&#x4ef6;&#x7684;&#x5f53;&#x524d;&#x504f;&#x79fb;&#x91cf;&#x7b49;&#x4fe1;&#x606f;&#x3002;&#x6587;&#x4ef6;&#x4e3b;&#x8981;&#x63cf;&#x8ff0;&#x4e86;&#x7528;&#x6237;&#x662f;&#x5982;&#x4f55;&#x4f7f;&#x7528;&#x6587;&#x4ef6;&#x7684;&#x3002;"/>
<node CREATED="1470982891533" ID="ID_1722313078" MODIFIED="1470982909166">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_file_2.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1470982891533" ID="ID_1689251428" MODIFIED="1470982926596">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_3.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1470979896813" FOLDED="true" ID="ID_1529494144" MODIFIED="1471130745792" TEXT="superblock">
<node CREATED="1471017200439" ID="ID_825776497" MODIFIED="1471017419832">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#39318;&#20808;&#35201;&#21306;&#20998;2&#20010;&#27010;&#24565;&#65306;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;(struct file_system_type)&#21644;&#36229;&#32423;&#22359;(struct super_block)
    </p>
    <p>
      
    </p>
    <p>
      &#25991;&#20214;&#31995;&#32479;&#31867;&#22411;(struct file_system_type)&#30456;&#24403;&#20110;&#19968;&#20010;&#31867;&#65292;&#23427;&#34920;&#31034;&#19968;&#31181;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#12290;&#32780;&#36229;&#32423;&#22359;(struct super_block)&#21017;&#26159;&#31867;&#30340;&#23454;&#20363;&#65292;&#23427;&#34920;&#31034;&#26576;&#31181;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#30340;&#19968;&#20010;&#20855;&#20307;&#23454;&#20363;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471017570345" ID="ID_1216167316" MODIFIED="1471017581484">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_sb_1.JPG" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1470979906407" FOLDED="true" ID="ID_595366232" MODIFIED="1471242658114" TEXT="inode">
<node CREATED="1470980820527" ID="ID_1881869739" MODIFIED="1470981282047" TEXT="&#x6bcf;&#x4e2a;&#x6587;&#x4ef6;(&#x548c;&#x76ee;&#x5f55;)&#x90fd;&#x6709;&#x4e14;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x5bf9;&#x5e94;&#x7684;inode&#xff0c;&#x5176;&#x4e2d;&#x5305;&#x542b;&#x5143;&#x6570;&#x636e;&#xff0c;&#x5982;&#x6587;&#x4ef6;&#x5927;&#x5c0f;&#xff0c;&#x8bbe;&#x5907;&#x6807;&#x8bc6;&#x7b26;&#xff0c;&#x7528;&#x6237;&#x6807;&#x8bc6;&#x7b26;&#xff0c;&#x7528;&#x6237;&#x7ec4;&#x6807;&#x8bc6;&#x7b26;&#xff0c;&#x6587;&#x4ef6;&#x6a21;&#x5f0f;&#xff0c;&#x6269;&#x5c55;&#x5c5e;&#x6027;&#xff0c;&#x6587;&#x4ef6;&#x8bfb;&#x53d6;&#x6216;&#x4fee;&#x6539;&#x7684;&#x65f6;&#x95f4;&#x6233;&#xff0c;&#x94fe;&#x63a5;&#x6570;&#x91cf;&#xff0c;&#x6307;&#x5411;&#x5b58;&#x50a8;&#x8be5;&#x5185;&#x5bb9;&#x7684;&#x78c1;&#x76d8;&#x533a;&#x5757;&#x7684;&#x6307;&#x9488;&#xff0c;&#x6587;&#x4ef6;&#x5206;&#x7c7b;&#x7b49;&#x7b49;&#x3002;&#x3002;&#x4f46;inode&#x5e76;&#x4e0d;&#x5305;&#x542b;&#x6587;&#x4ef6;&#x540d;&#x3002;"/>
<node CREATED="1470981317698" FOLDED="true" ID="ID_79493713" MODIFIED="1471159107371" TEXT="&#x6ce8;&#x610f;&#xff1a;inode&#x6709;&#x4e24;&#x79cd;&#xff0c;&#x4e00;&#x79cd;&#x662f;VFS&#x7684;inode&#xff0c;&#x4e00;&#x79cd;&#x662f;&#x5177;&#x4f53;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;inode&#x3002;&#x524d;&#x8005;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#xff0c;&#x540e;&#x8005;&#x5728;&#x78c1;&#x76d8;&#x4e2d;&#x3002;&#x6240;&#x4ee5;&#x6bcf;&#x6b21;&#x5176;&#x5b9e;&#x662f;&#x5c06;&#x78c1;&#x76d8;&#x4e2d;&#x7684;inode&#x8c03;&#x8fdb;&#x586b;&#x5145;&#x5185;&#x5b58;&#x4e2d;&#x7684;inode&#xff0c;&#x8fd9;&#x6837;&#x624d;&#x662f;&#x7b97;&#x4f7f;&#x7528;&#x4e86;&#x78c1;&#x76d8;&#x6587;&#x4ef6;inode&#x3002;">
<node CREATED="1471159080655" ID="ID_704897854" MODIFIED="1471159105368" TEXT="inode&#x4f1a;&#x6d88;&#x8017;&#x786c;&#x76d8;&#x7a7a;&#x95f4;&#xff0c;&#x6240;&#x4ee5;&#x786c;&#x76d8;&#x683c;&#x5f0f;&#x5316;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x81ea;&#x52a8;&#x5c06;&#x786c;&#x76d8;&#x5206;&#x6210;&#x4e24;&#x4e2a;&#x533a;&#x57df;&#x3002;&#x4e00;&#x4e2a;&#x662f;&#x6570;&#x636e;&#x533a;&#xff0c;&#x5b58;&#x653e;&#x6587;&#x4ef6;&#x6570;&#x636e;&#xff1b;&#x53e6;&#x4e00;&#x4e2a;&#x662f;inode&#x533a;&#xff08;inode table&#xff09;&#xff0c;&#x5b58;&#x653e;inode&#x6240;&#x5305;&#x542b;&#x7684;&#x4fe1;&#x606f;&#x3002; &#x67e5;&#x770b;&#x6bcf;&#x4e2a;&#x786c;&#x76d8;&#x5206;&#x533a;&#x7684;inode&#x603b;&#x6570;&#x548c;&#x5df2;&#x7ecf;&#x4f7f;&#x7528;&#x7684;&#x6570;&#x91cf;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;df&#x547d;&#x4ee4;&#x3002; &#xa;df -i  &#xa;sudo dumpe2fs -h /dev/hda | grep &#x201c;Inode size&#x201d; //&#x67e5;&#x770b;&#x6bcf;&#x4e2a;inode&#x8282;&#x70b9;&#x7684;&#x5927;&#x5c0f;"/>
</node>
<node CREATED="1470981371746" ID="ID_186569200" MODIFIED="1470981393060" TEXT="&#x6bcf;&#x4e2a;inode&#x6709;&#x4e00;&#x4e2a;inode&#x53f7;&#xff1a;inode&#x53f7;&#x662f;&#x552f;&#x4e00;&#x7684;&#xff0c;&#x8868;&#x793a;&#x4e0d;&#x540c;&#x7684;&#x6587;&#x4ef6;&#x3002;&#x5176;&#x5b9e;&#x5728;Linux&#x5185;&#x90e8;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x8bbf;&#x95ee;&#x6587;&#x4ef6;&#x90fd;&#x662f;&#x901a;&#x8fc7;inode&#x53f7;&#x6765;&#x8fdb;&#x884c;&#x7684;&#xff0c;&#x6240;&#x8c13;&#x6587;&#x4ef6;&#x540d;&#x4ec5;&#x4ec5;&#x662f;&#x7ed9;&#x7528;&#x6237;&#x5bb9;&#x6613;&#x4f7f;&#x7528;&#x7684;&#x3002;&#x5f53;&#x6211;&#x4eec;&#x6253;&#x5f00;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x9996;&#x5148;&#xff0c;&#x7cfb;&#x7edf;&#x627e;&#x5230;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x540d;&#x5bf9;&#x5e94;&#x7684;inode&#x53f7;&#xff1b;&#x7136;&#x540e;&#xff0c;&#x901a;&#x8fc7;inode&#x53f7;&#xff0c;&#x5f97;&#x5230;inode&#x4fe1;&#x606f;&#xff0c;&#x6700;&#x540e;&#xff0c;&#x7531;inode&#x627e;&#x5230;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x6240;&#x5728;&#x7684;block&#xff0c;&#x73b0;&#x5728;&#x53ef;&#x4ee5;&#x5904;&#x7406;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x4e86;&#x3002;"/>
<node CREATED="1470981417838" ID="ID_583346837" MODIFIED="1470981419264" TEXT="inode&#x548c;&#x6587;&#x4ef6;&#x7684;&#x5173;&#x7cfb;&#xff1a;&#x5f53;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5c31;&#x7ed9;&#x6587;&#x4ef6;&#x5206;&#x914d;&#x4e86;&#x4e00;&#x4e2a;inode&#x3002;&#x4e00;&#x4e2a;inode&#x53ea;&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x5b9e;&#x9645;&#x6587;&#x4ef6;&#xff0c;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x4e5f;&#x4f1a;&#x53ea;&#x6709;&#x4e00;&#x4e2a;inode&#x3002;inodes&#x6700;&#x5927;&#x6570;&#x91cf;&#x5c31;&#x662f;&#x6587;&#x4ef6;&#x7684;&#x6700;&#x5927;&#x6570;&#x91cf;&#x3002;"/>
<node CREATED="1470981996306" ID="ID_143214674" MODIFIED="1470982008161" TEXT="&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x76ee;&#x5f55;&#x4e5f;&#x662f;&#x4e00;&#x79cd;&#x6587;&#x4ef6;&#x3002;&#x6253;&#x5f00;&#x76ee;&#x5f55;&#xff0c;&#x5b9e;&#x9645;&#x4e0a;&#x5c31;&#x662f;&#x8bfb;&#x53d6;&#x201c;&#x76ee;&#x5f55;&#x6587;&#x4ef6;&#x201d;&#x3002;"/>
</node>
<node CREATED="1470979910796" FOLDED="true" ID="ID_640834903" MODIFIED="1471156351366" TEXT="dentry">
<node CREATED="1470982459392" ID="ID_698972096" MODIFIED="1470982461360" TEXT="&#x76ee;&#x5f55;&#x9879;&#x662f;&#x63cf;&#x8ff0;&#x6587;&#x4ef6;&#x7684;&#x903b;&#x8f91;&#x5c5e;&#x6027;&#xff0c;&#x53ea;&#x5b58;&#x5728;&#x4e8e;&#x5185;&#x5b58;&#x4e2d;&#xff0c;&#x5e76;&#x6ca1;&#x6709;&#x5b9e;&#x9645;&#x5bf9;&#x5e94;&#x7684;&#x78c1;&#x76d8;&#x4e0a;&#x7684;&#x63cf;&#x8ff0;&#xff0c;&#x66f4;&#x786e;&#x5207;&#x7684;&#x8bf4;&#x662f;&#x5b58;&#x5728;&#x4e8e;&#x5185;&#x5b58;&#x7684;&#x76ee;&#x5f55;&#x9879;&#x7f13;&#x5b58;&#xff0c;&#x4e3a;&#x4e86;&#x63d0;&#x9ad8;&#x67e5;&#x627e;&#x6027;&#x80fd;&#x800c;&#x8bbe;&#x8ba1;&#x3002;&#x6ce8;&#x610f;&#x4e0d;&#x7ba1;&#x662f;&#x6587;&#x4ef6;&#x5939;&#x8fd8;&#x662f;&#x6700;&#x7ec8;&#x7684;&#x6587;&#x4ef6;&#xff0c;&#x90fd;&#x662f;&#x5c5e;&#x4e8e;&#x76ee;&#x5f55;&#x9879;&#xff0c;&#x6240;&#x6709;&#x7684;&#x76ee;&#x5f55;&#x9879;&#x5728;&#x4e00;&#x8d77;&#x6784;&#x6210;&#x4e00;&#x9897;&#x5e9e;&#x5927;&#x7684;&#x76ee;&#x5f55;&#x6811;&#x3002;&#x4f8b;&#x5982;&#xff1a;open&#x4e00;&#x4e2a;&#x6587;&#x4ef6;/home/xxx/yyy.txt&#xff0c;&#x90a3;&#x4e48;/&#x3001;home&#x3001;xxx&#x3001;yyy.txt&#x90fd;&#x662f;&#x4e00;&#x4e2a;&#x76ee;&#x5f55;&#x9879;&#xff0c;VFS&#x5728;&#x67e5;&#x627e;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6839;&#x636e;&#x4e00;&#x5c42;&#x4e00;&#x5c42;&#x7684;&#x76ee;&#x5f55;&#x9879;&#x627e;&#x5230;&#x5bf9;&#x5e94;&#x7684;&#x6bcf;&#x4e2a;&#x76ee;&#x5f55;&#x9879;&#x7684;inode&#xff0c;&#x90a3;&#x4e48;&#x6cbf;&#x7740;&#x76ee;&#x5f55;&#x9879;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#x5c31;&#x53ef;&#x4ee5;&#x627e;&#x5230;&#x6700;&#x7ec8;&#x7684;&#x6587;&#x4ef6;&#x3002;  &#x6ce8;&#x610f;&#xff1a;&#x76ee;&#x5f55;&#x4e5f;&#x662f;&#x4e00;&#x79cd;&#x6587;&#x4ef6;(&#x6240;&#x4ee5;&#x4e5f;&#x5b58;&#x5728;&#x5bf9;&#x5e94;&#x7684;inode)&#x3002;&#x6253;&#x5f00;&#x76ee;&#x5f55;&#xff0c;&#x5b9e;&#x9645;&#x4e0a;&#x5c31;&#x662f;&#x6253;&#x5f00;&#x76ee;&#x5f55;&#x6587;&#x4ef6;&#x3002;"/>
<node CREATED="1470982499138" ID="ID_572777310" MODIFIED="1470982500843" TEXT="&#x4e24;&#x4e2a;&#x4e0d;&#x540c;&#x7684;file&#x7ed3;&#x6784;&#x53ef;&#x4ee5;&#x5bf9;&#x5e94;&#x540c;&#x4e00;&#x4e2a;dentry&#x7ed3;&#x6784;&#x3002;&#x8fdb;&#x7a0b;&#x591a;&#x6b21;&#x6253;&#x5f00;&#x540c;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x65f6;&#xff0c;&#x5bf9;&#x5e94;&#x7684;&#x53ea;&#x6709;&#x4e00;&#x4e2a;dentry&#x7ed3;&#x6784;&#x3002;Dentry&#x7ed3;&#x6784;&#x5b58;&#x50a8;&#x76ee;&#x5f55;&#x9879;&#x548c;&#x5bf9;&#x5e94;&#x6587;&#x4ef6;&#xff08;inode&#xff09;&#x7684;&#x4fe1;&#x606f;&#x3002;"/>
<node CREATED="1470982511577" ID="ID_635380784" MODIFIED="1470982513579" TEXT="&#x5728;&#x5b58;&#x50a8;&#x4ecb;&#x8d28;&#x4e2d;&#xff0c;&#x6bcf;&#x4e2a;&#x6587;&#x4ef6;&#x5bf9;&#x5e94;&#x552f;&#x4e00;&#x7684;inode&#x7ed3;&#x70b9;&#xff0c;&#x4f46;&#x662f;&#x6bcf;&#x4e2a;&#x6587;&#x4ef6;&#x53c8;&#x53ef;&#x4ee5;&#x6709;&#x591a;&#x4e2a;&#x6587;&#x4ef6;&#x540d;&#x3002;&#x5373;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4e0d;&#x540c;&#x7684;&#x6587;&#x4ef6;&#x540d;&#x8bbf;&#x95ee;&#x540c;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x3002;&#x8fd9;&#x91cc;&#x591a;&#x4e2a;&#x6587;&#x4ef6;&#x540d;&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x7684;&#x5173;&#x7cfb;&#x5728;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x4e2d;&#x8868;&#x793a;&#x5c31;&#x662f;dentry&#x548c;inode&#x7684;&#x5173;&#x7cfb;&#x3002;"/>
<node CREATED="1470982532360" ID="ID_64018657" MODIFIED="1470982534045" TEXT="Inode&#x4e2d;&#x4e0d;&#x5b58;&#x50a8;&#x6587;&#x4ef6;&#x7684;&#x540d;&#x5b57;&#xff0c;&#x5b83;&#x53ea;&#x5b58;&#x50a8;&#x8282;&#x70b9;&#x53f7;&#xff1b;&#x800c;dentry&#x5219;&#x4fdd;&#x5b58;&#x6709;&#x540d;&#x5b57;&#x548c;&#x4e0e;&#x5176;&#x5bf9;&#x5e94;&#x7684;&#x8282;&#x70b9;&#x53f7;&#xff0c;&#x6240;&#x4ee5;&#x5c31;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4e0d;&#x540c;&#x7684;dentry&#x8bbf;&#x95ee;&#x540c;&#x4e00;&#x4e2a;inode&#x3002;"/>
<node CREATED="1470982542702" ID="ID_53238145" MODIFIED="1470982544931" TEXT="&#x4e0d;&#x540c;&#x7684;dentry&#x5219;&#x662f;&#x540c;&#x4e2a;&#x6587;&#x4ef6;&#x94fe;&#x63a5;&#xff08;ln&#x547d;&#x4ee4;&#xff09;&#x6765;&#x5b9e;&#x73b0;&#x7684;&#x3002;"/>
</node>
<node CREATED="1470982621016" FOLDED="true" ID="ID_1594209778" MODIFIED="1471242466481" TEXT="link">
<node CREATED="1470982627363" ID="ID_1326606332" MODIFIED="1470982637699">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_dentry_1.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1470982627363" ID="ID_593328165" MODIFIED="1471155427053">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_inode_3.JPG" />
    </p>
  </body>
</html></richcontent>
<node CREATED="1471155437766" FOLDED="true" ID="ID_856316506" MODIFIED="1471159605664" TEXT="hard link &#x786c;&#x94fe;&#x63a5;">
<node CREATED="1471155467851" ID="ID_65356757" MODIFIED="1471155468978" TEXT="&#x57fa;&#x672c;&#x5b9a;&#x4e49;&#xff1a;&#x786c;&#x94fe;&#x63a5;&#x662f;&#x6709;&#x7740;&#x76f8;&#x540c;inode&#x53f7;&#x7684;&#x4ec5;&#x6587;&#x4ef6;&#x540d;&#x4e0d;&#x540c;&#x7684;&#x6587;&#x4ef6;&#xff08;&#x8be5;&#x6587;&#x4ef6;&#x540d;&#x5305;&#x542b;&#x8def;&#x5f84;&#x4fe1;&#x606f;&#xff09;&#x3002;"/>
<node CREATED="1471155480287" ID="ID_1932461842" MODIFIED="1471155481206" TEXT="&#x7406;&#x89e3;&#xff1a;&#x5982;&#x56fe;&#xff0c;hard link&#x548c;&#x539f;&#x59cb;file&#x901a;&#x8fc7;&#x540c;&#x4e00;&#x4e2a;inode&#x5b9e;&#x73b0;&#x94fe;&#x63a5;&#x3002;&#x5728;&#x4f7f;&#x7528;stat/ls -li&#x67e5;&#x770b;&#x8fd9;&#x4e24;&#x4e2a;&#x6587;&#x4ef6;&#x540d;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x4ed6;&#x4eec;&#x7684;inode&#x53f7;&#x662f;&#x4e00;&#x6837;&#x7684;&#x3002;"/>
<node CREATED="1471155492952" ID="ID_1497848970" MODIFIED="1471155587321" TEXT="&#x7279;&#x6027;&#xff1a;  &#xa;&#x6587;&#x4ef6;&#x6709;&#x76f8;&#x540c;&#x7684;inode&#x548c;data block &#xa;&#x53ea;&#x80fd;&#x5bf9;&#x5df2;&#x5b58;&#x5728;&#x7684;&#x6587;&#x4ef6;&#x8fdb;&#x884c;&#x521b;&#x5efa;hard link&#xa;&#x4e0d;&#x80fd;&#x4ea4;&#x53c9;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x8fdb;&#x884c;&#x521b;&#x5efa;&#xa;&#x4e0d;&#x80fd;&#x5bf9;&#x76ee;&#x5f55;&#x8fdb;&#x884c;&#x521b;&#x5efa;&#xff0c;&#x53ea;&#x80fd;&#x5bf9;&#x6587;&#x4ef6;&#x521b;&#x5efa;&#xa;&#x5220;&#x9664;&#x4e00;&#x4e2a;hard link&#x6587;&#x4ef6;&#x5e76;&#x4e0d;&#x5f71;&#x54cd;&#x5176;&#x4ed6;&#x6709;&#x76f8;&#x540c;inode &#x53f7;&#x7684;&#x6587;&#x4ef6;&#xff0c;&#x5e76;&#x4e14;&#x8be5;&#x6587;&#x4ef6;&#x4e5f;&#x4e0d;&#x4f1a;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x53ea;&#x6709;&#x7b49;&#x5230;&#x6240;&#x6709;&#x7684;&#x786c;&#x94fe;&#x63a5;&#x90fd;&#x5220;&#x9664;&#x4e86;&#xff0c;&#x624d;&#x5220;&#x9664;&#x8be5;inode&#x53ca;&#x5176;&#x76f8;&#x5173;data block&#x7684;&#x4fe1;&#x606f;"/>
<node CREATED="1471159392701" ID="ID_1504746427" MODIFIED="1471159568532" TEXT="&#x6bcf;&#x591a;&#x4e00;&#x4e2a;dentry&#x6307;&#x5411;&#x540c;&#x4e00;&#x4e2a;inode&#xff0c;i_count&#x5c31;&#x52a0;1&#x3002;&#x6bcf;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x540d;&#xff0c;&#x5373;&#x89e3;&#x9664;dentry&#x4e0e;inode&#x7684;&#x5173;&#x8054;&#xff0c;i_count&#x5c31;&#x51cf;1&#x3002;&#x5f53;&#x8fd9;&#x4e2a;&#x503c;&#x51cf;&#x5230;0&#xff0c;&#x8868;&#x660e;&#x6ca1;&#x6709;&#x6587;&#x4ef6;&#x540d;&#x6307;&#x5411;&#x8fd9;&#x4e2a;inode&#xff0c;&#x7cfb;&#x7edf;&#x5c31;&#x4f1a;&#x56de;&#x6536;&#x8fd9;&#x4e2a;inode&#x53f7;&#x7801;&#xff0c;&#x4ee5;&#x53ca;&#x5176;&#x6240;&#x5bf9;&#x5e94;block&#x533a;&#x57df;&#x3002; &#x521b;&#x5efa;&#x76ee;&#x5f55;&#x65f6;&#xff0c;&#x9ed8;&#x8ba4;&#x4f1a;&#x751f;&#x6210;&#x4e24;&#x4e2a;&#x76ee;&#x5f55;&#x9879;&#xff1a;&#x201d;.&#x201d;&#x548c;&#x201d;..&#x201d;&#x3002;&#x524d;&#x8005;&#x7684;inode&#x53f7;&#x7801;&#x5c31;&#x662f;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x7684;inode&#x53f7;&#x7801;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x7684;&#x201d;&#x786c;&#x94fe;&#x63a5;&#x201d;&#xff1b;&#x540e;&#x8005;&#x7684;inode&#x53f7;&#x7801;&#x5c31;&#x662f;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x7684;&#x7236;&#x76ee;&#x5f55;&#x7684;inode&#x53f7;&#x7801;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x7236;&#x76ee;&#x5f55;&#x7684;&#x201d;&#x786c;&#x94fe;&#x63a5;&#x201d;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x4efb;&#x4f55;&#x4e00;&#x4e2a;&#x76ee;&#x5f55;&#x7684;&#x201d;&#x786c;&#x94fe;&#x63a5;&#x201d;&#x603b;&#x6570;&#xff0c;&#x603b;&#x662f;&#x7b49;&#x4e8e;2&#x52a0;&#x4e0a;&#x5b83;&#x7684;&#x5b50;&#x76ee;&#x5f55;&#x603b;&#x6570;&#xff08;&#x542b;&#x9690;&#x85cf;&#x76ee;&#x5f55;&#xff09;,&#x8fd9;&#x91cc;&#x7684;2&#x662f;&#x7236;&#x76ee;&#x5f55;&#x5bf9;&#x5176;&#x7684;&#x201c;&#x786c;&#x94fe;&#x63a5;&#x201d;&#x548c;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x4e0b;&#x7684;&#x201d;.&#x786c;&#x94fe;&#x63a5;&#x201c;&#x3002;"/>
</node>
<node CREATED="1471155596207" FOLDED="true" ID="ID_199185066" MODIFIED="1471159707607" TEXT="symbol link &#x7b26;&#x53f7;&#x94fe;&#x63a5;">
<node CREATED="1471155627064" ID="ID_1703788256" MODIFIED="1471155628035" TEXT="&#x57fa;&#x672c;&#x5b9a;&#x4e49;&#xff1a;&#x67d0;&#x6587;&#x4ef6;&#x7684;&#x6570;&#x636e;&#x5757;&#x4e2d;&#x5b58;&#x653e;&#x7684;&#x5185;&#x5bb9;&#x662f;&#x53e6;&#x4e00;&#x6587;&#x4ef6;&#x7684;&#x8def;&#x5f84;&#x540d;&#x7684;&#x6307;&#x5411;&#xff08;&#x901a;&#x8fc7;&#x5b9e;&#x9a8c;&#x53d1;&#x73b0;&#xff0c;&#x7701;&#x53bb;&#x4e86;&#x76f8;&#x540c;&#x7684;&#x8def;&#x5f84;&#x90e8;&#x5206;&#xff09;&#x3002;&#x5219;&#x8be5;&#x6587;&#x4ef6;&#x5c31;&#x662f;symbol link&#x3002;symbol link &#x6709;&#x7740;&#x81ea;&#x5df1;&#x7684;inode&#x53f7;&#x4ee5;&#x53ca;&#x7528;&#x6237;&#x6570;&#x636e;&#x5757;&#x3002;"/>
<node CREATED="1471155660944" ID="ID_1520289724" MODIFIED="1471155661904" TEXT="&#x7406;&#x89e3;&#xff1a;&#x5982;&#x56fe;&#xff0c;symbol link&#x6709;&#x81ea;&#x5df1;&#x7684;inode&#xff0c;&#x4f46;&#x662f;&#x5176;&#x6570;&#x636e;&#x5757;&#x4e2d;&#x7684;&#x5185;&#x5bb9;&#x662f;&#x6240;&#x94fe;&#x63a5;&#x7684;&#x6587;&#x4ef6;&#x7684;&#x6587;&#x4ef6;&#x540d;&#x3002;"/>
<node CREATED="1471155674649" ID="ID_739616966" MODIFIED="1471155715215" TEXT="&#x7279;&#x6027;&#xff1a;&#xa;&#x8f6f;&#x94fe;&#x63a5;&#x6709;&#x81ea;&#x5df1;&#x7684;&#x6587;&#x4ef6;&#x5c5e;&#x6027;&#x53ca;&#x6743;&#x9650;&#x7b49;&#xa;&#x53ef;&#x5bf9;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x6587;&#x4ef6;&#x6216;&#x76ee;&#x5f55;&#x521b;&#x5efa;&#x8f6f;&#x94fe;&#x63a5;&#xff1b;&#xa;&#x8f6f;&#x94fe;&#x63a5;&#x53ef;&#x4ea4;&#x53c9;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#xff1b;     &#x8f6f;&#x94fe;&#x63a5;&#x53ef;&#x5bf9;&#x6587;&#x4ef6;&#x6216;&#x76ee;&#x5f55;&#x521b;&#x5efa;&#xff1b;&#xa;&#x521b;&#x5efa;&#x8f6f;&#x94fe;&#x63a5;&#x65f6;&#xff0c;&#x94fe;&#x63a5;&#x8ba1;&#x6570; i_nlink &#x4e0d;&#x4f1a;&#x589e;&#x52a0;&#xff1b;&#xa;&#x5220;&#x9664;&#x8f6f;&#x94fe;&#x63a5;&#x5e76;&#x4e0d;&#x5f71;&#x54cd;&#x88ab;&#x6307;&#x5411;&#x7684;&#x6587;&#x4ef6;&#xff0c;&#x4f46;&#x82e5;&#x88ab;&#x6307;&#x5411;&#x7684;&#x539f;&#x6587;&#x4ef6;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x5219;&#x76f8;&#x5173;&#x8f6f;&#x8fde;&#x63a5;&#x88ab;&#x79f0;&#x4e3a;&#x6b7b;&#x94fe;&#x63a5;&#xff08;&#x5373;      dyling link&#xff0c;&#x82e5;&#x88ab;&#x6307;&#x5411;&#x8def;&#x5f84;&#x6587;&#x4ef6;&#x88ab;&#x91cd;&#x65b0;&#x521b;&#x5efa;&#xff0c;&#x6b7b;&#x94fe;&#x63a5;&#x53ef;&#x6062;&#x590d;&#x4e3a;&#x6b63;&#x5e38;&#x7684;&#x8f6f;&#x94fe;&#x63a5;&#xff09;&#x3002; "/>
<node CREATED="1471159629527" ID="ID_1147759972" MODIFIED="1471159687792" TEXT="&#x5f53;&#x7b26;&#x53f7;&#x94fe;&#x63a5;A&#x6307;&#x5411;&#x6587;&#x4ef6;B&#x65f6;&#xff0c;&#x867d;&#x7136;&#x540d;&#x5b57;&#x4e0d;&#x4e00;&#x6837;&#xff0c;&#x6587;&#x4ef6;A&#x7684;&#x5185;&#x5bb9;&#x662f;&#x6587;&#x4ef6;B&#x7684;&#x8def;&#x5f84;&#x3002;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;A&#x65f6;&#xff0c;&#x7cfb;&#x7edf;&#x4f1a;&#x81ea;&#x52a8;&#x5c06;&#x8bbf;&#x95ee;&#x8005;&#x5bfc;&#x5411;&#x6587;&#x4ef6;B&#x3002;&#x5982;&#x679c;&#x5220;&#x9664;&#x4e86;&#x6587;&#x4ef6;B&#xff0c;&#x6253;&#x5f00;&#x6587;&#x4ef6;A&#x5c31;&#x4f1a;&#x62a5;&#x9519;&#x3002;&#x6587;&#x4ef6;A&#x6307;&#x5411;&#x6587;&#x4ef6;B&#x7684;&#x6587;&#x4ef6;&#x540d;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x6587;&#x4ef6;B&#x7684;inode&#x53f7;&#x7801;&#xff0c;&#x6587;&#x4ef6;B&#x7684;inode&#x201d;&#x94fe;&#x63a5;&#x6570;&#x201d;&#x4e0d;&#x4f1a;&#x56e0;&#x6b64;&#x53d1;&#x751f;&#x53d8;&#x5316;&#x3002;"/>
</node>
<node CREATED="1471155787499" FOLDED="true" ID="ID_63979552" MODIFIED="1471155827327" TEXT="&#x76f8;&#x5173;&#x64cd;&#x4f5c;">
<node CREATED="1471155797574" ID="ID_239075187" MODIFIED="1471155824175" TEXT="ln &#x539f;&#x59cb;&#x6587;&#x4ef6; &#x786c;&#x94fe;&#x63a5;&#x6587;&#x4ef6;&#xa;ln -s &#x539f;&#x59cb;&#x6587;&#x4ef6; &#x8f6f;&#x94fe;&#x63a5;&#x6587;&#x4ef6;&#xa;stat&#x6216;&#x8005;ls -li &#x6587;&#x4ef6;&#x540d; &#x67e5;&#x770b;inode&#x53f7;&#x7b49;&#x4fe1;&#x606f;&#xa;find &#x8d77;&#x59cb;&#x76ee;&#x5f55; -inum 1000 &#xff1a;&#x4ece;&#x8d77;&#x59cb;&#x76ee;&#x5f55;&#x5f00;&#x59cb;&#x67e5;&#x627e;inode&#x53f7;&#x4e3a;1000&#x7684;&#x6587;&#x4ef6;"/>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1471016760801" ID="ID_1391363078" MODIFIED="1471018584434" POSITION="right" TEXT="&#x6570;&#x636e;&#x7ed3;&#x6784;">
<node CREATED="1471017881910" FOLDED="true" ID="ID_99931723" MODIFIED="1471720909730" TEXT=" struct file_system_type">
<node CREATED="1471018097333" ID="ID_65643885" MODIFIED="1471018097333" TEXT=" const char *name">
<node CREATED="1471019259310" ID="ID_1520518110" MODIFIED="1471019267704" TEXT="&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x540d;&#x79f0;"/>
</node>
<node CREATED="1471018097334" ID="ID_263797395" MODIFIED="1471018097334" TEXT=" int fs_flags"/>
<node CREATED="1471018097334" ID="ID_1932688755" MODIFIED="1471018097334" TEXT=" struct dentry *(*mount) (struct file_system_type *, int, const char *, void *)">
<node CREATED="1471422606432" ID="ID_930043820" MODIFIED="1471422613222" TEXT="&#x52a0;&#x8f7d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
</node>
<node CREATED="1471018097334" ID="ID_1040789265" MODIFIED="1471018097334" TEXT=" void (*kill_sb) (struct super_block *)">
<node CREATED="1471422615463" ID="ID_1500801470" MODIFIED="1471422621129" TEXT="&#x5378;&#x8f7d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
</node>
<node CREATED="1471018097335" MODIFIED="1471018097335" TEXT=" struct module *owner"/>
<node CREATED="1471018097335" ID="ID_48345267" MODIFIED="1471018097335" TEXT=" struct file_system_type * next">
<node CREATED="1471019316741" ID="ID_142779160" LINK="#ID_695911788" MODIFIED="1471019397832" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x81ea;&#x5df1;&#x94fe;&#x8fdb;&#x5168;&#x5c40;&#x94fe;&#x8868;file_systems&#x4e2d;&#x3002;"/>
</node>
<node CREATED="1471018097335" ID="ID_1839741589" MODIFIED="1471018097335" TEXT=" struct hlist_head fs_supers">
<node CREATED="1471018622014" ID="ID_921711859" LINK="#ID_695911788" MODIFIED="1471019416976" TEXT="&#x5c5e;&#x4e8e;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x7684;&#x6240;&#x6709;&#x8d85;&#x7ea7;&#x5757;"/>
</node>
<node CREATED="1471018097335" ID="ID_1958764661" MODIFIED="1471018097335" TEXT=" struct lock_class_key s_lock_key"/>
<node CREATED="1471018097335" MODIFIED="1471018097335" TEXT=" struct lock_class_key s_umount_key"/>
<node CREATED="1471018097335" ID="ID_1634169915" MODIFIED="1471018097335" TEXT=" struct lock_class_key s_vfs_rename_key"/>
<node CREATED="1471018097335" ID="ID_308137959" MODIFIED="1471018097335" TEXT=" struct lock_class_key s_writers_key[SB_FREEZE_LEVELS]"/>
<node CREATED="1471018097335" MODIFIED="1471018097335" TEXT=" struct lock_class_key i_lock_key"/>
<node CREATED="1471018097335" MODIFIED="1471018097335" TEXT=" struct lock_class_key i_mutex_key"/>
<node CREATED="1471018097335" ID="ID_1074605324" MODIFIED="1471018097335" TEXT=" struct lock_class_key i_mutex_dir_key"/>
</node>
<node CREATED="1471016800998" FOLDED="true" ID="ID_480476349" MODIFIED="1472066652290" TEXT="struct super_block">
<node CREATED="1471017841029" ID="ID_905943145" MODIFIED="1471017841029" TEXT=" struct list_head s_list">
<node CREATED="1471116053170" ID="ID_1245097903" LINK="#ID_831599190" MODIFIED="1471116138643" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x8d85;&#x7ea7;&#x5757;&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x5168;&#x5c40;&#x94fe;&#x8868;super_blocks&#x4e2d;"/>
</node>
<node CREATED="1471017841031" ID="ID_957507482" MODIFIED="1471017841031" TEXT=" dev_t s_dev">
<node CREATED="1471507033841" ID="ID_806702951" MODIFIED="1471507055894" TEXT="&#x8d85;&#x7ea7;&#x5757;&#x5bf9;&#x5e94;&#x7684;&#x5e95;&#x5c42;&#x8bbe;&#x5907;&#x7684;&#x7f16;&#x53f7;"/>
</node>
<node CREATED="1471017841031" ID="ID_1689299024" MODIFIED="1471017841031" TEXT=" unsigned char s_blocksize_bits"/>
<node CREATED="1471017841033" ID="ID_253956951" MODIFIED="1471017841033" TEXT=" unsigned long s_blocksize">
<node CREATED="1471127078543" ID="ID_1837173712" MODIFIED="1471127090297" TEXT="&#x4ee5;&#x5b57;&#x8282;&#x8ba1;&#x7b97;&#x7684;&#x5757;&#x5927;&#x5c0f;"/>
</node>
<node CREATED="1471017841034" ID="ID_202698601" MODIFIED="1471017841034" TEXT=" loff_t s_maxbytes"/>
<node CREATED="1471017841034" ID="ID_1018538540" MODIFIED="1471017841034" TEXT=" struct file_system_type *s_type">
<node CREATED="1471018735043" ID="ID_556846446" MODIFIED="1471018748997" TEXT="&#x8d85;&#x7ea7;&#x5757;&#x6240;&#x5c5e;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;"/>
</node>
<node CREATED="1471017841034" FOLDED="true" ID="ID_366454657" MODIFIED="1471725971882" TEXT=" const struct super_operations *s_op">
<node CREATED="1471123227743" ID="ID_1628273889" MODIFIED="1471123227743" TEXT=" struct inode *(*alloc_inode)(struct super_block *sb)"/>
<node CREATED="1471123227743" MODIFIED="1471123227743" TEXT=" void (*destroy_inode)(struct inode *)"/>
<node CREATED="1471123227743" ID="ID_1106731850" MODIFIED="1471123227743" TEXT=" void (*dirty_inode) (struct inode *, int flags)">
<node CREATED="1471507475685" ID="ID_1851156718" MODIFIED="1471507509077" TEXT="&#x5c06;inode&#x6807;&#x8bb0;&#x4e3a;&#x810f;&#xff0c;&#x5373;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x5df2;&#x88ab;&#x4fee;&#x6539;"/>
</node>
<node CREATED="1471123227743" ID="ID_1071227218" MODIFIED="1471123227743" TEXT=" int (*write_inode) (struct inode *, struct writeback_control *wbc)">
<node CREATED="1471507667132" ID="ID_1796948143" MODIFIED="1471507678313" TEXT="&#x5c06;inode&#x5199;&#x5165;&#x5b58;&#x50a8;&#x4ecb;&#x8d28;"/>
</node>
<node CREATED="1471123227743" MODIFIED="1471123227743" TEXT=" int (*drop_inode) (struct inode *)"/>
<node CREATED="1471123227743" MODIFIED="1471123227743" TEXT=" void (*evict_inode) (struct inode *)"/>
<node CREATED="1471123227743" ID="ID_1323232791" MODIFIED="1471123227743" TEXT=" void (*put_super) (struct super_block *)">
<node CREATED="1471507793469" ID="ID_1382567724" MODIFIED="1471507796164" TEXT="&#x5c06;&#x8d85;&#x7ea7;&#x5757;&#x7684;&#x79c1;&#x6709;&#x4fe1;&#x606f;&#x4ece;&#x5185;&#x5b58;&#x4e2d;&#x79fb;&#x9664;&#xff0c;&#x8fd9;&#x53d1;&#x751f;&#x5728;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5378;&#x8f7d;&#xff0c;&#x8be5;&#x6570;&#x636e;&#x4e0d;&#x518d;&#x9700;&#x8981;&#x65f6;&#x3002;"/>
</node>
<node CREATED="1471123227743" ID="ID_852850360" MODIFIED="1471123227743" TEXT=" int (*sync_fs)(struct super_block *sb, int wait)">
<node CREATED="1471507936349" ID="ID_388226477" MODIFIED="1471507937603" TEXT="&#x5c06;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x6570;&#x636e;&#x4e0e;&#x5e95;&#x5c42;&#x5757;&#x8bbe;&#x5907;&#x4e0a;&#x7684;&#x6570;&#x636e;&#x540c;&#x6b65; "/>
</node>
<node CREATED="1471123227743" ID="ID_237100024" MODIFIED="1471123227743" TEXT=" int (*freeze_fs) (struct super_block *)"/>
<node CREATED="1471123227743" MODIFIED="1471123227743" TEXT=" int (*unfreeze_fs) (struct super_block *)"/>
<node CREATED="1471123227743" ID="ID_1602730436" MODIFIED="1471123227743" TEXT=" int (*statfs) (struct dentry *, struct kstatfs *)">
<node CREATED="1471507886589" ID="ID_1851722863" MODIFIED="1471507887760" TEXT="&#x7ed9;&#x51fa;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x7edf;&#x8ba1;&#x4fe1;&#x606f;&#xff0c;&#x6bd4;&#x5982;&#x4f7f;&#x7528;&#x548c;&#x672a;&#x4f7f;&#x7528;&#x7684;&#x6570;&#x636e;&#x5757;&#x7684;&#x6570;&#x76ee;&#xff0c;&#x6216;&#x6587;&#x4ef6;&#x540d;&#x7684;&#x6700;&#x5927;&#x957f;&#x5ea6;&#x3002;&#x5b83;&#x4e0e;&#x540c;&#x540d;&#x7684;&#x7cfb;&#x7edf;&#x8c03;&#x7528;&#x5bc6;&#x5207;&#x76f8;&#x5173;&#x3002;"/>
</node>
<node CREATED="1471123227743" ID="ID_824847026" MODIFIED="1471123227743" TEXT=" int (*remount_fs) (struct super_block *, int *, char *)">
<node CREATED="1471721155226" ID="ID_565043352" MODIFIED="1471721156239" TEXT="&#x91cd;&#x65b0;&#x88c5;&#x8f7d;&#x4e00;&#x4e2a;&#x5df2;&#x7ecf;&#x88c5;&#x8f7d;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#xff0c;&#x9009;&#x9879;&#x53ef;&#x80fd;&#x6709;&#x6240;&#x6539;&#x53d8;(&#x8fd9;&#x53d1;&#x751f;&#x5728;&#x542f;&#x52a8;&#x65f6;&#xff0c;&#x4f8b;&#x5982;&#x5141;&#x8bb8;&#x5bf9; root&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x5199;&#x8bbf;&#x95ee;&#xff0c;&#x800c;&#x6b64;&#x524d;root&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x662f;&#x4ee5;&#x53ea;&#x8bfb;&#x8bbf;&#x95ee;&#x65b9;&#x5f0f;&#x88c5;&#x8f7d;&#x7684;)"/>
</node>
<node CREATED="1471123227743" ID="ID_1160415856" MODIFIED="1471123227743" TEXT=" void (*umount_begin) (struct super_block *)">
<node CREATED="1471725963668" ID="ID_365125138" MODIFIED="1471725964612" TEXT="&#x4ec5;&#x7528;&#x4e8e;&#x7f51;&#x7edc;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;(NFS, CIFS, 9fs)&#x548c;&#x7528;&#x6237;&#x7a7a;&#x95f4;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;(FUSE)&#x3002;&#x5b83;&#x5141;&#x8bb8;&#x5728;&#x5378;&#x8f7d;&#x64cd;&#x4f5c;&#x4e4b;&#x524d;&#xff0c; &#x4e0e;&#x8fdc;&#x7a0b;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x63d0;&#x4f9b;&#x8005;&#x901a;&#x4fe1;&#x3002;&#x4ec5;&#x5728;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5f3a;&#x5236;&#x5378;&#x8f7d;&#x65f6;&#x8c03;&#x7528;&#x8be5;&#x65b9;&#x6cd5;&#x3002;&#x6362;&#x53e5;&#x8bdd;&#x8bf4;&#xff0c;&#x5b83;&#x4ec5;&#x7528;&#x4e8e; MNT_FORCE&#x5f3a;&#x5236;&#x5185;&#x6838;&#x6267;&#x884c;umunt&#x64cd;&#x4f5c;&#x65f6;&#xff0c;&#x6b64;&#x65f6;&#x53ef;&#x80fd;&#x4ecd;&#x6709;&#x5bf9;&#x8be5;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x5f15;&#x7528;&#x3002;"/>
</node>
<node CREATED="1471123227743" ID="ID_543173125" MODIFIED="1471123227743" TEXT=" int (*show_options)(struct seq_file *, struct dentry *)">
<node CREATED="1471507962903" ID="ID_1416505903" MODIFIED="1471508012589" TEXT="&#x7528;&#x4e8e;proc&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#xff0c;&#x663e;&#x793a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x88c5;&#x8f7d;&#x7684;&#x9009;&#x9879;"/>
</node>
<node CREATED="1471123227743" ID="ID_1618406328" MODIFIED="1471123227743" TEXT=" int (*show_devname)(struct seq_file *, struct dentry *)"/>
<node CREATED="1471123227743" MODIFIED="1471123227743" TEXT=" int (*show_path)(struct seq_file *, struct dentry *)"/>
<node CREATED="1471123227744" ID="ID_256372067" MODIFIED="1471123227744" TEXT=" int (*show_stats)(struct seq_file *, struct dentry *)">
<node CREATED="1471507962903" ID="ID_69494302" MODIFIED="1471507984096" TEXT="&#x7528;&#x4e8e;proc&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#xff0c;&#x663e;&#x793a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7edf;&#x8ba1;&#x4fe1;&#x606f;"/>
</node>
<node CREATED="1471123227744" MODIFIED="1471123227744" TEXT=" ssize_t (*quota_read)(struct super_block *, int, char *, size_t, loff_t)"/>
<node CREATED="1471123227744" MODIFIED="1471123227744" TEXT=" ssize_t (*quota_write)(struct super_block *, int, const char *, size_t, loff_t)"/>
<node CREATED="1471123227744" ID="ID_1437507396" MODIFIED="1471123227744" TEXT=" int (*bdev_try_to_free_page)(struct super_block*, struct page*, gfp_t)"/>
<node CREATED="1471123227744" MODIFIED="1471123227744" TEXT=" long (*nr_cached_objects)(struct super_block *, int)"/>
<node CREATED="1471123227744" ID="ID_58354814" MODIFIED="1471123227744" TEXT=" long (*free_cached_objects)(struct super_block *, long, int)"/>
</node>
<node CREATED="1471017841034" ID="ID_41001586" MODIFIED="1471017841034" TEXT=" const struct dquot_operations *dq_op"/>
<node CREATED="1471017841034" ID="ID_357415881" MODIFIED="1471017841034" TEXT=" const struct quotactl_ops *s_qcop"/>
<node CREATED="1471017841034" ID="ID_1498390782" MODIFIED="1471017841034" TEXT=" const struct export_operations *s_export_op"/>
<node CREATED="1471017841034" ID="ID_1519567787" MODIFIED="1471017841034" TEXT=" unsigned long s_flags"/>
<node CREATED="1471017841034" MODIFIED="1471017841034" TEXT=" unsigned long s_magic"/>
<node CREATED="1471017841034" ID="ID_1959034942" MODIFIED="1471017841034" TEXT=" struct dentry *s_root">
<node CREATED="1471246295138" ID="ID_182799492" MODIFIED="1471246322649" TEXT="&#x8d85;&#x7ea7;&#x5757;&#x5bf9;&#x5e94;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x88c5;&#x8f7d;&#x70b9;"/>
<node CREATED="1471246788859" ID="ID_885461148" MODIFIED="1471506980866">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27604;&#22914;mount -t ntfs /dev/sdc1 /mnt/usbhd1&#23601;&#26159;&#23558;&#35774;&#22791;/dev/sdc1&#25346;&#22312;/mnt/usbhd1&#19978;&#65292;/mnt/usbhd1&#23601;&#26159;&#25346;&#36733;&#28857;&#65292;&#23545;&#24212;&#20102;&#19968;&#20010;dentry&#32467;&#26500;&#12290;&#27880;&#24847;&#19968;&#20010;&#35013;&#36733;&#28857;&#23545;&#24212;2&#20010;dentry&#65292;&#19968;&#20010;&#26159;&#29238;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;dentry&#65292;&#19968;&#20010;&#26159;&#24403;&#21069;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;dentry&#12290;&#36825;&#37324;&#25351;&#30340;&#26159;&#24403;&#21069;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;dentry&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471506901595" ID="ID_1972343081" MODIFIED="1471506903964" TEXT="&#x5904;&#x7406;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5bf9;&#x8c61;&#x7684;&#x4ee3;&#x7801;&#x7ecf;&#x5e38;&#x9700;&#x8981;&#x68c0;&#x67e5;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x662f;&#x5426;&#x5df2;&#x7ecf;&#x88c5;&#x8f7d;&#xff0c;&#x800c;s_root&#x53ef;&#x7528;&#x4e8e;&#x8be5;&#x76ee;&#x7684;&#x3002;&#x5982;&#x679c;&#x5b83;&#x4e3a;NULL&#xff0c; &#x5219;&#x8be5;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x662f;&#x4e00;&#x4e2a;&#x4f2a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#xff0c;&#x53ea;&#x5728;&#x5185;&#x6838;&#x5185;&#x90e8;&#x53ef;&#x89c1;&#x3002;&#x5426;&#x5219;&#xff0c;&#x8be5;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5728;&#x7528;&#x6237;&#x7a7a;&#x95f4;&#x53ef;&#x89c1;&#x3002;"/>
</node>
<node CREATED="1471017841034" ID="ID_1438521365" MODIFIED="1471017841034" TEXT=" struct rw_semaphore s_umount"/>
<node CREATED="1471017841034" MODIFIED="1471017841034" TEXT=" int s_count"/>
<node CREATED="1471017841035" ID="ID_1845890477" MODIFIED="1471017841035" TEXT=" atomic_t s_active"/>
<node CREATED="1471017841035" MODIFIED="1471017841035" TEXT=" void *s_security"/>
<node CREATED="1471017841035" MODIFIED="1471017841035" TEXT=" const struct xattr_handler **s_xattr"/>
<node CREATED="1471017841035" ID="ID_234029344" MODIFIED="1471017841035" TEXT=" struct list_head s_inodes">
<node CREATED="1471116417188" ID="ID_1422174369" MODIFIED="1471116442694" TEXT="&#x5c5e;&#x4e8e;&#x8fd9;&#x4e2a;&#x8d85;&#x7ea7;&#x5757;&#x7684;&#x6240;&#x6709;inode"/>
</node>
<node CREATED="1471017841035" ID="ID_928906610" MODIFIED="1471017841035" TEXT=" struct hlist_bl_head s_anon"/>
<node CREATED="1471017841035" ID="ID_1403013719" MODIFIED="1471017841035" TEXT=" struct list_head s_mounts">
<node CREATED="1471505177347" ID="ID_1256961153" LINK="#ID_971765788" MODIFIED="1471505283587" TEXT="&#x8d85;&#x7ea7;&#x5757;&#x4e0b;&#x6240;&#x6709;mount&#x7684;&#x94fe;&#x8868;"/>
<node CREATED="1471722060074" ID="ID_1271087103" MODIFIED="1471722129923" TEXT="&#x9700;&#x8981;&#x8fd9;&#x4e2a;&#x5b57;&#x6bb5;&#x662f;&#x56e0;&#x4e3a;&#x5c06;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x6302;&#x8f7d;&#x5230;&#x591a;&#x4e2a;&#x4e0d;&#x540c;&#x4f4d;&#x7f6e;&#x662f;&#x53ef;&#x80fd;&#x7684;&#xff0c;&#x4e5f;&#x662f;&#x5141;&#x8bb8;&#x7684;&#x3002;"/>
</node>
<node CREATED="1471017841035" ID="ID_1030558755" MODIFIED="1471017841035" TEXT=" struct block_device *s_bdev">
<node CREATED="1471507033841" ID="ID_945737410" MODIFIED="1471720126186" TEXT="&#x8d85;&#x7ea7;&#x5757;&#x5bf9;&#x5e94;&#x7684;&#x5e95;&#x5c42;&#x5757;&#x8bbe;&#x5907;"/>
</node>
<node CREATED="1471017841035" FOLDED="true" ID="ID_1117873857" MODIFIED="1471209781170" TEXT=" struct backing_dev_info *s_bdi">
<node CREATED="1471162131399" MODIFIED="1471162131399" TEXT=" struct list_head bdi_list"/>
<node CREATED="1471162131399" MODIFIED="1471162131399" TEXT=" unsigned long ra_pages"/>
<node CREATED="1471162131399" MODIFIED="1471162131399" TEXT=" unsigned long state"/>
<node CREATED="1471162131399" MODIFIED="1471162131399" TEXT=" unsigned int capabilities"/>
<node CREATED="1471162131399" MODIFIED="1471162131399" TEXT=" congested_fn *congested_fn"/>
<node CREATED="1471162131399" ID="ID_1212401798" MODIFIED="1471162131399" TEXT=" void *congested_data"/>
<node CREATED="1471162131402" MODIFIED="1471162131402" TEXT=" char *name"/>
<node CREATED="1471162131402" MODIFIED="1471162131402" TEXT=" struct percpu_counter bdi_stat[NR_BDI_STAT_ITEMS]"/>
<node CREATED="1471162131402" MODIFIED="1471162131402" TEXT=" unsigned long bw_time_stamp"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned long dirtied_stamp"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned long written_stamp"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned long write_bandwidth"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned long avg_write_bandwidth"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned long dirty_ratelimit"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned long balanced_dirty_ratelimit"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" struct fprop_local_percpu completions"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" int dirty_exceeded"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned int min_ratio"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" unsigned int max_ratio, max_prop_frac"/>
<node CREATED="1471162131403" ID="ID_776652179" MODIFIED="1471209716880" TEXT=" struct bdi_writeback wb">
<node CREATED="1471209000583" ID="ID_1141321832" MODIFIED="1471209003674" TEXT="struct backing_dev_info *bdi"/>
<node CREATED="1471209022297" ID="ID_1485974519" MODIFIED="1471209025993" TEXT="unsigned int nr"/>
<node CREATED="1471209038042" ID="ID_374569649" MODIFIED="1471209039051" TEXT="unsigned long last_old_flush"/>
<node CREATED="1471209052415" ID="ID_1059941862" MODIFIED="1471209053445" TEXT="struct delayed_work dwork"/>
<node CREATED="1471209064301" ID="ID_816697122" MODIFIED="1471209065200" TEXT="struct list_head b_dirty"/>
<node CREATED="1471209076940" ID="ID_1871968624" MODIFIED="1471209077807" TEXT="struct list_head b_io">
<node CREATED="1471209721088" ID="ID_882089565" MODIFIED="1471209756891" TEXT="&#x9700;&#x8981;&#x88ab;&#x5199;&#x56de;&#x5b58;&#x50a8;&#x8bbe;&#x5907;&#x7684;&#x810f;inode&#x7684;&#x5217;&#x8868;"/>
</node>
<node CREATED="1471209090076" ID="ID_1411344382" MODIFIED="1471209090964" TEXT="struct list_head b_more_io"/>
<node CREATED="1471209102784" ID="ID_1813771894" MODIFIED="1471209103998" TEXT="spinlock_t list_lock"/>
</node>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" spinlock_t wb_lock"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" struct list_head work_list"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" struct device *dev"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" struct timer_list laptop_mode_wb_timer"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" struct dentry *debug_dir"/>
<node CREATED="1471162131403" MODIFIED="1471162131403" TEXT=" struct dentry *debug_stats"/>
</node>
<node CREATED="1471017841035" ID="ID_1564773154" MODIFIED="1471017841035" TEXT=" struct mtd_info *s_mtd"/>
<node CREATED="1471017841035" ID="ID_495260241" MODIFIED="1471017841035" TEXT=" struct hlist_node s_instances">
<node CREATED="1471018901470" ID="ID_3230162" LINK="#ID_695911788" MODIFIED="1471019430866" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x8d85;&#x7ea7;&#x5757;&#x81ea;&#x5df1;&#x94fe;&#x8fdb;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x7684;fs_supers&#x94fe;&#x8868;"/>
</node>
<node CREATED="1471017841035" ID="ID_899905503" MODIFIED="1471017841035" TEXT=" struct quota_info s_dquot"/>
<node CREATED="1471017841035" ID="ID_287473194" MODIFIED="1471017841035" TEXT=" struct sb_writers s_writers"/>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" char s_id[32]"/>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" u8 s_uuid[16]"/>
<node CREATED="1471017841036" ID="ID_326458482" MODIFIED="1471017841036" TEXT=" void *s_fs_info">
<node CREATED="1471507154648" ID="ID_1329502952" MODIFIED="1471507186546" TEXT="&#x7279;&#x5b9a;&#x4e8e;&#x5177;&#x4f53;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5b9e;&#x73b0;&#x7684;&#x79c1;&#x6709;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;VFS&#x4e0d;&#x8bbf;&#x95ee;&#x5b83;"/>
</node>
<node CREATED="1471017841036" ID="ID_220148673" MODIFIED="1471017841036" TEXT=" unsigned int s_max_links"/>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" fmode_t s_mode"/>
<node CREATED="1471017841036" ID="ID_977823643" MODIFIED="1471017841036" TEXT=" u32 s_time_gran">
<node CREATED="1471507267224" ID="ID_730329747" MODIFIED="1471507268439" TEXT="&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x652f;&#x6301;&#x7684;&#x5404;&#x79cd;&#x65f6;&#x95f4;&#x6233;&#x7684;&#x6700;&#x5927;&#x53ef;&#x80fd;&#x7684;&#x7c92;&#x5ea6;&#x3002;&#x5355;&#x4f4d;&#x4e3a;ns&#x3002;"/>
</node>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" struct mutex s_vfs_rename_mutex"/>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" char *s_subtype"/>
<node CREATED="1471017841036" ID="ID_1949101253" MODIFIED="1471017841036" TEXT=" char __rcu *s_options"/>
<node CREATED="1471017841036" ID="ID_843019822" MODIFIED="1471017841036" TEXT=" const struct dentry_operations *s_d_op"/>
<node CREATED="1471017841036" ID="ID_647321544" MODIFIED="1471017841036" TEXT=" int cleancache_poolid"/>
<node CREATED="1471017841036" FOLDED="true" ID="ID_1752695147" MODIFIED="1472066650465">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;struct shrinker s_shrink
    </p>
    <p>
      &#36825;&#20010;&#32467;&#26500;&#20027;&#35201;&#29992;&#20110;&#25910;&#32553;dcache / inode&#32531;&#23384;&#65292;&#37322;&#25918;&#37027;&#20123;&#27809;&#26377;&#34987;&#24341;&#29992;&#30340;dentry&#21644;inode&#12290;
    </p>
    <p>
      &#36825;&#20010;&#32467;&#26500;&#22312;&#36229;&#32423;&#22359;&#34987;&#21019;&#24314;&#26102;&#21021;&#22987;&#21270;&#65292;&#35265;alloc_super()&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472065301407" ID="ID_1245407197" MODIFIED="1472065331697">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unsigned long&#160;&#160;(*count_objects)( struct shrinker *,&#160; struct shrink_control *sc )
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472065571763" ID="ID_335437198" MODIFIED="1472065575045" TEXT="super_cache_scan()"/>
</node>
<node CREATED="1472065348234" ID="ID_1566517368" MODIFIED="1472065380447">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unsigned long&#160;&#160;(*scan_objects)( struct shrinker *,&#160; struct shrink_control *sc )
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472065707766" ID="ID_1951815373" MODIFIED="1472065710209" TEXT="super_cache_count()"/>
</node>
<node CREATED="1472065390417" ID="ID_587680511" MODIFIED="1472065391389" TEXT="int seeks"/>
<node CREATED="1472065401629" ID="ID_965808972" MODIFIED="1472065402621" TEXT="long batch"/>
<node CREATED="1472065413460" ID="ID_1968751453" MODIFIED="1472065414374" TEXT="unsigned long flags"/>
<node CREATED="1472065426883" ID="ID_13663851" MODIFIED="1472065427795" TEXT="struct list_head list">
<node CREATED="1472066303201" ID="ID_938829618" MODIFIED="1472066496014">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#29992;&#20110;&#23558;&#36229;&#32423;&#22359;&#30340;shrinker&#32467;&#26500;&#38142;&#25509;&#21040;&#20840;&#23616;&#38142;&#34920;shrinker_list&#19978;&#65292;&#35265;
    </p>
    <p>
      proc_mount() -&gt;sget() -&gt;register_shrinker()
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1472065438604" ID="ID_1816409885" MODIFIED="1472065439545" TEXT="atomic_long_t *nr_deferred"/>
</node>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" atomic_long_t s_remove_count"/>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" int s_readonly_remount"/>
<node CREATED="1471017841036" ID="ID_1641691169" MODIFIED="1471017841036" TEXT=" struct workqueue_struct *s_dio_done_wq"/>
<node CREATED="1471017841036" ID="ID_569734403" MODIFIED="1471017841036" TEXT=" struct list_lru s_dentry_lru">
<node CREATED="1471209791850" ID="ID_280628562" MODIFIED="1471247467405" TEXT="&#x672a;&#x88ab;&#x4f7f;&#x7528;&#x7684;dentry&#x7684;&#x94fe;&#x8868;&#xff0c;&#x8fd9;&#x4e5f;&#x662f;&#x5373;&#x5c06;&#x88ab;&#x7cfb;&#x7edf;&#x56de;&#x6536;&#x91ca;&#x653e;&#x7684;dentry&#x961f;&#x5217;"/>
</node>
<node CREATED="1471017841036" ID="ID_363925515" MODIFIED="1471210626110" TEXT=" struct list_lru s_inode_lru">
<node CREATED="1471209791850" ID="ID_540681942" MODIFIED="1471210447642" TEXT="&#x672a;&#x88ab;&#x4f7f;&#x7528;&#x7684;inode&#x7684;&#x94fe;&#x8868;&#xff0c;&#x8fd9;&#x4e5f;&#x662f;&#x5373;&#x5c06;&#x88ab;&#x7cfb;&#x7edf;&#x56de;&#x6536;&#x91ca;&#x653e;&#x7684;inode&#x961f;&#x5217;"/>
</node>
<node CREATED="1471017841036" ID="ID_467058527" MODIFIED="1471017841036" TEXT=" struct rcu_head rcu"/>
<node CREATED="1471017841036" MODIFIED="1471017841036" TEXT=" int s_stack_depth"/>
</node>
<node CREATED="1471018122364" FOLDED="true" ID="ID_777649966" MODIFIED="1471813059055" TEXT="struct dentry">
<node CREATED="1471018510212" FOLDED="true" ID="ID_1723179772" MODIFIED="1471812485511" TEXT=" unsigned int d_flags">
<node CREATED="1471812437222" ID="ID_1898836894" MODIFIED="1471812461355" TEXT="&#x7528;&#x4e8e;&#x6307;&#x793a;d_op&#x4e2d;&#x54ea;&#x4e9b;&#x51fd;&#x6570;&#x6307;&#x9488;&#x8d4b;&#x503c;&#x4e86;">
<node CREATED="1471245866671" ID="ID_619800587" MODIFIED="1471245868000" TEXT="DCACHE_OP_HASH"/>
<node CREATED="1471245874829" ID="ID_1433534808" MODIFIED="1471245875368" TEXT="DCACHE_OP_COMPARE"/>
<node CREATED="1471245883188" ID="ID_1736635180" MODIFIED="1471245885331" TEXT="DCACHE_OP_REVALIDATE"/>
<node CREATED="1471812365924" ID="ID_822921780" MODIFIED="1471812366683" TEXT="DCACHE_OP_WEAK_REVALIDATE"/>
<node CREATED="1471245890827" ID="ID_1037207430" MODIFIED="1471245893334" TEXT="DCACHE_OP_DELETE"/>
<node CREATED="1471245899529" ID="ID_1649336959" MODIFIED="1471245900486" TEXT="DCACHE_OP_PRUNE"/>
</node>
<node CREATED="1471245908693" ID="ID_1466140443" MODIFIED="1471245909602" TEXT="DCACHE_DISCONNECTED"/>
<node CREATED="1471245916990" ID="ID_1878043563" MODIFIED="1471245919229" TEXT="DCACHE_REFERENCED"/>
<node CREATED="1471245924732" ID="ID_435039710" MODIFIED="1471245926782" TEXT="DCACHE_RCUACCESS"/>
<node CREATED="1471245932260" ID="ID_116280443" MODIFIED="1471245934032" TEXT="DCACHE_CANT_MOUNT"/>
<node CREATED="1471245938853" ID="ID_1310431823" MODIFIED="1471245940944" TEXT="DCACHE_GENOCIDE"/>
<node CREATED="1471245947611" ID="ID_1908523805" MODIFIED="1471245949748" TEXT="DCACHE_SHRINK_LIST"/>
<node CREATED="1471245954694" ID="ID_1092671126" MODIFIED="1471245956501" TEXT="DCACHE_OP_WEAK_REVALIDATE"/>
<node CREATED="1471245962708" ID="ID_373736985" MODIFIED="1471245964732" TEXT="DCACHE_NFSFS_RENAMED"/>
<node CREATED="1471245970649" ID="ID_1986814633" MODIFIED="1471245972653" TEXT="DCACHE_COOKIE"/>
<node CREATED="1471245977834" ID="ID_101013194" MODIFIED="1471245979720" TEXT="DCACHE_FSNOTIFY_PARENT_WATCHED"/>
<node CREATED="1471245986179" ID="ID_916810711" MODIFIED="1471245988350" TEXT="DCACHE_DENTRY_KILLED"/>
<node CREATED="1471245995325" ID="ID_1553913762" MODIFIED="1471245997320" TEXT="DCACHE_MOUNTED"/>
<node CREATED="1471246004133" ID="ID_1928949450" MODIFIED="1471246006159" TEXT="DCACHE_NEED_AUTOMOUNT"/>
<node CREATED="1471246012228" ID="ID_715592864" MODIFIED="1471246014404" TEXT="DCACHE_MANAGE_TRANSIT"/>
<node CREATED="1471246019666" ID="ID_377340978" MODIFIED="1471246021501" TEXT="DCACHE_LRU_LIST"/>
<node CREATED="1471246052934" ID="ID_1408984416" MODIFIED="1471810460254">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      DCACHE_ENTRY_TYPE
    </p>
    <p>
      bit 20-22 &#20849;3&#20301;&#34920;&#31034;dentry&#30340;&#31867;&#22411;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471246063769" ID="ID_651630182" MODIFIED="1471246065511" TEXT="DCACHE_MISS_TYPE">
<node CREATED="1471810380996" ID="ID_1476249488" MODIFIED="1471810408815">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Negative dentry
    </p>
    <p>
      &#21363;dentry&#27809;&#26377;&#25351;&#21521;&#19968;&#20010;inode&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471246072357" ID="ID_218252214" MODIFIED="1471246073115" TEXT="DCACHE_DIRECTORY_TYPE">
<node CREATED="1471810419890" ID="ID_646457834" MODIFIED="1471810431868" TEXT="dentry&#x6307;&#x5411;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x76ee;&#x5f55;"/>
</node>
<node CREATED="1471246079552" ID="ID_790016460" MODIFIED="1471246081232" TEXT="DCACHE_AUTODIR_TYPE"/>
<node CREATED="1471246090118" ID="ID_411053292" MODIFIED="1471246092052" TEXT="DCACHE_SYMLINK_TYPE">
<node CREATED="1471810419890" ID="ID_1181101278" MODIFIED="1471810445558" TEXT="dentry&#x6307;&#x5411;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x7b26;&#x53f7;&#x94fe;&#x63a5;"/>
</node>
<node CREATED="1471246098324" ID="ID_1177210531" MODIFIED="1471246098945" TEXT="DCACHE_FILE_TYPE">
<node CREATED="1471810419890" ID="ID_1972972783" MODIFIED="1471810452268" TEXT="dentry&#x6307;&#x5411;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x6587;&#x4ef6;"/>
</node>
</node>
</node>
<node CREATED="1471018510212" ID="ID_362824081" MODIFIED="1471018510212" TEXT=" seqcount_t d_seq"/>
<node CREATED="1471018510212" ID="ID_1992628309" MODIFIED="1471018510212" TEXT=" struct hlist_bl_node d_hash">
<node CREATED="1471157419439" ID="ID_789629897" MODIFIED="1471157465358" TEXT="&#x7528;&#x4e8e;&#x5c06;dentry&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x5168;&#x5c40;&#x54c8;&#x5e0c;&#x94fe;&#x8868;dentry_hashtable&#x4e2d;"/>
</node>
<node CREATED="1471018510213" ID="ID_775408773" MODIFIED="1471018510213" TEXT=" struct dentry *d_parent">
<node CREATED="1471157277105" ID="ID_1711004291" MODIFIED="1471245711880" TEXT="&#x7236;&#x76ee;&#x5f55;&#x7684;dentry&#x5bf9;&#x8c61;&#xff0c;&#x6839;&#x76ee;&#x5f55;&#x7684;d_parent&#x662f;&#x81ea;&#x5df1;"/>
</node>
<node CREATED="1471018510213" ID="ID_1725830185" MODIFIED="1471018510213" TEXT=" struct qstr d_name">
<node CREATED="1471245319328" ID="ID_397486898" MODIFIED="1471245391694" TEXT="&#x6587;&#x4ef6;&#x540d;&#xff0c;&#x5f53;&#x6587;&#x4ef6;&#x540d;&#x8f83;&#x957f;&#x65f6;&#x5b58;&#x50a8;&#x5728;d_name&#x4e2d;&#xff0c;&#x5f53;&#x6587;&#x4ef6;&#x540d;&#x8f83;&#x77ed;&#x65f6;&#x5b58;&#x50a8;&#x5728;d_iname&#x4e2d;&#x3002;"/>
</node>
<node CREATED="1471018510213" ID="ID_788459113" MODIFIED="1471018510213" TEXT=" struct inode *d_inode">
<node CREATED="1471128427271" ID="ID_358923429" MODIFIED="1471244702923" TEXT="&#x6240;&#x6307;&#x5411;&#x7684;inode&#x3002;&#x8fd9;&#x4e2a;inode&#x548c;dentry&#x5171;&#x540c;&#x63cf;&#x8ff0;&#x4e86;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x6587;&#x4ef6;&#x6216;&#x8005;&#x76ee;&#x5f55;&#x6587;&#x4ef6;&#x3002;&#x5982;&#x679c;&#x4e3a;NULL&#x8868;&#x793a;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x6587;&#x4ef6;&#x540d;&#x3002;"/>
<node CREATED="1471245426371" ID="ID_931891843" MODIFIED="1471245499480" TEXT="&#x5b58;&#x50a8;&#x4e00;&#x4e2a;negative&#x7684;dentry&#x662f;&#x6709;&#x610f;&#x4e49;&#x7684;&#xff0c;&#x5b83;&#x907f;&#x514d;&#x4e86;&#x4e0b;&#x6b21;&#x67e5;&#x627e;&#x8fd9;&#x4e2a;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x6587;&#x4ef6;&#x65f6;&#x518d;&#x8017;&#x8d39;&#x540c;&#x6837;&#x7684;&#x65f6;&#x95f4;"/>
</node>
<node CREATED="1471018510213" ID="ID_798917963" MODIFIED="1471018510213" TEXT=" unsigned char d_iname[DNAME_INLINE_LEN]">
<node CREATED="1471157571185" ID="ID_927561870" MODIFIED="1471157647167" TEXT="&#x5f53;&#x6b64;dentry&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x65f6;&#x4e3a;&#x6587;&#x4ef6;&#x540d;&#xff0c;&#x5bf9;&#x5e94;&#x76ee;&#x5f55;&#x65f6;&#x4e3a;&#x76ee;&#x5f55;&#x540d;"/>
</node>
<node CREATED="1471018510213" ID="ID_1012922844" MODIFIED="1471018510213" TEXT=" struct lockref d_lockref">
<node CREATED="1471158510491" ID="ID_735146259" MODIFIED="1471158520962" TEXT="&#x9501;&#x548c;&#x5f15;&#x7528;&#x8ba1;&#x6570;">
<node CREATED="1471158550032" ID="ID_403971957" MODIFIED="1471158553262" TEXT="count=0&#xff0c;&#x672a;&#x4f7f;&#x7528;(unused)&#x72b6;&#x6001;&#xff0c;d_inode&#x6307;&#x5411;&#x76f8;&#x5173;&#x7684;&#x7684;&#x7d22;&#x5f15;&#x8282;&#x70b9;&#x3002;&#x8be5;&#x76ee;&#x5f55;&#x9879;&#x4ecd;&#x7136;&#x5305;&#x542b;&#x6709;&#x6548;&#x7684;&#x4fe1;&#x606f;&#xff0c;&#x53ea;&#x662f;&#x5f53;&#x524d;&#x6ca1;&#x6709;&#x4eba;&#x5f15;&#x7528;&#x4ed6;&#x3002;&#x8fd9;&#x79cd;dentry&#x5bf9;&#x8c61;&#x5728;&#x56de;&#x6536;&#x5185;&#x5b58;&#x65f6;&#x53ef;&#x80fd;&#x4f1a;&#x88ab;&#x91ca;&#x653e;&#x3002;"/>
<node CREATED="1471158571291" ID="ID_1272681016" MODIFIED="1471158573449" TEXT="count&gt;0&#xff0c;&#x6b63;&#x5728;&#x4f7f;&#x7528;&#xff08;inuse&#xff09;&#x72b6;&#x6001;&#xff0c;d_inode&#x6307;&#x5411;&#x76f8;&#x5173;&#x7684;inode&#x5bf9;&#x8c61;&#x3002;&#x8fd9;&#x79cd;dentry&#x5bf9;&#x8c61;&#x4e0d;&#x80fd;&#x88ab;&#x91ca;&#x653e;&#x3002;"/>
<node CREATED="1471158590791" ID="ID_832943630" MODIFIED="1471158593082" TEXT="count&lt;0&#xff0c;y&#x8d1f;&#xff08;negative&#xff09;&#x72b6;&#x6001;&#xff0c;inode&#x5bf9;&#x8c61;&#x4e0d;&#x590d;&#x5b58;&#x5728;&#x53ef;&#x80fd;&#x88ab;&#x5220;&#x9664;&#xff0c;dentry&#x5bf9;&#x8c61;&#x7684;d_inode&#x6307;&#x9488;&#x4e3a;NULL&#x3002;&#x4f46;&#x8fd9;&#x79cd;dentry&#x5bf9;&#x8c61;&#x4ecd;&#x7136;&#x4fdd;&#x5b58;&#x5728;dcache&#x4e2d;&#xff0c;&#x4ee5;&#x4fbf;&#x540e;&#x7eed;&#x5bf9;&#x540c;&#x4e00;&#x6587;&#x4ef6;&#x540d;&#x7684;&#x67e5;&#x627e;&#x80fd;&#x591f;&#x5feb;&#x901f;&#x5b8c;&#x6210;&#x3002;&#x8fd9;&#x79cd;dentry&#x5bf9;&#x8c61;&#x5728;&#x56de;&#x6536;&#x5185;&#x5b58;&#x65f6;&#x5c06;&#x9996;&#x5148;&#x88ab;&#x91ca;&#x653e;&#x3002;"/>
</node>
</node>
<node CREATED="1471018510213" FOLDED="true" ID="ID_648054467" MODIFIED="1471813052806">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;const struct dentry_operations *d_op
    </p>
    <p>
      dentry-&gt;d_op&#20989;&#25968;&#25351;&#38024;&#34920;&#22312;d_alloc()&#20989;&#25968;&#20013;&#34987;&#36171;&#20540;&#20026;&#36229;&#32423;&#22359;&#30340;dentry-&gt;d_sb-&gt;s_d_op&#20989;&#25968;&#25351;&#38024;&#34920;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" int (*d_revalidate)(struct dentry *, unsigned int)"/>
<node CREATED="1471328137198" ID="ID_761361380" MODIFIED="1471328137198" TEXT=" int (*d_weak_revalidate)(struct dentry *, unsigned int)"/>
<node CREATED="1471328137198" ID="ID_1588480599" MODIFIED="1471328137198" TEXT=" int (*d_hash)(const struct dentry *, struct qstr *)">
<node CREATED="1471812002206" ID="ID_1862765450" MODIFIED="1471812141012" TEXT="VFS&#x5728;&#x67e5;&#x627e;&#x6587;&#x4ef6;&#x8fc7;&#x7a0b;&#x4e2d;&#x4f1a;&#x628a;&#x8def;&#x5f84;&#x4e0a;&#x6240;&#x6709;&#x7ecf;&#x8fc7;&#x5f15;&#x7528;&#x8fc7;&#x7684;&#x76ee;&#x5f55;&#x6216;&#x6587;&#x4ef6;&#x7684;dentry&#x901a;&#x8fc7;&#x6b64;&#x51fd;&#x6570;&#x52a0;&#x5165;dcache&#x5373;&#x5168;&#x5c40;&#x54c8;&#x5e0c;&#x8868;dentry_hashtable&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" int (*d_compare)(const struct dentry *, const struct dentry *, unsigned int, const char *, const struct qstr *)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" int (*d_delete)(const struct dentry *)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" void (*d_release)(struct dentry *)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" void (*d_prune)(struct dentry *)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" void (*d_iput)(struct dentry *, struct inode *)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" char *(*d_dname)(struct dentry *, char *, int)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" struct vfsmount *(*d_automount)(struct path *)"/>
<node CREATED="1471328137198" MODIFIED="1471328137198" TEXT=" int (*d_manage)(struct dentry *, bool)"/>
</node>
<node CREATED="1471018510213" ID="ID_403928658" MODIFIED="1471018510213" TEXT=" struct super_block *d_sb">
<node CREATED="1471157903811" ID="ID_1808605510" MODIFIED="1471157916696" TEXT="dentry&#x6240;&#x5c5e;&#x7684;&#x8d85;&#x7ea7;&#x5757;"/>
</node>
<node CREATED="1471018510213" ID="ID_252674517" MODIFIED="1471018510213" TEXT=" unsigned long d_time"/>
<node CREATED="1471018510213" ID="ID_767714261" MODIFIED="1471018510213" TEXT=" void *d_fsdata"/>
<node CREATED="1471018510213" ID="ID_1987859565" MODIFIED="1471018510213" TEXT=" struct list_head d_lru">
<node CREATED="1471157675262" ID="ID_1818735812" MODIFIED="1471247391872" TEXT="&#x7528;&#x4e8e;&#x5c06;dentry&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x6240;&#x5c5e;&#x8d85;&#x7ea7;&#x5757;&#x7684;s_dentry_lru&#x94fe;&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471018510213" ID="ID_1933330353" MODIFIED="1471018510213" TEXT=" struct list_head d_child">
<node CREATED="1471157675262" ID="ID_148906802" MODIFIED="1471157710893" TEXT="&#x7528;&#x4e8e;&#x5c06;dentry&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x7236;dentry&#x7684;d_subdirs&#x94fe;&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471018510213" ID="ID_313299130" MODIFIED="1471018510213" TEXT=" struct list_head d_subdirs">
<node CREATED="1471157790180" ID="ID_1596577437" MODIFIED="1471157830643" TEXT="&#x6240;&#x6709;&#x7684;&#x5b50;dentry&#x6784;&#x6210;&#x7684;&#x94fe;&#x8868;&#xff0c;&#x5b50;dentry&#x53ef;&#x80fd;&#x662f;&#x6587;&#x4ef6;&#x4e5f;&#x53ef;&#x80fd;&#x662f;&#x76ee;&#x5f55;"/>
</node>
<node CREATED="1471018510213" ID="ID_454462053" MODIFIED="1471018523135" TEXT="union">
<node CREATED="1471018510213" ID="ID_1647660198" MODIFIED="1471018510213" TEXT=" struct hlist_node d_alias">
<node CREATED="1471128467233" ID="ID_210093158" MODIFIED="1471128511990" TEXT="&#x7528;&#x4e8e;&#x5c06;dentry&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x6240;&#x6307;&#x5411;&#x7684;inode&#x7684;i_dentry&#x94fe;&#x8868;"/>
</node>
<node CREATED="1471018510213" MODIFIED="1471018510213" TEXT=" struct rcu_head d_rcu"/>
</node>
</node>
<node CREATED="1471018130015" FOLDED="true" ID="ID_1652701192" MODIFIED="1471332911018" TEXT="struct inode">
<node CREATED="1471018330260" ID="ID_1699810943" MODIFIED="1471018330260" TEXT=" umode_t i_mode">
<node CREATED="1471118403773" ID="ID_1332980882" MODIFIED="1471118416604" TEXT="&#x6587;&#x4ef6;&#x7c7b;&#x578b;&#x548c;&#x8bbf;&#x95ee;&#x6743;&#x9650;"/>
</node>
<node CREATED="1471018330260" MODIFIED="1471018330260" TEXT=" unsigned short i_opflags"/>
<node CREATED="1471018330261" ID="ID_1594087507" MODIFIED="1471018330261" TEXT=" kuid_t i_uid">
<node CREATED="1471118339453" ID="ID_988140399" MODIFIED="1471118353523" TEXT="&#x4e0e;&#x6587;&#x4ef6;&#x5173;&#x8054;&#x7684;UID"/>
</node>
<node CREATED="1471018330261" ID="ID_6524581" MODIFIED="1471018330261" TEXT=" kgid_t i_gid">
<node CREATED="1471118339453" ID="ID_901987528" MODIFIED="1471118362783" TEXT="&#x4e0e;&#x6587;&#x4ef6;&#x5173;&#x8054;&#x7684;GID"/>
</node>
<node CREATED="1471018330261" MODIFIED="1471018330261" TEXT=" unsigned int i_flags"/>
<node CREATED="1471018330261" MODIFIED="1471018330261" TEXT=" struct posix_acl *i_acl"/>
<node CREATED="1471018330261" ID="ID_792563179" MODIFIED="1471018330261" TEXT=" struct posix_acl *i_default_acl"/>
<node CREATED="1471123300121" ID="ID_1015989817" MODIFIED="1471123300961" TEXT=" const struct inode_operations *i_op">
<node CREATED="1471124444070" ID="ID_272521553" MODIFIED="1471124444750" TEXT="inode_operations&#x8d1f;&#x8d23;&#x7ba1;&#x7406;&#x7ed3;&#x6784;&#x6027;&#x7684;&#x64cd;&#x4f5c;(&#x4f8b;&#x5982;&#xff0c;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;)&#x548c;&#x6587;&#x4ef6;&#x76f8;&#x5173;&#x7684;&#x5143;&#x6570;&#x636e;(&#x4f8b;&#x5982;&#xff0c;&#x5c5e;&#x6027;)"/>
<node CREATED="1471018330261" FOLDED="true" ID="ID_1870100080" MODIFIED="1471332906465" TEXT="struct inode_operations">
<node CREATED="1471123227748" ID="ID_989274268" MODIFIED="1471124861793" TEXT=" struct dentry * (*lookup) (struct inode *dir,struct dentry *dentry, unsigned int flags)">
<node CREATED="1471124873449" ID="ID_858487094" MODIFIED="1471124906403" TEXT="&#x6839;&#x636e;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5bf9;&#x8c61;&#x7684;&#x540d;&#x79f0;&#x5373;&#x5b57;&#x7b26;&#x4e32;&#x67e5;&#x627e;&#x5176;&#x5bf9;&#x5e94;&#x7684;inode&#x5b9e;&#x4f8b;"/>
</node>
<node CREATED="1471123227749" ID="ID_909691915" MODIFIED="1471123227749" TEXT=" void * (*follow_link) (struct dentry *, struct nameidata *)">
<node CREATED="1471125117018" ID="ID_1677786388" MODIFIED="1471125118628" TEXT="&#x6839;&#x636e;&#x7b26;&#x53f7;&#x94fe;&#x63a5;&#x67e5;&#x627e;&#x76ee;&#x6807;&#x6587;&#x4ef6;&#x7684;inode&#xff0c;&#x56e0;&#x4e3a;&#x7b26;&#x53f7;&#x94fe;&#x63a5;&#x53ef;&#x80fd;&#x662f;&#x8de8;&#x8d8a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x8fb9;&#x754c;&#x7684;&#x3002;&#x8be5;&#x51fd;&#x6570;&#x7684;&#x5b9e;&#x73b0;&#x901a;&#x5e38;&#x975e;&#x5e38;&#x77ed;&#xff0c;&#x5b9e;&#x9645;&#x5de5;&#x4f5c;&#x5f88;&#x5feb;&#x59d4;&#x6258;&#x7ed9;&#x4e00;&#x822c;&#x7684;VFS&#x51fd;&#x6570;&#x5b8c;&#x6210;&#x3002;"/>
</node>
<node CREATED="1471123227749" ID="ID_1379832306" MODIFIED="1471123227749" TEXT=" int (*permission) (struct inode *, int)"/>
<node CREATED="1471123227749" ID="ID_529319538" MODIFIED="1471123227749" TEXT=" struct posix_acl * (*get_acl)(struct inode *, int)"/>
<node CREATED="1471123227749" ID="ID_48943025" MODIFIED="1471123227749" TEXT=" int (*readlink) (struct dentry *, char __user *,int)"/>
<node CREATED="1471123227749" ID="ID_1842271135" MODIFIED="1471123227749" TEXT=" void (*put_link) (struct dentry *, struct nameidata *, void *)"/>
<node CREATED="1471123227749" ID="ID_638261696" MODIFIED="1471123227749" TEXT=" int (*create) (struct inode *,struct dentry *, umode_t, bool)"/>
<node CREATED="1471123227749" ID="ID_1079623748" MODIFIED="1471123227749" TEXT=" int (*link) (struct dentry *,struct inode *,struct dentry *)">
<node CREATED="1471125626908" ID="ID_798381222" MODIFIED="1471125627893" TEXT="&#x7528;&#x4e8e;&#x5220;&#x9664;&#x6587;&#x4ef6;&#xff0c;&#x4f46;&#x5982;&#x679c;&#x786c;&#x94fe;&#x63a5;&#x7684;&#x5f15;&#x7528;&#x8ba1;&#x6570;&#x8868;&#x660e;&#x8be5;inode&#x4ecd;&#x7136;&#x88ab;&#x591a;&#x4e2a;&#x6587;&#x4ef6;&#x4f7f;&#x7528;&#x5219;&#x4e0d;&#x4f1a;&#x6267;&#x884c;&#x5220;&#x9664;&#x64cd;&#x4f5c;&#x3002;"/>
</node>
<node CREATED="1471123227749" ID="ID_646736188" MODIFIED="1471123227749" TEXT=" int (*unlink) (struct inode *,struct dentry *)"/>
<node CREATED="1471123227749" MODIFIED="1471123227749" TEXT=" int (*symlink) (struct inode *,struct dentry *,const char *)"/>
<node CREATED="1471123227749" ID="ID_1886719640" MODIFIED="1471123227749" TEXT=" int (*mkdir) (struct inode *,struct dentry *,umode_t)"/>
<node CREATED="1471123227749" ID="ID_1781988354" MODIFIED="1471123227749" TEXT=" int (*rmdir) (struct inode *,struct dentry *)"/>
<node CREATED="1471123227749" ID="ID_1076595817" MODIFIED="1471123227749" TEXT=" int (*mknod) (struct inode *,struct dentry *,umode_t,dev_t)"/>
<node CREATED="1471123227749" MODIFIED="1471123227749" TEXT=" int (*rename) (struct inode *, struct dentry *, struct inode *, struct dentry *)"/>
<node CREATED="1471123227749" ID="ID_1207682456" MODIFIED="1471123227749" TEXT=" int (*setattr) (struct dentry *, struct iattr *)"/>
<node CREATED="1471123227749" ID="ID_1729837561" MODIFIED="1471123227749" TEXT=" int (*getattr) (struct vfsmount *mnt, struct dentry *, struct kstat *)"/>
<node COLOR="#3300ff" CREATED="1471123227749" ID="ID_1617541402" MODIFIED="1471125383380" TEXT=" int (*setxattr) (struct dentry *, const char *,const void *,size_t,int)">
<node CREATED="1471125479049" ID="ID_1915559462" MODIFIED="1471125480563" TEXT="xattr&#x5c5e;&#x6027;&#x662f;&#x6307;&#x6587;&#x4ef6;&#x7684;&#x8bbf;&#x95ee;&#x63a7;&#x5236;&#x5217;&#x8868;ACL"/>
</node>
<node COLOR="#3300ff" CREATED="1471123227749" ID="ID_1372943590" MODIFIED="1471125383379" TEXT=" ssize_t (*getxattr) (struct dentry *, const char *, void *, size_t)"/>
<node COLOR="#3300ff" CREATED="1471123227749" ID="ID_133362756" MODIFIED="1471125383379" TEXT=" ssize_t (*listxattr) (struct dentry *, char *, size_t)"/>
<node COLOR="#3300ff" CREATED="1471123227749" ID="ID_324376139" MODIFIED="1471125383379" TEXT=" int (*removexattr) (struct dentry *, const char *)"/>
<node CREATED="1471123227749" ID="ID_1895503260" MODIFIED="1471123227749" TEXT=" int (*fiemap)(struct inode *, struct fiemap_extent_info *, u64 start, u64 len)"/>
<node CREATED="1471123227750" MODIFIED="1471123227750" TEXT=" int (*update_time)(struct inode *, struct timespec *, int)"/>
<node CREATED="1471123227750" ID="ID_891972830" MODIFIED="1471123227750" TEXT=" int (*atomic_open)(struct inode *, struct dentry *, struct file *, unsigned open_flag, umode_t create_mode, int *opened)"/>
<node CREATED="1471123227750" MODIFIED="1471123227750" TEXT=" int (*tmpfile) (struct inode *, struct dentry *, umode_t)"/>
<node CREATED="1471123227750" MODIFIED="1471123227750" TEXT=" int (*set_acl)(struct inode *, struct posix_acl *, int)"/>
<node CREATED="1471123227750" MODIFIED="1471123227750" TEXT=" int (*dentry_open)(struct dentry *, struct file *, const struct cred *)"/>
</node>
</node>
<node CREATED="1471018330261" ID="ID_1679380487" MODIFIED="1471018330261" TEXT=" struct super_block *i_sb">
<node CREATED="1471121105817" ID="ID_1736841660" MODIFIED="1471121118427" TEXT="inode&#x6240;&#x5c5e;&#x7684;&#x8d85;&#x7ea7;&#x5757;"/>
</node>
<node CREATED="1471018330261" MODIFIED="1471018330261" TEXT=" struct address_space *i_mapping"/>
<node CREATED="1471018330261" MODIFIED="1471018330261" TEXT=" void *i_security"/>
<node CREATED="1471018330261" ID="ID_707457309" MODIFIED="1471018330261" TEXT=" unsigned long i_ino">
<node CREATED="1471117679896" ID="ID_1527004991" MODIFIED="1471117721776" TEXT="&#x5bf9;&#x4e8e;&#x7ed9;&#x5b9a;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#xff0c;&#x6bcf;&#x4e2a;VFS inode&#x90fd;&#x6709;&#x4e00;&#x4e2a;&#x552f;&#x4e00;&#x7684;&#x7f16;&#x53f7;&#x6807;&#x8bc6;"/>
</node>
<node CREATED="1471018330261" ID="ID_1070094280" MODIFIED="1471018367391" TEXT="union">
<node CREATED="1471018330261" ID="ID_339197759" MODIFIED="1471018330261" TEXT=" const unsigned int i_nlink">
<node CREATED="1471118261872" ID="ID_824843645" MODIFIED="1471118291942" TEXT="&#x6307;&#x5411;&#x8be5;inode&#x7684;&#x786c;&#x94fe;&#x63a5;&#x603b;&#x6570;"/>
</node>
<node CREATED="1471018330261" ID="ID_681865625" MODIFIED="1471018330261" TEXT=" unsigned int __i_nlink"/>
</node>
<node CREATED="1471018330261" ID="ID_465247657" MODIFIED="1471018330261" TEXT=" dev_t i_rdev">
<node CREATED="1471118844377" ID="ID_1705162365" MODIFIED="1471118845627" TEXT="&#x5f53;inode&#x8868;&#x793a;&#x8bbe;&#x5907;&#x6587;&#x4ef6;&#x65f6;&#xff0c;&#x5219;&#x9700;&#x8981;i_rdev&#x3002;&#x5b83;&#x8868;&#x793a;&#x4e0e;&#x54ea;&#x4e2a;&#x8bbe;&#x5907;&#x6587;&#x4ef6;&#x8fdb;&#x884c;&#x901a;&#x4fe1;&#x3002;&#x8981;&#x6ce8;&#x610f;&#xff0c;i_rdev&#x53ea;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x5b57;&#xff0c;&#x4e0d;&#x662f;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x3002;&#x4f46;&#x662f;&#x8fd9;&#x4e2a;&#x6570;&#x5b57;&#x5305;&#x542b;&#x7684;&#x4fe1;&#x606f;&#xff0c;&#x5373;&#x8db3;&#x4ee5;&#x627e;&#x5230;&#x6709;&#x5173;&#x76ee;&#x6807;&#x8bbe;&#x5907;&#xff0c;&#x6211;&#x4eec;&#x611f;&#x5174;&#x8da3;&#x7684;&#x6240;&#x6709;&#x4fe1;&#x606f;&#x3002;"/>
<node CREATED="1471119046161" ID="ID_565146235" MODIFIED="1471119047171" TEXT="&#x5982;&#x679c;inode&#x8868;&#x793a;&#x8bbe;&#x5907;&#x7279;&#x6b8a;&#x6587;&#x4ef6;&#xff0c;&#x90a3;&#x4e48;i_rdev&#x4e4b;&#x540e;&#x7684;&#x8054;&#x5408;i_pipe/i_bdev/i_cdev&#x5c31;&#x5305;&#x542b;&#x4e86;&#x6307;&#x5411;&#x8bbe;&#x5907;&#x4e13;&#x7528;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x7684;&#x6307;&#x9488;&#x3002;"/>
</node>
<node CREATED="1471018330261" ID="ID_244796608" MODIFIED="1471018330261" TEXT=" loff_t i_size">
<node CREATED="1471117397168" ID="ID_1051525219" MODIFIED="1471117408309" TEXT="&#x4ee5;&#x5b57;&#x8282;&#x8ba1;&#x7b97;&#x7684;&#x6587;&#x4ef6;&#x957f;&#x5ea6;"/>
</node>
<node CREATED="1471018330261" ID="ID_419050352" MODIFIED="1471018330261" TEXT=" struct timespec i_atime">
<node CREATED="1471116988924" ID="ID_1171108049" MODIFIED="1471117004304" TEXT="&#x6700;&#x540e;&#x8bbf;&#x95ee;access&#x7684;&#x65f6;&#x95f4;"/>
</node>
<node CREATED="1471018330261" ID="ID_1365974972" MODIFIED="1471018330261" TEXT=" struct timespec i_mtime">
<node CREATED="1471116988924" ID="ID_1825856815" MODIFIED="1471117195906" TEXT="&#x6700;&#x540e;&#x4fee;&#x6539;modify&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x8fd9;&#x91cc;&#x6307;&#x4fee;&#x6539;inode&#x6240;&#x5173;&#x8054;&#x7684;&#x6587;&#x4ef6;&#x7684;&#x5b9e;&#x9645;&#x6570;&#x636e;"/>
</node>
<node CREATED="1471018330261" ID="ID_630320917" MODIFIED="1471018330261" TEXT=" struct timespec i_ctime">
<node CREATED="1471116988924" ID="ID_370455094" MODIFIED="1471117303887" TEXT="&#x6700;&#x540e;&#x4fee;&#x6539;inode&#x81ea;&#x8eab;&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x53ef;&#x80fd;&#x662f;&#x4fee;&#x6539;&#x6587;&#x4ef6;&#x7684;&#x67d0;&#x4e2a;&#x5c5e;&#x6027;"/>
</node>
<node CREATED="1471018330261" ID="ID_1378765182" MODIFIED="1471018330261" TEXT=" spinlock_t i_lock"/>
<node CREATED="1471018330261" ID="ID_1171605451" MODIFIED="1471018330261" TEXT=" unsigned short i_bytes"/>
<node CREATED="1471018330261" MODIFIED="1471018330261" TEXT=" unsigned int i_blkbits"/>
<node CREATED="1471018330261" ID="ID_635654933" MODIFIED="1471018330261" TEXT=" blkcnt_t i_blocks">
<node CREATED="1471117428010" FOLDED="true" ID="ID_949591565" MODIFIED="1471117630926" TEXT="&#x4ee5;&#x5757;&#x8ba1;&#x7b97;&#x7684;&#x6587;&#x4ef6;&#x957f;&#x5ea6;">
<node CREATED="1471117577966" ID="ID_747135750" MODIFIED="1471117623346">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_inode_1.JPG" />
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" seqcount_t i_size_seqcount"/>
<node CREATED="1471018330262" FOLDED="true" ID="ID_590011376" MODIFIED="1471121801631" TEXT=" unsigned long i_state">
<node CREATED="1471121690561" ID="ID_1056305858" MODIFIED="1471121692864" TEXT="I_DIRTY_SYNC"/>
<node CREATED="1471121700393" ID="ID_934240431" MODIFIED="1471121702356" TEXT="I_DIRTY_DATASYNC"/>
<node CREATED="1471121708003" ID="ID_584434180" MODIFIED="1471121709943" TEXT="I_DIRTY_PAGES"/>
<node CREATED="1471121715648" ID="ID_1055337159" MODIFIED="1471121717648" TEXT="I_NEW"/>
<node CREATED="1471121722956" ID="ID_1071776694" MODIFIED="1471121725267" TEXT="I_WILL_FREE"/>
<node CREATED="1471121731992" ID="ID_1528287366" MODIFIED="1471121733819" TEXT="I_FREEING"/>
<node CREATED="1471121739772" ID="ID_430641930" MODIFIED="1471121741081" TEXT="I_CLEAR"/>
<node CREATED="1471121749758" ID="ID_743695284" MODIFIED="1471121751148" TEXT="I_SYNC"/>
<node CREATED="1471121777566" ID="ID_1301376211" MODIFIED="1471121778097" TEXT="I_REFERENCED"/>
<node CREATED="1471121788557" ID="ID_1564744453" MODIFIED="1471121789092" TEXT="I_DIO_WAKEUP"/>
<node CREATED="1471121797298" ID="ID_1396975115" MODIFIED="1471121797911" TEXT="I_LINKABLE"/>
</node>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" struct mutex i_mutex"/>
<node CREATED="1471018330262" ID="ID_291565703" MODIFIED="1471018330262" TEXT=" unsigned long dirtied_when"/>
<node CREATED="1471018330262" ID="ID_193009056" MODIFIED="1471018330262" TEXT=" struct hlist_node i_hash">
<node CREATED="1471116471951" ID="ID_776395627" MODIFIED="1471126601161" TEXT="&#x7528;&#x4e8e;&#x5c06;inode&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x5168;&#x5c40;&#x54c8;&#x5e0c;&#x8868;inode_hashtable&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471018330262" ID="ID_934106836" MODIFIED="1471018330262" TEXT=" struct list_head i_wb_list">
<node CREATED="1471116471951" ID="ID_376851172" MODIFIED="1471209426085" TEXT="&#x7528;&#x4e8e;&#x5c06;inode&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x8d85;&#x7ea7;&#x5757;wb.b_io&#x94fe;&#x8868;&#x4e2d;&#xff0c;&#x8868;&#x793a;&#x6587;&#x4ef6;&#x88ab;&#x5199;&#x8fc7;&#xff0c;&#x662f;&#x810f;&#x7684;&#xff0c;&#x9700;&#x8981;&#x88ab;&#x540c;&#x6b65;&#x56de;&#x7269;&#x7406;&#x5b58;&#x50a8;&#x8bbe;&#x5907;"/>
</node>
<node CREATED="1471018330262" ID="ID_1715645568" MODIFIED="1471018330262" TEXT=" struct list_head i_lru">
<node CREATED="1471116471951" ID="ID_1230585222" MODIFIED="1471210678091" TEXT="&#x7528;&#x4e8e;&#x5c06;inode&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x8d85;&#x7ea7;&#x5757;&#x7684;s_inode_lru&#x94fe;&#x8868;&#x4e2d;"/>
<node CREATED="1471210691908" ID="ID_85316298" MODIFIED="1471210785540" TEXT="&#x53ea;&#x6709;&#x5f53;i_count&#x5f15;&#x7528;&#x8ba1;&#x6570;&#x4e3a;0&#xff0c;&#x4e14;&#x975e;&#x810f;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;inode&#x624d;&#x88ab;&#x653e;&#x8fdb;LRU&#x94fe;&#x8868;&#xff0c;&#x653e;&#x8fdb;LRU&#x94fe;&#x8868;&#x610f;&#x5473;&#x7740;&#x5373;&#x5c06;&#x88ab;&#x7cfb;&#x7edf;&#x56de;&#x6536;&#x91ca;&#x653e;"/>
</node>
<node CREATED="1471018330262" ID="ID_1406231705" MODIFIED="1471018330262" TEXT=" struct list_head i_sb_list">
<node CREATED="1471116471951" ID="ID_136432701" MODIFIED="1471116508702" TEXT="&#x7528;&#x4e8e;&#x5c06;inode&#x81ea;&#x5df1;&#x94fe;&#x63a5;&#x8fdb;&#x8d85;&#x7ea7;&#x5757;&#x7684;s_inodes&#x94fe;&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471018330262" ID="ID_354078662" MODIFIED="1471018374075" TEXT="union">
<node CREATED="1471018330262" ID="ID_1305282683" MODIFIED="1471018330262" TEXT=" struct hlist_head i_dentry">
<node CREATED="1471121211708" ID="ID_749064863" MODIFIED="1471246233563" TEXT="&#x6307;&#x5411;inode&#x81ea;&#x5df1;&#x7684;&#x6240;&#x6709;dentry&#x7684;&#x94fe;&#x8868;&#xff0c;&#x6bd4;&#x5982;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x6709;hrad/soft link&#x65f6;&#x5c31;&#x4f1a;&#x53d1;&#x751f;&#x591a;&#x4e2a;dentry&#x5f15;&#x7528;&#x4e00;&#x4e2a;inode&#x7684;&#x60c5;&#x51b5;&#x3002;"/>
</node>
<node CREATED="1471018330262" ID="ID_1966652896" MODIFIED="1471018330262" TEXT=" struct rcu_head i_rcu">
<node CREATED="1471121254528" ID="ID_1758461053" MODIFIED="1471121391859" TEXT="&#x8c03;&#x7528;destroy_inode()&#x65f6;&#xff1a;call_rcu(&amp;inode-&gt;i_rcu, i_callback)"/>
<node CREATED="1471121399849" ID="ID_1539796456" MODIFIED="1471121481310" TEXT="&#x6b64;&#x7ed3;&#x6784;&#x4e0e;&#x4e0a;&#x9762;&#x7684;i_dentry&#x91cd;&#x53e0;&#xff0c;&#x4f46;i_rcu&#x4ec5;&#x5728;&#x91ca;&#x653e;inode&#x65f6;&#x624d;&#x4f7f;&#x7528;&#xff0c;&#x6b64;&#x65f6;&#x5df2;&#x65e0;&#x5fc5;&#x8981;&#x4fdd;&#x7559;i_dentry&#x94fe;&#x8868;&#xff0c;&#x6240;&#x4ee5;&#x5b9e;&#x9645;&#x4e0a;&#x6ca1;&#x6709;&#x51b2;&#x7a81;&#x3002;"/>
</node>
</node>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" u64 i_version"/>
<node CREATED="1471018330262" ID="ID_921237816" MODIFIED="1471018330262" TEXT=" atomic_t i_count">
<node CREATED="1471117790416" ID="ID_573704945" MODIFIED="1471117843387" TEXT="&#x8ba1;&#x6570;&#x5668;&#xff0c;&#x8868;&#x793a;&#x6b63;&#x5728;&#x8bbf;&#x95ee;&#x8be5;inode&#x7684;&#x8fdb;&#x7a0b;&#x7684;&#x6570;&#x76ee;"/>
</node>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" atomic_t i_dio_count"/>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" atomic_t i_writecount"/>
<node CREATED="1471123333942" ID="ID_1499163301" MODIFIED="1471123336297" TEXT=" const struct file_operations *i_fop">
<node CREATED="1471124484601" ID="ID_1935292060" MODIFIED="1471124501972" TEXT="file_operations&#x7528;&#x4e8e;&#x64cd;&#x4f5c;&#x6587;&#x4ef6;&#x4e2d;&#x7684;&#x6570;&#x636e;"/>
<node CREATED="1471018330262" FOLDED="true" ID="ID_1833141885" MODIFIED="1471123349531" TEXT="struct file_operations">
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" struct module *owner"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" loff_t (*llseek) (struct file *, loff_t, int)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*read) (struct file *, char __user *, size_t, loff_t *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*write) (struct file *, const char __user *, size_t, loff_t *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*aio_read) (struct kiocb *, const struct iovec *, unsigned long, loff_t)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*aio_write) (struct kiocb *, const struct iovec *, unsigned long, loff_t)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*iterate) (struct file *, struct dir_context *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" unsigned int (*poll) (struct file *, struct poll_table_struct *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" long (*unlocked_ioctl) (struct file *, unsigned int, unsigned long)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" long (*compat_ioctl) (struct file *, unsigned int, unsigned long)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*mmap) (struct file *, struct vm_area_struct *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*open) (struct inode *, struct file *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*flush) (struct file *, fl_owner_t id)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*release) (struct inode *, struct file *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*fsync) (struct file *, loff_t, loff_t, int datasync)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*aio_fsync) (struct kiocb *, int datasync)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*fasync) (int, struct file *, int)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*lock) (struct file *, int, struct file_lock *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*sendpage) (struct file *, struct page *, int, size_t, loff_t *, int)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" unsigned long (*get_unmapped_area)(struct file *, unsigned long, unsigned long, unsigned long, unsigned long)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*check_flags)(int)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*flock) (struct file *, int, struct file_lock *)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*splice_write)(struct pipe_inode_info *, struct file *, loff_t *, size_t, unsigned int)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" ssize_t (*splice_read)(struct file *, loff_t *, struct pipe_inode_info *, size_t, unsigned int)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" int (*setlease)(struct file *, long, struct file_lock **)"/>
<node CREATED="1471123227755" MODIFIED="1471123227755" TEXT=" long (*fallocate)(struct file *file, int mode, loff_t offset, loff_t len)"/>
<node CREATED="1471123227756" MODIFIED="1471123227756" TEXT=" int (*show_fdinfo)(struct seq_file *m, struct file *f)"/>
</node>
</node>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" struct file_lock *i_flock"/>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" struct address_space i_data"/>
<node CREATED="1471018330262" MODIFIED="1471018330262" TEXT=" struct dquot *i_dquot[MAXQUOTAS]"/>
<node CREATED="1471018330263" ID="ID_55044734" MODIFIED="1471018330263" TEXT=" struct list_head i_devices">
<node CREATED="1471120973077" ID="ID_485497579" MODIFIED="1471120974377" TEXT="&#x67d0;&#x4e9b;&#x60c5;&#x51b5;&#x4e0b;&#x4e00;&#x4e2a;&#x8bbe;&#x5907;&#x53ef;&#x80fd;&#x6709;&#x591a;&#x4e2a;&#x8bbe;&#x5907;&#x6587;&#x4ef6;&#xff0c;&#x56e0;&#x800c;&#x9700;&#x8981;&#x591a;&#x4e2a;inode&#xff0c;&#x8bbe;&#x5907;&#x672c;&#x8eab;&#x4f1a;&#x7ef4;&#x62a4;&#x4e00;&#x4e2a;inode&#x94fe;&#x8868;&#xff0c;&#x800c;&#x8fd9;&#x91cc;&#x7684;i_devices&#x5c31;&#x7528;&#x4e8e;&#x5c06;inode&#x94fe;&#x63a5;&#x8fdb;&#x8bbe;&#x5907;&#x7684;inode&#x94fe;&#x8868;&#x3002;"/>
</node>
<node CREATED="1471018330263" ID="ID_1229650397" MODIFIED="1471018381205" TEXT="union">
<node CREATED="1471018330263" ID="ID_1455808197" MODIFIED="1471018330263" TEXT=" struct pipe_inode_info *i_pipe">
<node CREATED="1471120634545" ID="ID_1298308838" MODIFIED="1471120693457" TEXT="&#x5f53;&#x6587;&#x4ef6;&#x662f;&#x7ba1;&#x9053;&#x65f6;&#x5305;&#x542b;&#x4e86;&#x5b9e;&#x73b0;&#x7ba1;&#x9053;inode&#x7684;&#x76f8;&#x5173;&#x4fe1;&#x606f;"/>
</node>
<node CREATED="1471018330263" ID="ID_1771815359" MODIFIED="1471018330263" TEXT=" struct block_device *i_bdev">
<node CREATED="1471120634545" ID="ID_1058896659" MODIFIED="1471120732447" TEXT="&#x5f53;&#x6587;&#x4ef6;&#x662f;&#x5757;&#x8bbe;&#x5907;&#x65f6;&#x5305;&#x542b;&#x4e86;&#x5b9e;&#x73b0;&#x5757;&#x8bbe;&#x5907;inode&#x7684;&#x76f8;&#x5173;&#x4fe1;&#x606f;"/>
</node>
<node CREATED="1471018330263" ID="ID_1352742382" MODIFIED="1471018330263" TEXT=" struct cdev *i_cdev">
<node CREATED="1471120634545" ID="ID_77610850" MODIFIED="1471120749977" TEXT="&#x5f53;&#x6587;&#x4ef6;&#x662f;&#x5b57;&#x7b26;&#x8bbe;&#x5907;&#x65f6;&#x5305;&#x542b;&#x4e86;&#x5b9e;&#x73b0;&#x5b57;&#x7b26;&#x8bbe;&#x5907;inode&#x7684;&#x76f8;&#x5173;&#x4fe1;&#x606f;"/>
</node>
</node>
<node CREATED="1471018330263" MODIFIED="1471018330263" TEXT=" __u32 i_generation"/>
<node CREATED="1471018330263" MODIFIED="1471018330263" TEXT=" __u32 i_fsnotify_mask"/>
<node CREATED="1471018330263" MODIFIED="1471018330263" TEXT=" struct hlist_head i_fsnotify_marks"/>
<node CREATED="1471018330263" MODIFIED="1471018330263" TEXT=" atomic_t i_readcount"/>
<node CREATED="1471018330263" MODIFIED="1471018330263" TEXT=" void *i_private"/>
</node>
<node CREATED="1471330346681" FOLDED="true" ID="ID_1515232179" MODIFIED="1471716264323" TEXT="struct file">
<node CREATED="1471330416844" ID="ID_1862889785" MODIFIED="1471330442282" TEXT="f_u">
<node CREATED="1471330416844" ID="ID_1933119008" MODIFIED="1471330416844" TEXT=" struct llist_node fu_llist"/>
<node CREATED="1471330416844" ID="ID_1487166185" MODIFIED="1471330416844" TEXT=" struct rcu_head fu_rcuhead"/>
</node>
<node CREATED="1471330416844" ID="ID_1398719568" MODIFIED="1471330416844" TEXT=" struct path f_path">
<node CREATED="1471333754686" ID="ID_1564604877" MODIFIED="1471333764323">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      f_path&#23553;&#35013;&#20102;&#19979;&#38754;&#20004;&#37096;&#20998;&#20449;&#24687;&#65306;
    </p>
    <p>
      &#25991;&#20214;&#21517;&#21644;inode&#20043;&#38388;&#30340;&#20851;&#32852;
    </p>
    <p>
      &#25991;&#20214;&#25152;&#22312;&#25991;&#20214;&#31995;&#32479;&#30340;&#26377;&#20851;&#20449;&#24687;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471333662110" ID="ID_624861692" MODIFIED="1471333666911" TEXT="struct path">
<node CREATED="1471333627801" ID="ID_798258512" MODIFIED="1471333627801" TEXT="struct vfsmount *mnt"/>
<node CREATED="1471333640837" ID="ID_725002352" MODIFIED="1471333640837" TEXT="struct dentry *dentry"/>
</node>
</node>
<node CREATED="1471330416844" ID="ID_154470671" MODIFIED="1471330416844" TEXT=" struct inode *f_inode">
<node CREATED="1471334306637" ID="ID_527023452" MODIFIED="1471334323589" TEXT="&#x6587;&#x4ef6;&#x5173;&#x8054;&#x7684;inode"/>
</node>
<node CREATED="1471330416844" FOLDED="true" ID="ID_1047326844" MODIFIED="1471716206680" TEXT=" const struct file_operations *f_op">
<node CREATED="1471333989836" ID="ID_647875500" MODIFIED="1471333989836" TEXT=" struct module *owner"/>
<node CREATED="1471333989836" ID="ID_1617386824" MODIFIED="1471333989836" TEXT=" loff_t (*llseek) (struct file *, loff_t, int)"/>
<node CREATED="1471333989836" ID="ID_1198096784" MODIFIED="1471333989836" TEXT=" ssize_t (*read) (struct file *, char __user *, size_t, loff_t *)">
<node CREATED="1471335035644" ID="ID_191830227" MODIFIED="1471335071035" TEXT="&#x4ece;&#x6587;&#x4ef6;&#x7684;&#x6307;&#x5b9a;&#x504f;&#x79fb;&#x4f4d;&#x7f6e;&#x5904;&#x8bfb;&#x53d6;&#x6307;&#x5b9a;&#x6570;&#x91cf;&#x7684;&#x5185;&#x5bb9;&#x5230;&#x7528;&#x6237;&#x7a7a;&#x95f4;"/>
</node>
<node CREATED="1471333989836" ID="ID_1014140906" MODIFIED="1471333989836" TEXT=" ssize_t (*write) (struct file *, const char __user *, size_t, loff_t *)">
<node CREATED="1471335035644" ID="ID_1613554878" MODIFIED="1471335117192" TEXT="&#x5c06;&#x7528;&#x6237;&#x7a7a;&#x95f4;&#x6307;&#x5b9a;&#x6570;&#x91cf;&#x7684;&#x5185;&#x5bb9;&#x5199;&#x5230;&#x6587;&#x4ef6;&#x7684;&#x6307;&#x5b9a;&#x504f;&#x79fb;&#x4f4d;&#x7f6e;&#x5904;"/>
</node>
<node CREATED="1471333989836" ID="ID_1838224803" MODIFIED="1471333989836" TEXT=" ssize_t (*aio_read) (struct kiocb *, const struct iovec *, unsigned long, loff_t)">
<node CREATED="1471335550677" ID="ID_1831948554" MODIFIED="1471335895709">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_8.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471333989836" ID="ID_1628833795" MODIFIED="1471333989836" TEXT=" ssize_t (*aio_write) (struct kiocb *, const struct iovec *, unsigned long, loff_t)">
<node CREATED="1471335550677" ID="ID_799879138" MODIFIED="1471335895709">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_8.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471333989836" ID="ID_1650710715" MODIFIED="1471333989836" TEXT=" int (*iterate) (struct file *, struct dir_context *)"/>
<node CREATED="1471333989836" ID="ID_1572178208" MODIFIED="1471333989836" TEXT=" unsigned int (*poll) (struct file *, struct poll_table_struct *)">
<node CREATED="1471335550677" ID="ID_927169755" MODIFIED="1471335644760">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_6.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471333989837" ID="ID_244459280" MODIFIED="1471333989837" TEXT=" long (*unlocked_ioctl) (struct file *, unsigned int, unsigned long)"/>
<node CREATED="1471333989837" ID="ID_1924358961" MODIFIED="1471333989837" TEXT=" long (*compat_ioctl) (struct file *, unsigned int, unsigned long)">
<node CREATED="1471335550677" ID="ID_1358991041" MODIFIED="1471335576017">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_file_5.JPG" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471333989837" ID="ID_1847339614" MODIFIED="1471333989837" TEXT=" int (*mmap) (struct file *, struct vm_area_struct *)">
<node CREATED="1471335392563" ID="ID_539416491" MODIFIED="1471335426300" TEXT="&#x5c06;&#x6587;&#x4ef6;&#x7684;&#x5185;&#x5bb9;&#x6620;&#x5c04;&#x5230;&#x8fdb;&#x7a0b;&#x7684;&#x865a;&#x62df;&#x5730;&#x5740;&#x7a7a;&#x95f4;&#xff0c;&#x4f7f;&#x5f97;&#x8fdb;&#x7a0b;&#x8bbf;&#x95ee;&#x6587;&#x4ef6;&#x66f4;&#x52a0;&#x5bb9;&#x6613;"/>
</node>
<node CREATED="1471333989837" ID="ID_714986569" MODIFIED="1471333989837" TEXT=" int (*open) (struct inode *, struct file *)">
<node CREATED="1471335177190" ID="ID_1568710440" MODIFIED="1471335200925" TEXT="&#x6253;&#x5f00;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#xff0c;&#x76f8;&#x5f53;&#x4e8e;&#x5c06;&#x4e00;&#x4e2a;file&#x5bf9;&#x8c61;&#x5173;&#x8054;&#x5230;&#x4e00;&#x4e2a;inode&#x5bf9;&#x8c61;"/>
</node>
<node CREATED="1471333989837" ID="ID_174830427" MODIFIED="1471333989837" TEXT=" int (*flush) (struct file *, fl_owner_t id)">
<node CREATED="1471335550677" ID="ID_968320359" MODIFIED="1471335718841">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_7.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471333989837" ID="ID_1004011123" MODIFIED="1471333989837" TEXT=" int (*release) (struct inode *, struct file *)">
<node CREATED="1471335356570" ID="ID_1559995549" MODIFIED="1471335357781" TEXT="file&#x5bf9;&#x8c61;&#x7684;&#x4f7f;&#x7528;&#x8ba1;&#x6570;&#x5230;&#x8fbe;0&#x65f6;&#xff0c;&#x8c03;&#x7528;release&#x3002;&#x6362;&#x53e5;&#x8bdd;&#x8bf4;&#xff0c;&#x5373;&#x8be5;&#x6587;&#x4ef6;&#x4e0d;&#x518d;&#x4f7f;&#x7528;&#x65f6;&#xff0c;&#x4f7f;&#x5f97;&#x5e95;&#x5c42;&#x5b9e;&#x73b0;&#x80fd;&#x591f;&#x91ca;&#x653e;&#x4e0d;&#x518d;&#x9700;&#x8981;&#x7684;&#x5185;&#x5b58;&#x548c;&#x7f13;&#x5b58;&#x5185;&#x5bb9;&#x3002;"/>
</node>
<node CREATED="1471333989837" ID="ID_1441899574" MODIFIED="1471333989837" TEXT=" int (*fsync) (struct file *, loff_t, loff_t, int datasync)">
<node CREATED="1471335804235" ID="ID_1878129728" MODIFIED="1471335805267" TEXT="fsync&#x7531;fsync&#x548c;fdatasync&#x7cfb;&#x7edf;&#x8c03;&#x7528;&#x4f7f;&#x7528;&#xff0c;&#x7528;&#x4e8e;&#x5c06;&#x5185;&#x5b58;&#x4e2d;&#x7684;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x4e0e;&#x5b58;&#x50a8;&#x4ecb;&#x8d28;&#x540c;&#x6b65;&#x3002;"/>
</node>
<node CREATED="1471333989837" ID="ID_276634772" MODIFIED="1471333989837" TEXT=" int (*aio_fsync) (struct kiocb *, int datasync)">
<node CREATED="1471335804235" ID="ID_280275595" MODIFIED="1471335805267" TEXT="fsync&#x7531;fsync&#x548c;fdatasync&#x7cfb;&#x7edf;&#x8c03;&#x7528;&#x4f7f;&#x7528;&#xff0c;&#x7528;&#x4e8e;&#x5c06;&#x5185;&#x5b58;&#x4e2d;&#x7684;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x4e0e;&#x5b58;&#x50a8;&#x4ecb;&#x8d28;&#x540c;&#x6b65;&#x3002;"/>
</node>
<node CREATED="1471333989837" ID="ID_1109819461" MODIFIED="1471333989837" TEXT=" int (*fasync) (int, struct file *, int)">
<node CREATED="1471335804235" ID="ID_909020978" MODIFIED="1471335805267" TEXT="fsync&#x7531;fsync&#x548c;fdatasync&#x7cfb;&#x7edf;&#x8c03;&#x7528;&#x4f7f;&#x7528;&#xff0c;&#x7528;&#x4e8e;&#x5c06;&#x5185;&#x5b58;&#x4e2d;&#x7684;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x4e0e;&#x5b58;&#x50a8;&#x4ecb;&#x8d28;&#x540c;&#x6b65;&#x3002;"/>
</node>
<node CREATED="1471333989837" ID="ID_1385646400" MODIFIED="1471333989837" TEXT=" int (*lock) (struct file *, int, struct file_lock *)">
<node CREATED="1471335998169" ID="ID_166123015" MODIFIED="1471336000324" TEXT="&#x7528;&#x4e8e;&#x9501;&#x5b9a;&#x6587;&#x4ef6;&#xff0c;&#x5bf9;&#x4e8e;&#x6587;&#x4ef6;&#x7684;&#x5e76;&#x53d1;&#x8bbf;&#x95ee;&#x8fdb;&#x884c;&#x540c;&#x6b65;&#x3002;"/>
</node>
<node CREATED="1471333989837" ID="ID_1131914803" MODIFIED="1471333989837" TEXT=" ssize_t (*sendpage) (struct file *, struct page *, int, size_t, loff_t *, int)">
<node CREATED="1471335550677" ID="ID_13645781" MODIFIED="1471336221030">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_9.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471333989837" ID="ID_1261715190" MODIFIED="1471333989837" TEXT=" unsigned long (*get_unmapped_area)(struct file *, unsigned long, unsigned long, unsigned long, unsigned long)"/>
<node CREATED="1471333989837" MODIFIED="1471333989837" TEXT=" int (*check_flags)(int)"/>
<node CREATED="1471333989837" ID="ID_1390911013" MODIFIED="1471333989837" TEXT=" int (*flock) (struct file *, int, struct file_lock *)"/>
<node CREATED="1471333989837" ID="ID_514586395" MODIFIED="1471333989837" TEXT=" ssize_t (*splice_write)(struct pipe_inode_info *, struct file *, loff_t *, size_t, unsigned int)">
<node CREATED="1471336143570" ID="ID_1754891204" MODIFIED="1471336156355" TEXT="&#x7528;&#x4e8e;&#x4ece;&#x7ba1;&#x9053;&#x5411;&#x6587;&#x4ef6;&#x4f20;&#x8f93;&#x6570;&#x636e;"/>
</node>
<node CREATED="1471333989837" ID="ID_1542229292" MODIFIED="1471333989837" TEXT=" ssize_t (*splice_read)(struct file *, loff_t *, struct pipe_inode_info *, size_t, unsigned int)">
<node CREATED="1471336143570" ID="ID_1446484674" MODIFIED="1471336156355" TEXT="&#x7528;&#x4e8e;&#x4ece;&#x7ba1;&#x9053;&#x5411;&#x6587;&#x4ef6;&#x4f20;&#x8f93;&#x6570;&#x636e;"/>
</node>
<node CREATED="1471333989837" ID="ID_719310459" MODIFIED="1471333989837" TEXT=" int (*setlease)(struct file *, long, struct file_lock **)"/>
<node CREATED="1471333989837" ID="ID_807494679" MODIFIED="1471333989837" TEXT=" long (*fallocate)(struct file *file, int mode, loff_t offset, loff_t len)"/>
<node CREATED="1471333989837" MODIFIED="1471333989837" TEXT=" int (*show_fdinfo)(struct seq_file *m, struct file *f)"/>
</node>
<node CREATED="1471330416844" MODIFIED="1471330416844" TEXT=" spinlock_t f_lock"/>
<node CREATED="1471330416844" MODIFIED="1471330416844" TEXT=" atomic_long_t f_count"/>
<node CREATED="1471330416844" ID="ID_1571656079" MODIFIED="1471330416844" TEXT=" unsigned int f_flags">
<node CREATED="1471333471870" ID="ID_744126865" MODIFIED="1471333472575" TEXT="f_flags&#x6307;&#x5b9a;&#x4e86;&#x5728;open&#x7cfb;&#x7edf;&#x8c03;&#x7528;&#x65f6;&#x4f20;&#x9012;&#x7684;&#x989d;&#x5916;&#x7684;&#x6807;&#x8bc6;&#x3002;"/>
</node>
<node CREATED="1471330416844" ID="ID_115361968" MODIFIED="1471330416844" TEXT=" fmode_t f_mode">
<node CREATED="1471333395746" ID="ID_1444664179" MODIFIED="1471333396876" TEXT="&#x6253;&#x5f00;&#x6587;&#x4ef6;&#x65f6;&#x4f20;&#x9012;&#x7684;&#x6a21;&#x5f0f;&#x53c2;&#x6570;(&#x901a;&#x5e38;&#x6307;&#x5b9a;&#x8bfb;&#xff0c;&#x5199;&#x6216;&#x8bfb;&#x5199;&#x6a21;&#x5f0f;)&#x4fdd;&#x5b58;&#x5728;f_mode&#x5b57;&#x6bb5;&#x4e2d;&#x3002;"/>
</node>
<node CREATED="1471330416844" MODIFIED="1471330416844" TEXT=" struct mutex f_pos_lock"/>
<node CREATED="1471330416844" ID="ID_1706889311" MODIFIED="1471330416844" TEXT=" loff_t f_pos">
<node CREATED="1471333589607" ID="ID_1642340299" MODIFIED="1471333590960" TEXT="&#x6587;&#x4ef6;&#x4f4d;&#x7f6e;&#x6307;&#x9488;&#x7684;&#x5f53;&#x524d;&#x503c;(&#x5bf9;&#x4e8e;&#x987a;&#x5e8f;&#x8bfb;&#x53d6;&#x64cd;&#x4f5c;&#x6216;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#x7279;&#x5b9a;&#x90e8;&#x5206;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x90fd;&#x5f88;&#x91cd;&#x8981;)&#x4fdd;&#x5b58;&#x5728;f_ops&#x53d8;&#x91cf;&#x4e2d;&#xff0c;&#x8868;&#x793a;&#x4e0e;&#x6587;&#x4ef6;&#x8d77;&#x59cb;&#x5904;&#x7684;&#x5b57;&#x8282;&#x504f;&#x79fb;&#x3002;"/>
</node>
<node CREATED="1471330416844" ID="ID_999997510" MODIFIED="1471330416844" TEXT=" struct fown_struct f_owner">
<node CREATED="1471333066801" ID="ID_1733377953" MODIFIED="1471333165875" TEXT="&#x5305;&#x542b;&#x4e86;&#x5904;&#x7406;&#x8be5;&#x6587;&#x4ef6;&#x7684;&#x8fdb;&#x7a0b;&#x6709;&#x5173;&#x7684;&#x4fe1;&#x606f;&#xff0c;&#x56e0;&#x800c;&#x4e5f;&#x786e;&#x5b9a;&#x4e86;SIGIO&#x4fe1;&#x53f7;&#x53d1;&#x9001;&#x7684;&#x76ee;&#x6807;PID&#xff0c;&#x4ee5;&#x5b9e;&#x73b0;&#x5f02;&#x6b65;&#x8f93;&#x5165;&#x8f93;&#x51fa;&#x3002;"/>
<node CREATED="1471333037063" FOLDED="true" ID="ID_942520952" MODIFIED="1471333065885" TEXT=" struct fown_struct">
<node CREATED="1471332985101" ID="ID_208763373" MODIFIED="1471332985939" TEXT="rwlock_t lock"/>
<node CREATED="1471332994060" ID="ID_903363869" MODIFIED="1471332995891" TEXT="struct pid *pid"/>
<node CREATED="1471333003078" ID="ID_1957996375" MODIFIED="1471333005147" TEXT="enum pid_type pid_type"/>
<node CREATED="1471333012040" ID="ID_1501797677" MODIFIED="1471333012617" TEXT="kuid_t uid, euid"/>
<node CREATED="1471333020089" ID="ID_1333917751" MODIFIED="1471333021229" TEXT="int signum"/>
</node>
</node>
<node CREATED="1471330416844" ID="ID_332200349" MODIFIED="1471330416844" TEXT=" const struct cred *f_cred"/>
<node CREATED="1471330416844" ID="ID_808333878" MODIFIED="1471330416844" TEXT=" struct file_ra_state f_ra">
<node CREATED="1471333287646" ID="ID_134990089" MODIFIED="1471333288664" TEXT="&#x9884;&#x8bfb;&#x7279;&#x5f81;&#x4fdd;&#x5b58;&#x5728;f_ra&#x3002;&#x8fd9;&#x4e9b;&#x503c;&#x6307;&#x5b9a;&#x4e86;&#x5728;&#x5b9e;&#x9645;&#x8bf7;&#x6c42;&#x6587;&#x4ef6;&#x6570;&#x636e;&#x4e4b;&#x524d;&#xff0c;&#x662f;&#x5426;&#x9884;&#x8bfb;&#x6587;&#x4ef6;&#x6570;&#x636e;&#xff0c;&#x5982;&#x4f55;&#x9884;&#x8bfb;&#xff08;&#x9884;&#x8bfb;&#x53ef;&#x4ee5;&#x63d0;&#x9ad8;&#x7cfb;&#x7edf;&#x6027;&#x80fd;&#xff09;&#x3002;"/>
</node>
<node CREATED="1471330416844" ID="ID_1164907903" MODIFIED="1471330416844" TEXT=" u64 f_version">
<node CREATED="1471334125886" ID="ID_1027644622" MODIFIED="1471334126958" TEXT="f_version&#x7531;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x4f7f;&#x7528;&#xff0c;&#x4ee5;&#x68c0;&#x67e5;&#x4e00;&#x4e2a;file&#x5b9e;&#x4f8b;&#x662f;&#x5426;&#x4ecd;&#x7136;&#x4e0e;&#x76f8;&#x5173;&#x7684;inode&#x5185;&#x5bb9;&#x517c;&#x5bb9;&#x3002;&#x8fd9;&#x5bf9;&#x4e8e;&#x786e;&#x4fdd;&#x5df2;&#x7f13;&#x5b58;&#x5bf9;&#x8c61;&#x7684;&#x4e00;&#x81f4;&#x6027;&#x5f88;&#x91cd;&#x8981;&#x3002;"/>
</node>
<node CREATED="1471330416844" ID="ID_811042819" MODIFIED="1471330416844" TEXT=" void *f_security"/>
<node CREATED="1471330416844" ID="ID_6717753" MODIFIED="1471330416844" TEXT=" void *private_data"/>
<node CREATED="1471330416844" ID="ID_1371047429" MODIFIED="1471330416844" TEXT=" struct list_head f_ep_links"/>
<node CREATED="1471330416844" ID="ID_1029204085" MODIFIED="1471330416844" TEXT=" struct list_head f_tfile_llink"/>
<node CREATED="1471330416844" ID="ID_804459754" MODIFIED="1471330416844" TEXT=" struct address_space *f_mapping">
<node CREATED="1471334255584" ID="ID_809441887" MODIFIED="1471334263493" TEXT="f_mapping&#x6307;&#x5411;&#x6587;&#x4ef6;&#x76f8;&#x5173;&#x7684;inode&#x5b9e;&#x4f8b;&#x7684;&#x5730;&#x5740;&#x7a7a;&#x95f4;&#x6620;&#x5c04;&#x3002;&#x901a;&#x5e38;&#x5b83;&#x8bbe;&#x7f6e;&#x4e3a;inode-&gt;i_mapping&#xff0c;&#x4f46;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x6216;&#x5176;&#x4ed6;&#x5185;&#x6838;&#x5b50;&#x7cfb;&#x7edf;&#x53ef;&#x80fd;&#x4f1a;&#x4fee;&#x6539;&#x5b83;&#x3002;"/>
</node>
<node CREATED="1471330416844" MODIFIED="1471330416844" TEXT=" unsigned long f_mnt_write_state"/>
</node>
</node>
<node CREATED="1471016773196" ID="ID_1480025270" MODIFIED="1471016778604" POSITION="right" TEXT="&#x6570;&#x636e;&#x7ec4;&#x7ec7;">
<node CREATED="1471019024669" FOLDED="true" ID="ID_1392129067" MODIFIED="1471156197513" TEXT="struct file_system_type &#x4e0e; struct super_block">
<node CREATED="1471019063029" FOLDED="true" ID="ID_827761472" MODIFIED="1471116127973">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25152;&#26377;&#30340;&#25991;&#20214;&#31995;&#32479;,&#37117;&#23384;&#22312;&#20110;file_systems&#38142;&#34920;&#20013;.
    </p>
    <p>
      &#36825;&#26159;&#36890;&#36807;&#35843;&#29992;register_filesystem&#25509;&#21475;&#26469;&#27880;&#20876;&#25991;&#20214;&#31995;&#32479;&#30340;.
    </p>
  </body>
</html></richcontent>
<node CREATED="1471019114610" ID="ID_1803675586" MODIFIED="1471019116390" TEXT="int register_filesystem(struct file_system_type * fs) "/>
<node CREATED="1471019197109" ID="ID_695911788" MODIFIED="1471019232285">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_sb_2.gif" />
  </body>
</html></richcontent>
</node>
<node CREATED="1471019635514" ID="ID_1017042271" MODIFIED="1471019655965" TEXT="&#x5bf9;&#x4e8e;&#x7279;&#x5b9a;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;, &#x8be5;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x7684;&#x6240;&#x6709;&#x7684;super block &#x90fd;&#x5b58;&#x5728;&#x4e8e;file_sytem_type&#x4e2d;&#x7684;fs_supers&#x94fe;&#x8868;&#x4e2d;."/>
</node>
<node CREATED="1471019493963" FOLDED="true" ID="ID_1992359740" MODIFIED="1471116145133" TEXT="super_block&#x5b58;&#x5728;&#x4e8e;&#x4e24;&#x4e2a;&#x94fe;&#x8868;&#x4e2d;,&#xa;&#x4e00;&#x4e2a;&#x662f;&#x5168;&#x5c40;&#x94fe;&#x8868;super_blocks, &#xa;&#x4e00;&#x4e2a;&#x662f;&#x6240;&#x5c5e;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x7684;fs_supers&#x94fe;&#x8868;.">
<node CREATED="1471019197109" ID="ID_831599190" MODIFIED="1471019711798">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_sb_3.gif" />
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471019791370" ID="ID_1315744149" LINK="#ID_695911788" MODIFIED="1471019833941" TEXT="super_block&#x5728;&#x81ea;&#x5df1;&#x6240;&#x5c5e;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x7684;fs_supers&#x94fe;&#x8868;&#x4e2d;"/>
</node>
</node>
<node CREATED="1471116523392" FOLDED="true" ID="ID_534366981" MODIFIED="1471249586369" TEXT="inode&#x7684;&#x7ec4;&#x7ec7;">
<node CREATED="1471211164991" FOLDED="true" ID="ID_460888119" MODIFIED="1471243497050">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1&#65292;inode&#34987;&#25918;&#22312;&#20840;&#23616;&#21704;&#24076;&#34920;inode_hashtable&#34920;&#20013;
    </p>
    <p>
      
    </p>
    <p>
      &#20840;&#23616;&#21704;&#24076;&#34920;inode_hashtable&#34920;&#20027;&#35201;&#29992;&#20110;&#26597;&#25214;&#65292;&#23427;&#29992;&#36229;&#32423;&#22359;&#21644;inode&#21495;hash&#20043;&#21518;&#20570;&#32034;&#24341;&#12290;
    </p>
    <p>
      inode&#22312;&#34987;free&#37322;&#25918;&#20043;&#21069;&#37117;&#22312;&#36825;&#20010;&#21704;&#24076;&#34920;&#20869;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_1866793920" MODIFIED="1471243122629">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_inode_5.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471116562563" FOLDED="true" ID="ID_1814798668" MODIFIED="1471243702500">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2&#65292;inode&#34987;&#25918;&#22312;super_block&#30340;s_inodes&#20013;
    </p>
    <p>
      &#23646;&#20110;&#26576;&#20010;&#36229;&#32423;&#22359;&#30340;&#25152;&#26377;inode&#37117;&#20250;&#34987;&#25918;&#22312;super_block&#30340;s_inodes&#38142;&#34920;&#20013;&#65292;&#30452;&#21040;inode&#34987;free&#37322;&#25918;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_658546192" MODIFIED="1471242486654">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_inode_4.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471116562563" FOLDED="true" ID="ID_1611386770" MODIFIED="1471244103524">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      3&#65292;inode&#34987;&#25918;&#22312;super_block&#30340;wb.b_io&#38142;&#34920;&#20013;
    </p>
    <p>
      &#24403;&#25991;&#20214;&#34987;&#20889;&#36807;&#21464;&#33039;&#26102;&#65292;&#38656;&#35201;&#34987;&#21516;&#27493;&#22238;&#29289;&#29702;&#23384;&#20648;&#35774;&#22791;&#20013;&#65292;&#36825;&#26102;inode&#23601;&#20250;&#34987;&#25918;&#36827;struct super_block-&gt;wb-&gt;b_io&#38142;&#34920;&#20013;&#12290;
    </p>
    <p>
      &#31995;&#32479;&#26377;&#19968;&#20010;work queue&#65292;&#20250;&#23450;&#26102;&#23558;struct super_block-&gt;wb-&gt;b_io&#38142;&#34920;&#20013;&#30340;inode&#20889;&#22238;&#21040;&#29289;&#29702;&#23384;&#20648;&#35774;&#22791;&#12290;inode&#21516;&#27493;&#23436;&#25104;&#21518;&#20250;&#20174;&#36825;&#20010;&#38142;&#34920;&#21024;&#38500;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_1676417061" MODIFIED="1471243712070">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_inode_6.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471116562563" FOLDED="true" ID="ID_332414765" MODIFIED="1471243861574">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      4&#65292;inode&#34987;&#25918;&#22312;&#36229;&#32423;&#22359;super_block&#30340;s_inode_lru&#38142;&#34920;&#20013;
    </p>
    <p>
      &#24403;inode&#30340;&#24341;&#29992;&#35745;&#25968;i_count&#21464;&#20026;0&#65292;&#19988;inode&#19981;&#33039;&#65292;&#23601;&#20250;&#34987;&#25918;&#36827;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#12290;
    </p>
    <p>
      &#36825;&#20010;&#38142;&#34920;&#20013;&#30340;inode&#21363;&#23558;&#34987;&#31995;&#32479;&#37322;&#25918;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_962369558" MODIFIED="1471243859809">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_inode_7.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471244472980" FOLDED="true" ID="ID_814392797" MODIFIED="1471812856684" TEXT="dentry&#x7684;&#x7ec4;&#x7ec7;">
<node CREATED="1471247241224" ID="ID_1462973965" MODIFIED="1471247242619" TEXT="dentry&#x5e76;&#x975e;&#x5b8c;&#x5168;&#x6620;&#x5c04;&#x4e86;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x62d3;&#x6251;&#x7ed3;&#x6784;&#xff0c;&#x56e0;&#x4e3a;dentry&#x7f13;&#x5b58;&#x53ea;&#x5305;&#x542b;&#x4e86;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x4e00;&#x5c0f;&#x90e8;&#x5206;&#x3002;&#x6700;&#x5e38;&#x7528;&#x6587;&#x4ef6; &#x548c;&#x76ee;&#x5f55;&#x5bf9;&#x5e94;&#x7684;dentry&#x624d;&#x4fdd;&#x5b58;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#x3002;&#x539f;&#x5219;&#x4e0a;&#x53ef;&#x4ee5;&#x4e3a;&#x6240;&#x6709;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5bf9;&#x8c61;&#x90fd;&#x751f;&#x6210;dentry&#x9879;&#xff0c;&#x4f46;&#x7269;&#x7406;&#x5185;&#x5b58;&#x7a7a;&#x95f4; &#x548c;&#x6027;&#x80fd;&#x539f;&#x56e0;&#x90fd;&#x9650;&#x5236;&#x4e86;&#x8fd9;&#x6837;&#x505a;&#x3002;"/>
<node CREATED="1471211164991" FOLDED="true" ID="ID_231731070" MODIFIED="1471812855558">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      1&#65292;dentry&#34987;&#25918;&#22312;&#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#34920;&#20013;
    </p>
    <p>
      
    </p>
    <p>
      &#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#34920;&#20027;&#35201;&#29992;&#20110;&#26597;&#25214;&#65292;&#23427;&#29992;&#36229;&#32423;&#22359;&#21644;inode&#21495;hash&#20043;&#21518;&#20570;&#32034;&#24341;&#12290;
    </p>
    <p>
      dentry&#22312;&#34987;free&#37322;&#25918;&#20043;&#21069;&#37117;&#22312;&#36825;&#20010;&#21704;&#24076;&#34920;&#20869;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_219835044" MODIFIED="1471248351160">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_dentry_2.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471812692209" ID="ID_987339138" MODIFIED="1471812853773">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct hlist_bl_head *d_hash(const struct dentry *parent, unsigned int hash)
    </p>
    <p>
      {
    </p>
    <p>
      hash += (unsigned long) parent / L1_CACHE_BYTES;
    </p>
    <p>
      return dentry_hashtable + hash_32(hash, d_hash_shift);
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      &#19978;&#38754;&#26159;&#26681;&#25454;&#25991;&#20214;&#21517;&#21704;&#24076;&#20197;&#21450;parent dentry&#35745;&#31639;&#26742;&#20301;&#32622;&#30340;&#31639;&#27861;&#65292;&#21487;&#35265;hash&#26159;&#36319;&#29238;&#30446;&#24405;&#32465;&#23450;&#30340;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471116562563" FOLDED="true" ID="ID_1648729088" MODIFIED="1471249106531">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      2&#65292;dentry&#34987;&#25918;&#22312;&#36229;&#32423;&#22359;super_block&#30340;s_dentry_lru&#38142;&#34920;&#20013;
    </p>
    <p>
      &#24403;dentry&#30340;&#24341;&#29992;&#35745;&#25968;d_count&#21464;&#20026;0&#65292;&#23601;&#20250;&#34987;&#25918;&#36827;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#12290;
    </p>
    <p>
      &#36825;&#20010;&#38142;&#34920;&#20013;&#30340;dentry&#21363;&#23558;&#34987;&#31995;&#32479;&#37322;&#25918;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_1833820263" MODIFIED="1471248695302">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_dentry_4.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1470982627363" ID="ID_395947513" MODIFIED="1471248575424">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_dentry_3.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471248723205" ID="ID_535561497" MODIFIED="1471248724739" TEXT="dcache&#x4e2d;&#x7684;dentry&#x5bf9;&#x8c61;&#x63a7;&#x5236;&#x7740;icache&#x4e2d;&#x7684;inode&#x5bf9;&#x8c61;&#x7684;&#x751f;&#x547d;&#x671f;&#x8f6c;&#x6362;&#x3002;&#x65e0;&#x8bba;&#x4f55;&#x65f6;&#xff0c;&#x53ea;&#x8981;&#x4e00;&#x4e2a;&#x76ee;&#x5f55;&#x9879;&#x5bf9;&#x8c61;&#x5b58;&#x5728;&#x4e8e;dcache&#x4e2d;&#xff08;&#x975e; negative&#x72b6;&#x6001;&#xff09;&#xff0c;&#x5219;&#x76f8;&#x5e94;&#x7684;inode&#x5c31;&#x5c06;&#x603b;&#x662f;&#x5b58;&#x5728;&#xff0c;&#x56e0;&#x4e3a; inode&#x7684;&#x5f15;&#x7528;&#x8ba1;&#x6570;i_count&#x603b;&#x662f;&#x5927;&#x4e8e;0&#x3002;&#x5f53;dcache&#x4e2d;&#x7684;&#x4e00;&#x4e2a;dentry&#x88ab;&#x91ca;&#x653e;&#x65f6;&#xff0c;&#x9488;&#x5bf9;&#x76f8;&#x5e94;inode&#x5bf9;&#x8c61;&#x7684;iput()&#x65b9;&#x6cd5;&#x5c31;&#x4f1a;&#x88ab;&#x8c03;&#x7528;&#x3002;"/>
</node>
<node CREATED="1471248764532" FOLDED="true" ID="ID_333848882" MODIFIED="1471249555974">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      3&#65292;dentry&#34987;&#25918;&#22312;&#29238;&#30446;&#24405;&#30340;dentry&#30340;d_subdirs&#38142;&#34920;&#20013;
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#26679;&#23601;&#26500;&#25104;&#20102;&#25991;&#20214;&#31995;&#32479;&#30340;&#26641;&#24418;&#32467;&#26500;&#65292;&#35201;&#27880;&#24847;&#30340;&#26159;&#24182;&#19981;&#26159;&#25152;&#26377;&#25991;&#20214;/&#30446;&#24405;&#30340;dentry&#37117;&#22312;&#20869;&#23384;&#20013;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_879808264" MODIFIED="1471249114030">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_dentry_5.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471249146256" FOLDED="true" ID="ID_232266495" MODIFIED="1471330066465">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      4&#65292;dentry&#34987;&#25918;&#22312;inode&#30340;i_dentry&#38142;&#34920;&#20013;
    </p>
    <p>
      
    </p>
    <p>
      &#24403;&#25991;&#20214;&#23384;&#22312;hard link&#26102;&#65292;&#23601;&#20250;&#26377;&#22810;&#20010;dentry&#24341;&#29992;&#21516;&#19968;&#20010;inode&#65292;&#22240;&#32780;&#26500;&#25104;Inode&#20013;&#30340;i_dentry&#38142;&#34920;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1470982627363" ID="ID_1574697622" MODIFIED="1471249564848">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_dentry_6.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471244494965" FOLDED="true" ID="ID_1212889384" MODIFIED="1471808240862" TEXT="file&#x7684;&#x7ec4;&#x7ec7;">
<node CREATED="1470982627363" ID="ID_689373937" MODIFIED="1471716145923">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_4.JPG" />
    </p>
  </body>
</html></richcontent>
<node CREATED="1471420252148" FOLDED="true" ID="ID_998465851" MODIFIED="1471420578359" TEXT="struct fs_struct">
<node CREATED="1471420266371" ID="ID_678430129" MODIFIED="1471420267608" TEXT="int users"/>
<node CREATED="1471420278669" ID="ID_525894483" MODIFIED="1471420279257" TEXT="spinlock_t lock"/>
<node CREATED="1471420288667" ID="ID_991710674" MODIFIED="1471420290608" TEXT="seqcount_t seq"/>
<node CREATED="1471420297523" ID="ID_1234242482" MODIFIED="1471420299418" TEXT="int umask"/>
<node CREATED="1471420306946" ID="ID_1995897938" MODIFIED="1471420307417" TEXT="int in_exec"/>
<node CREATED="1471420317063" ID="ID_1079364767" MODIFIED="1471420318237" TEXT="struct path root">
<node CREATED="1471420352571" ID="ID_526929415" MODIFIED="1471420551681" TEXT="struct path">
<node CREATED="1471420362793" ID="ID_1986750360" MODIFIED="1471420363833" TEXT="struct vfsmount *mnt"/>
<node CREATED="1471420372246" ID="ID_1396336052" MODIFIED="1471420372784" TEXT="struct dentry *dentry"/>
</node>
<node CREATED="1471420522526" ID="ID_1225969627" MODIFIED="1471420539416">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_file_10.JPG" />
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471420319190" ID="ID_471369730" MODIFIED="1471420322590" TEXT="struct path pwd">
<node CREATED="1471420352571" ID="ID_449411468" MODIFIED="1471420551681" TEXT="struct path">
<node CREATED="1471420362793" ID="ID_683676951" MODIFIED="1471420363833" TEXT="struct vfsmount *mnt"/>
<node CREATED="1471420372246" ID="ID_1133137622" MODIFIED="1471420372784" TEXT="struct dentry *dentry"/>
</node>
<node CREATED="1471420522526" ID="ID_1364970458" MODIFIED="1471420565005">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_file_11.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471330617482" ID="ID_947779516" MODIFIED="1471716053526" TEXT="struct files_struct">
<node CREATED="1471330637545" ID="ID_1520065089" MODIFIED="1471330638730" TEXT="atomic_t count"/>
<node CREATED="1471330648518" ID="ID_1478537990" MODIFIED="1471330654724" TEXT="struct fdtable *fdt">
<node CREATED="1471332020701" ID="ID_422700089" MODIFIED="1471332072061" TEXT="fdtab &#x548c; close_on_exec_init / open_fds_init / fd_array&#x7684;&#x5173;&#x7cfb;">
<node CREATED="1471332105087" ID="ID_1722259656" MODIFIED="1471332158331" TEXT="&#x5bf9;&#x4e8e;files_struct&#x7684;&#x7528;&#x6237;&#x800c;&#x8a00;&#xff0c;&#x5e94;&#x8be5;&#x59cb;&#x7ec8;&#x4f7f;&#x7528;fdtab&#x6765;&#x8bbf;&#x95ee;&#x8fdb;&#x7a0b;&#x7684;file&#xff0c;&#x5b83;&#x662f;&#x5bf9;&#x5916;&#x7684;&#x7a97;&#x53e3;"/>
<node CREATED="1471332215653" ID="ID_420004076" MODIFIED="1471332466398">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21021;&#22987;&#21270;&#26102;
    </p>
    <p>
      fdtab . fd &#23454;&#38469;&#25351;&#21521; fd_array
    </p>
    <p>
      fdtab . close_on_exec &#23454;&#38469;&#25351;&#21521; close_on_exec_init
    </p>
    <p>
      fdtab . open_fds &#23454;&#38469;&#25351;&#21521; open_fds_init
    </p>
    <p>
      &#20063;&#23601;&#26159;&#35828;&#21021;&#22987;&#21270;&#26102;close_on_exec_init / open_fds_init / fd_arra&#23454;&#38469;&#19978;&#23601;&#26159;fdtab&#30340;&#20855;&#20307;&#23454;&#29616;&#12290;fdtab&#21482;&#26159;&#19968;&#20010;&#23545;&#22806;&#25509;&#21475;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471332491657" ID="ID_661176655" MODIFIED="1471332758217" TEXT="&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#x56e0;&#x4e3a;fd_array&#x6570;&#x7ec4;&#x53ea;&#x6709;32&#x4e2a;&#x5143;&#x7d20;&#xff0c;&#x6240;&#x4ee5;&#x53ea;&#x652f;&#x6301;32&#x4e2a;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;&#x3002;&#x4f46;&#x662f;&#x5982;&#x679c;&#x7528;&#x6237;&#x60f3;&#x8981;&#x6253;&#x5f00;&#x8d85;&#x8fc7;32&#x4e2a;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;&#x65f6;&#xff0c;&#x53ef;&#x4ee5;&#x7ed9;fdtab&#x53e6;&#x884c;&#x5206;&#x914d;&#x5185;&#x5b58;&#x5373;&#x91cd;&#x65b0;&#x5b9e;&#x73b0;fdtab&#x4ece;&#x800c;&#x5206;&#x914d;&#x66f4;&#x5927;&#x7684;&#x6587;&#x4ef6;&#x6570;&#x7ec4;&#x3002;&#x6b64;&#x65f6;fdtab &#x5c06;&#x4e0d;&#x518d;&#x6307;&#x5411; close_on_exec_init / open_fds_init / fd_array&#xff0c;&#x800c;&#x662f;&#x6307;&#x5411;&#x65b0;&#x5206;&#x914d;&#x7684;&#x6587;&#x4ef6;&#x6570;&#x7ec4;&#x3002;&#x8fd9;&#x6837;&#x65e2;&#x7167;&#x987e;&#x4e86;&#x5927;&#x6982;&#x7387;&#x4e8b;&#x4ef6;(&#x5927;&#x90e8;&#x5206;&#x7528;&#x6237;&#x4e0d;&#x4f1a;&#x6253;&#x5f00;&#x8d85;&#x8fc7;32&#x4e2a;&#x6587;&#x4ef6;)&#xff0c;&#x4e5f;&#x7167;&#x987e;&#x4e86;&#x5c0f;&#x6982;&#x7387;&#x4e8b;&#x4ef6;(&#x5076;&#x5c14;&#x6709;&#x7528;&#x6237;&#x9700;&#x8981;&#x6253;&#x5f00;&#x8d85;&#x8fc7;32&#x4e2a;&#x6587;&#x4ef6;)"/>
</node>
</node>
<node CREATED="1471330668151" ID="ID_1127730891" MODIFIED="1471332230397" TEXT="struct fdtable fdtab">
<node CREATED="1471330992087" ID="ID_409470407" MODIFIED="1471330992778" TEXT="unsigned int max_fds"/>
<node CREATED="1471331001733" ID="ID_1396108254" MODIFIED="1471331007742" TEXT="struct file **fd">
<node CREATED="1471331161753" ID="ID_262864881" MODIFIED="1471331229672" TEXT="fd_array[] &#x6587;&#x4ef6;&#x6570;&#x7ec4;&#xff0c;&#x4ee5;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;&#x4f5c;&#x7d22;&#x5f15;&#xff0c;&#x6570;&#x7ec4;&#x6700;&#x5927;&#x957f;&#x5ea6;&#x4e3a;max_fds"/>
</node>
<node CREATED="1471331017779" ID="ID_1175826452" MODIFIED="1471331018313" TEXT="unsigned long *close_on_exec">
<node CREATED="1471330782309" ID="ID_1336147429" MODIFIED="1471331619946" TEXT="&#x6307;&#x5411;bitmap&#x7684;&#x6307;&#x9488;&#xff0c;&#x6267;&#x884c;exec&#x65f6;&#x8981;&#x5173;&#x95ed;&#x7684;&#x6240;&#x6709;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;"/>
</node>
<node CREATED="1471331027828" ID="ID_1255569428" MODIFIED="1471331029272" TEXT="unsigned long *open_fds">
<node CREATED="1471330782309" ID="ID_387907953" MODIFIED="1471331693442" TEXT="&#x6307;&#x5411;bitmap&#x7684;&#x6307;&#x9488;&#xff0c;&#x6240;&#x6709;&#x6253;&#x5f00;&#x7684;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;&#xff0c;&#x6bcf;&#x4e2a;&#x7f6e;&#x4f4d;&#x7684;bit&#x90fd;&#x5bf9;&#x5e94;&#x4e86;&#x4e0a;&#x9762;fd&#x6570;&#x7ec4;&#x7684;&#x4e00;&#x4e2a;&#x5143;&#x7d20;"/>
</node>
<node CREATED="1471331036977" ID="ID_1955328808" MODIFIED="1471331037467" TEXT="struct rcu_head rcu"/>
</node>
<node CREATED="1471330684531" ID="ID_417549317" MODIFIED="1471330685091" TEXT="spinlock_t file_lock"/>
<node CREATED="1471330696164" ID="ID_1334484504" MODIFIED="1471330696676" TEXT="int next_fd">
<node CREATED="1471330741353" ID="ID_1458467716" MODIFIED="1471330760793" TEXT="&#x4e0b;&#x4e00;&#x6b21;&#x6253;&#x5f00;&#x65b0;&#x6587;&#x4ef6;&#x65f6;&#x6240;&#x4f7f;&#x7528;&#x7684;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;"/>
</node>
<node COLOR="#3333ff" CREATED="1471330706859" ID="ID_511627165" MODIFIED="1471332004887" TEXT="unsigned long close_on_exec_init[1]">
<node CREATED="1471330782309" ID="ID_1842033945" MODIFIED="1471330805388" TEXT="bitmap&#xff0c;&#x6267;&#x884c;exec&#x65f6;&#x8981;&#x5173;&#x95ed;&#x7684;&#x6240;&#x6709;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;"/>
</node>
<node COLOR="#3333ff" CREATED="1471330716762" ID="ID_1780751630" MODIFIED="1471332004886" TEXT="unsigned long open_fds_init[1]">
<node CREATED="1471330782309" ID="ID_1842107328" MODIFIED="1471330861673" TEXT="bitmap&#xff0c;&#x6700;&#x521d;&#x7684;&#x6587;&#x4ef6;&#x63cf;&#x8ff0;&#x7b26;&#x96c6;&#x5408;"/>
</node>
<node COLOR="#3333ff" CREATED="1471330728469" ID="ID_975147856" MODIFIED="1471332004886" TEXT="struct file * fd_array[NR_OPEN_DEFAULT]"/>
</node>
</node>
</node>
</node>
<node CREATED="1471421529757" FOLDED="true" ID="ID_1635768016" MODIFIED="1472022460832" POSITION="left" TEXT="&#x521d;&#x59cb;&#x5316;">
<node CREATED="1471720587743" ID="ID_375569591" MODIFIED="1471720595761" TEXT="proc&#x6587;&#x4ef6;&#x7cfb;&#x7edf;">
<node CREATED="1471422335506" ID="ID_1124834224" MODIFIED="1471732874882" TEXT="struct file_system_type proc_fs_type">
<node CREATED="1471422364549" ID="ID_627427952" MODIFIED="1471422374190" TEXT=".name = &quot;proc&quot;"/>
<node CREATED="1471422387131" ID="ID_824365449" MODIFIED="1471422393984" TEXT=".mount = proc_mount"/>
<node CREATED="1471422406545" ID="ID_1867160074" MODIFIED="1471422412354" TEXT=".kill_sb = proc_kill_sb"/>
<node CREATED="1471422423644" ID="ID_82522687" MODIFIED="1471422429551" TEXT=".fs_flags = FS_USERNS_MOUNT"/>
</node>
<node CREATED="1471720821599" ID="ID_845997746" MODIFIED="1471720835939" TEXT="struct super_block">
<node CREATED="1471588457782" ID="ID_1610805085" MODIFIED="1471720886379">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .s_op
    </p>
    <p>
      
    </p>
    <p>
      &#26469;&#33258;&#20110;&#20840;&#23616;&#21464;&#37327;struct super_operations proc_sops
    </p>
  </body>
</html></richcontent>
<node CREATED="1471588474748" ID="ID_506962420" MODIFIED="1471588483962" TEXT=".alloc_inode = proc_alloc_inode"/>
<node CREATED="1471588494115" ID="ID_1941192557" MODIFIED="1471588500781" TEXT=".destroy_inode = proc_destroy_inode"/>
<node CREATED="1471588512111" ID="ID_246172495" MODIFIED="1471588517736" TEXT=".drop_inode = generic_delete_inode"/>
<node CREATED="1471588529734" ID="ID_1544460715" MODIFIED="1471588534478" TEXT=".evict_inode = proc_evict_inode"/>
<node CREATED="1471588550986" ID="ID_1508366661" MODIFIED="1471588557384" TEXT=".statfs = simple_statfs"/>
<node CREATED="1471588567896" ID="ID_34631720" MODIFIED="1471588573456" TEXT=".remount_fs = proc_remount"/>
<node CREATED="1471588584932" ID="ID_302565338" MODIFIED="1471588592965" TEXT=".show_options = proc_show_options"/>
</node>
</node>
<node CREATED="1471918704215" ID="ID_1405929019" MODIFIED="1471938898162" TEXT="struct dentry">
<node CREATED="1471935414822" ID="ID_1601748475" MODIFIED="1471987303802">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      root dentry&#65292;&#21363;/proc&#23545;&#24212;&#30340;dentry&#12290;
    </p>
    <p>
      &#36825;&#26159;&#22312;proc&#25991;&#20214;&#31995;&#32479;mount&#26102;&#21019;&#24314;&#30340;&#65292;&#35265;proc_mount() -&gt;proc_fill_super() -&gt;d_make_root()
    </p>
    <p>
      root_dentry -&gt;d_op&#20989;&#25968;&#38598;&#32487;&#25215;&#33258;proc&#36229;&#32423;&#22359;dentry-&gt;d_sb-&gt;s_d_op&#65292;&#36825;&#37324;&#20026;&#31354;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471935419839" ID="ID_868835520" MODIFIED="1471987776108">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23376;&#30446;&#24405;dentry
    </p>
    <p>
      proc&#23376;&#30446;&#24405;dentry&#37117;&#26159;&#22312;&#26597;&#25214;proc&#25991;&#20214;&#31995;&#32479;&#26576;&#20010;&#20855;&#20307;&#30340;&#25991;&#20214;&#26102;&#21019;&#24314;&#12290;
    </p>
    <p>
      &#27839;&#30528;/proc&#26681;&#30446;&#24405;&#36941;&#21382;&#65292;&#20026;&#19968;&#32423;&#19968;&#32423;&#30340;&#23376;&#30446;&#24405;&#21019;&#24314;dentry&#65292;&#21516;&#26102;&#35843;&#29992;&#29238;&#30446;&#24405;&#30340;inode&#30340;inode-&gt;i_op-&gt;lookup()&#20989;&#25968;
    </p>
    <p>
      &#20026;&#23376;&#30446;&#24405;&#21019;&#24314;&#23545;&#24212;&#30340;inode&#12290;&#35265;&#65306;do_sys_open() -&gt; do_filp_open() -&gt;path_openat() -&gt;link_path_walk()
    </p>
    <p>
      -&gt;walk_component() -&gt;lookup_slow() -&gt; __lookup_hash() -&gt;lookup_real() -&gt;dir-&gt;i_op-&gt;lookup() -&gt;
    </p>
    <p>
      proc_root_lookup() -&gt;proc_lookup() -&gt;proc_lookup_de()
    </p>
    <p>
      
    </p>
    <p>
      &#23376;&#30446;&#24405;&#30340;inode&#21019;&#24314;&#22909;&#20043;&#21518;&#20250;&#20851;&#32852;&#21040;&#23376;&#30446;&#24405;&#30340;dentry&#65292;&#21516;&#26102;&#35774;&#32622;dentry-&gt;d_op = simple_dentry_operations&#65292;&#35265;
    </p>
    <p>
      &#20989;&#25968;proc_lookup_de()&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471935698018" ID="ID_302163331" MODIFIED="1471935699685" TEXT=".d_delete = always_delete_dentry"/>
</node>
<node CREATED="1471938974413" ID="ID_1595923359" MODIFIED="1471938994535" TEXT="/proc/sys&#x5b50;&#x76ee;&#x5f55;&#x4e0b;dentry">
<node CREATED="1471989266182" ID="ID_1626772844" MODIFIED="1471989402002">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22312;&#21019;&#24314;/proc/sys&#23376;&#30446;&#24405;&#19979;inode&#26102;&#21516;&#26102;&#21021;&#22987;&#21270;/proc/sys&#23376;&#30446;&#24405;&#19979;dentry&#30340;d_op&#20989;&#25968;&#38598;&#65292;&#35265;proc_sys_lookup()&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471939009255" ID="ID_1723900563" MODIFIED="1471939015056" TEXT="dentry-&gt;d_op = proc_sys_dentry_operations">
<node CREATED="1471939053811" ID="ID_838357626" MODIFIED="1471939054786" TEXT=".d_revalidate = proc_sys_revalidate">
<node CREATED="1472022348948" ID="ID_463509094" MODIFIED="1472022358322" TEXT="return ! PROC_I(dentry-&gt;d_inode)-&gt;sysctl-&gt;unregistering"/>
</node>
<node CREATED="1471939061445" ID="ID_1175626295" MODIFIED="1471939062587" TEXT=".d_delete = proc_sys_delete"/>
<node CREATED="1471939068495" ID="ID_396731981" MODIFIED="1471939068873" TEXT=".d_compare = proc_sys_compare"/>
</node>
</node>
</node>
<node CREATED="1471918696105" FOLDED="true" ID="ID_223079702" MODIFIED="1472022313358" TEXT="struct inode">
<node CREATED="1471931829311" ID="ID_548582024" MODIFIED="1471931902222">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct proc_inode
    </p>
    <p>
      &#22312;proc&#25991;&#20214;&#31995;&#32479;&#20013;inode&#23454;&#38469;&#19978;&#34987;&#21253;&#21547;&#22312;struct proc_inode&#20013;&#65292;
    </p>
    <p>
      &#30456;&#24403;&#20110;struct inode&#26159;&#22522;&#31867;&#65292;struct proc_inode&#26159;&#23376;&#31867;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471931918167" ID="ID_1693010026" MODIFIED="1471931948566">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct pid *pid
    </p>
    <p>
      &#24403;inode&#23545;&#24212;&#19968;&#20010;&#36827;&#31243;&#21495;&#26102;&#20351;&#29992;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471931958490" ID="ID_1655293134" MODIFIED="1471931958920" TEXT="int fd"/>
<node CREATED="1471931976142" ID="ID_1638265328" MODIFIED="1471931976509" TEXT="union proc_op op"/>
<node CREATED="1471931987065" ID="ID_706866137" MODIFIED="1471932956716">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct proc_dir_entry *pde
    </p>
    <p>
      &#24403;inode&#23545;&#24212;&#19968;&#20010;&#30446;&#24405;&#26102;&#20351;&#29992;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471932630452" MODIFIED="1471932630452" TEXT=" unsigned int low_ino"/>
<node CREATED="1471932630452" MODIFIED="1471932630452" TEXT=" umode_t mode"/>
<node CREATED="1471932630452" MODIFIED="1471932630452" TEXT=" nlink_t nlink"/>
<node CREATED="1471932630452" MODIFIED="1471932630452" TEXT=" kuid_t uid"/>
<node CREATED="1471932630452" MODIFIED="1471932630452" TEXT=" kgid_t gid"/>
<node CREATED="1471932630452" MODIFIED="1471932630452" TEXT=" loff_t size"/>
<node CREATED="1471932630452" ID="ID_303122219" MODIFIED="1471932630452" TEXT=" const struct inode_operations *proc_iops">
<node CREATED="1471933401742" ID="ID_374099821" MODIFIED="1471933433424" TEXT="&#x5b50;&#x76ee;&#x5f55;&#x5bf9;&#x5e94;&#x7684;inode&#x7684;inode-&gt;i_op&#x51fd;&#x6570;&#x6307;&#x9488;&#x8868;"/>
</node>
<node CREATED="1471932630453" ID="ID_74151530" MODIFIED="1471932630453" TEXT=" const struct file_operations *proc_fops">
<node CREATED="1471933401742" ID="ID_998059261" MODIFIED="1471933446426" TEXT="&#x5b50;&#x76ee;&#x5f55;&#x5bf9;&#x5e94;&#x7684;inode&#x7684;inode-&gt;i_fop&#x51fd;&#x6570;&#x6307;&#x9488;&#x8868;"/>
</node>
<node CREATED="1471932630453" ID="ID_1142050798" MODIFIED="1471932630453" TEXT=" struct proc_dir_entry *next, *parent, *subdir">
<node CREATED="1471932673268" ID="ID_1946989004" MODIFIED="1471932698275" TEXT="&#x7528;&#x4e8e;&#x6784;&#x5efa;proc&#x76ee;&#x5f55;&#x6811;&#x5f62;&#x7ed3;&#x6784;"/>
</node>
<node CREATED="1471932630453" MODIFIED="1471932630453" TEXT=" void *data"/>
<node CREATED="1471932630453" MODIFIED="1471932630453" TEXT=" atomic_t count"/>
<node CREATED="1471932630453" MODIFIED="1471932630453" TEXT=" atomic_t in_use"/>
<node CREATED="1471932630453" MODIFIED="1471932630453" TEXT=" struct completion *pde_unload_completion"/>
<node CREATED="1471932630453" MODIFIED="1471932630453" TEXT=" struct list_head pde_openers"/>
<node CREATED="1471932630453" MODIFIED="1471932630453" TEXT=" spinlock_t pde_unload_lock"/>
<node CREATED="1471932630453" ID="ID_1642961049" MODIFIED="1471932630453" TEXT=" u8 namelen"/>
<node CREATED="1471932630453" ID="ID_358174646" MODIFIED="1471932630453" TEXT=" char name[]">
<node CREATED="1471932794645" ID="ID_1080480194" MODIFIED="1471932799813" TEXT="&#x76ee;&#x5f55;&#x540d;"/>
</node>
</node>
<node CREATED="1471932019338" ID="ID_1089593887" MODIFIED="1471932020241" TEXT="struct ctl_table_header *sysctl"/>
<node CREATED="1471932029982" ID="ID_5784512" MODIFIED="1471932030845" TEXT="struct ctl_table *sysctl_entry"/>
<node CREATED="1471932039429" ID="ID_1234023457" MODIFIED="1471932040251" TEXT="struct proc_ns ns"/>
<node CREATED="1471932048401" ID="ID_1071984732" MODIFIED="1471932062274">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct inode vfs_inode
    </p>
    <p>
      &#30495;&#27491;&#30340;inode
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471918734755" ID="ID_448858926" MODIFIED="1471934192540">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      root inode&#65292;&#21363; /proc &#23545;&#24212;&#30340;inode&#12290;
    </p>
    <p>
      &#23427;&#22312;proc&#25991;&#20214;&#31995;&#32479;mount&#26102;&#21363;&#24050;&#21019;&#24314;&#65292;&#35265;&#65306;
    </p>
    <p>
      proc_mount() -&gt; proc_fill_super() -&gt;proc_get_inode()
    </p>
  </body>
</html></richcontent>
<node CREATED="1471918846560" ID="ID_1868623082" MODIFIED="1471918856090" TEXT="inode-&gt;i_op = proc_root-&gt;proc_iops">
<node CREATED="1471918914700" ID="ID_52324112" MODIFIED="1471918916007" TEXT="proc_root_inode_operations">
<node CREATED="1471918944688" ID="ID_1425542673" MODIFIED="1471918959751">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .lookup = proc_root_lookup
    </p>
  </body>
</html></richcontent>
<node CREATED="1471919111945" ID="ID_1612638017" MODIFIED="1471919115811" TEXT="proc_lookup()">
<node CREATED="1471931262286" ID="ID_1798957523" MODIFIED="1471931499038" TEXT="proc_lookup_de()">
<node CREATED="1471932885103" ID="ID_1377978237" MODIFIED="1471933077373">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23558;root inode&#36716;&#21270;&#20026;proc_inode&#65292;&#21462;&#20854;&#20013;&#30340;proc_inode-&gt;pde&#65292;
    </p>
    <p>
      &#36941;&#21382;proc_inode-&gt;pde-&gt;next / parent / subdir&#65292;&#21462;&#24471;&#23376;&#30446;&#24405;&#23545;&#24212;&#30340;struct proc_dir_entry *de
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471933234554" ID="ID_247383550" MODIFIED="1471933267564" TEXT="&#x8c03;&#x7528;proc_get_inode()&#x4e3a;&#x5b50;&#x76ee;&#x5f55;&#x5bf9;&#x5e94;&#x7684;struct proc_dir_entry *de&#x521b;&#x5efa;&#x4e00;&#x4e2a;inode">
<node CREATED="1471933313379" ID="ID_1066531227" MODIFIED="1471933315525" TEXT="inode-&gt;i_op = de-&gt;proc_iops"/>
<node CREATED="1471933346116" ID="ID_212317602" MODIFIED="1471933347387" TEXT="inode-&gt;i_fop = de-&gt;proc_fops"/>
</node>
<node CREATED="1471988385450" ID="ID_1147007108" MODIFIED="1471988445232" TEXT="&#x5c06;&#x5b50;&#x76ee;&#x5f55;&#x7684;dentry&#x4e0e;&#x5b50;&#x76ee;&#x5f55;&#x7684;inode&#x5173;&#x8054;&#x8d77;&#x6765;&#xff0c;&#x5e76;&#x8bbe;&#x7f6e;&#x5b50;&#x76ee;&#x5f55;dentry -&gt;d_op &#x4e3a; simple_dentry_operations"/>
</node>
</node>
<node CREATED="1471919124058" ID="ID_1876369713" MODIFIED="1471919178715">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#19978;&#19968;&#27493;&#27809;&#26377;&#25214;&#21040;&#21017;&#35843;&#29992; proc_pid_lookup() &#26597;&#25214;PID&#23545;&#24212;&#30340;inode&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471918969260" ID="ID_1007999453" MODIFIED="1471918976768">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .getattr = proc_root_getattr
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471918874181" ID="ID_1190933825" MODIFIED="1471918883170" TEXT="inode-&gt;i_fop = proc_root-&gt;proc_fops">
<node CREATED="1471918927479" ID="ID_1710350447" MODIFIED="1471918928512" TEXT="proc_root_operations">
<node CREATED="1471919030711" ID="ID_1725349827" MODIFIED="1471919038476">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .read = generic_read_dir
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471919049888" ID="ID_876618790" MODIFIED="1471919056754">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .iterate = proc_root_readdir
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471919066746" ID="ID_4864955" MODIFIED="1471919073761">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .llseek = default_llseek
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1471933811399" ID="ID_1044662793" MODIFIED="1471937589550">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23376;&#30446;&#24405;inode
    </p>
    <p>
      proc&#23376;&#30446;&#24405;inode&#37117;&#26159;&#22312;&#26597;&#25214;proc&#25991;&#20214;&#31995;&#32479;&#26576;&#20010;&#20855;&#20307;&#30340;&#25991;&#20214;&#26102;&#21019;&#24314;&#12290;
    </p>
    <p>
      &#27839;&#30528;/proc&#26681;&#30446;&#24405;&#36941;&#21382;&#65292;&#20026;&#19968;&#32423;&#19968;&#32423;&#30340;&#23376;&#30446;&#24405;&#21019;&#24314;dentry&#65292;&#21516;&#26102;&#35843;&#29992;&#29238;&#30446;&#24405;&#30340;inode&#30340;inode-&gt;i_op-&gt;lookup()&#20989;&#25968;
    </p>
    <p>
      &#20026;&#23376;&#30446;&#24405;&#21019;&#24314;&#23545;&#24212;&#30340;inode&#12290;&#35265;&#65306;do_sys_open() -&gt; do_filp_open() -&gt;path_openat() -&gt;link_path_walk()
    </p>
    <p>
      -&gt;walk_component() -&gt;lookup_slow() -&gt; __lookup_hash() -&gt;lookup_real() -&gt;dir-&gt;i_op-&gt;lookup()&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#23376;&#30446;&#24405;&#30340;inode&#23454;&#38469;&#19978;&#26159;&#26681;&#25454;&#23376;&#30446;&#24405;&#30340;struct proc_dir_entry *de&#32780;&#21019;&#24314;&#65292;&#36825;&#20027;&#35201;&#20307;&#29616;&#22312;&#65306;
    </p>
    <p>
      inode-&gt;i_op = de-&gt;proc_iops &#21644; inode-&gt;i_fop = de-&gt;proc_fops&#65292;&#21363;&#36825;&#20004;&#20010;&#20989;&#25968;&#38598;&#30001;&#23376;&#30446;&#24405;&#30340;
    </p>
    <p>
      struct proc_dir_entry *de&#21021;&#22987;&#21270;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#23376;&#30446;&#24405;&#30340;struct proc_dir_entry *de&#26159;&#36319;&#30528;&#23376;&#30446;&#24405;&#21019;&#24314;&#30340;&#12290;&#23376;&#30446;&#24405;&#26159;&#35843;&#29992;proc_mkdir()&#21019;&#24314;&#30340;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#23376;&#30446;&#24405;
    </p>
    <p>
      struct proc_dir_entry * dp -&gt;proc_fops = &amp;proc_dir_operations;
    </p>
    <p>
      struct proc_dir_entry *dp -&gt;proc_iops = &amp;proc_dir_inode_operations;&#65292;
    </p>
    <p>
      &#35265;proc_mkdir() -&gt;proc_mkdir_data() -&gt;proc_register()&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#20294;&#26159;&#29305;&#23450;&#30340;&#23376;&#30446;&#24405;&#21487;&#20197;&#25351;&#23450;&#33258;&#24049;&#30340;inode&#25805;&#20316;&#38598;&#21644;file&#25805;&#20316;&#38598;&#65292;&#27604;&#22914;/proc/sys&#23376;&#30446;&#24405;&#22312;proc_sys_init()&#20013;&#21019;&#24314;&#26102;
    </p>
    <p>
      &#23601;&#25351;&#23450;&#20102;&#33258;&#24049;&#30340;inode&#25805;&#20316;&#38598;&#21644;file&#25805;&#20316;&#38598;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471936671992" ID="ID_1167092002" MODIFIED="1471936681354" TEXT="&#x4e00;&#x822c;&#x5b50;&#x76ee;&#x5f55;">
<node CREATED="1471936721484" ID="ID_1450436260" MODIFIED="1471936722330" TEXT="dp-&gt;proc_iops = &amp;proc_dir_inode_operations">
<node CREATED="1471937016850" ID="ID_1903867409" MODIFIED="1471937017472" TEXT=" .lookup = proc_lookup"/>
<node CREATED="1471937024076" ID="ID_229476504" MODIFIED="1471937025336" TEXT=".getattr = proc_getattr"/>
<node CREATED="1471937030660" ID="ID_984174254" MODIFIED="1471937031538" TEXT=".setattr = proc_notify_change"/>
</node>
<node CREATED="1471936735278" ID="ID_1328383066" MODIFIED="1471936736501" TEXT="dp-&gt;proc_fops = &amp;proc_dir_operations">
<node CREATED="1471936961273" ID="ID_285492761" MODIFIED="1471936962020" TEXT=".llseek = generic_file_llseek"/>
<node CREATED="1471936968126" ID="ID_226231049" MODIFIED="1471936969212" TEXT=".read = generic_read_dir"/>
<node CREATED="1471936973523" ID="ID_1358839678" MODIFIED="1471936974304" TEXT=".iterate = proc_readdir"/>
</node>
</node>
<node CREATED="1471936684222" ID="ID_466866157" MODIFIED="1471936688666" TEXT="&#x4e00;&#x822c;&#x6587;&#x4ef6;">
<node CREATED="1471936756173" ID="ID_1790665865" MODIFIED="1471936756886" TEXT="dp-&gt;proc_iops = &amp;proc_file_inode_operations"/>
</node>
<node CREATED="1471936752645" ID="ID_386878565" MODIFIED="1471937066956" TEXT="/proc/sys&#x76ee;&#x5f55;">
<node CREATED="1471937097703" ID="ID_27368750" MODIFIED="1471937098344" TEXT="proc_sys_root-&gt;proc_iops = &amp;proc_sys_dir_operations">
<node CREATED="1471937220172" ID="ID_448347412" MODIFIED="1471937222297" TEXT=".lookup&#x9;= proc_sys_lookup"/>
<node CREATED="1471937230676" ID="ID_1362462866" MODIFIED="1471937231286" TEXT=".permission = proc_sys_permission"/>
<node CREATED="1471937237908" ID="ID_106778360" MODIFIED="1471937238672" TEXT=".setattr = proc_sys_setattr"/>
<node CREATED="1471937244070" ID="ID_846205252" MODIFIED="1471937244761" TEXT=".getattr = proc_sys_getattr"/>
</node>
<node CREATED="1471937104404" ID="ID_1529490361" MODIFIED="1471937105218" TEXT="proc_sys_root-&gt;proc_fops = &amp;proc_sys_dir_file_operations">
<node CREATED="1471937273756" ID="ID_1417805966" MODIFIED="1471937274297" TEXT=".read = generic_read_dir"/>
<node CREATED="1471937280605" ID="ID_1365055575" MODIFIED="1471937281976" TEXT=".iterate = proc_sys_readdir"/>
<node CREATED="1471937286807" ID="ID_1804371201" MODIFIED="1471937287514" TEXT=".llseek = generic_file_llseek"/>
</node>
</node>
</node>
<node CREATED="1471938600728" ID="ID_1890845435" MODIFIED="1471938610295" TEXT="&#x6587;&#x4ef6;inode">
<node CREATED="1471936752645" ID="ID_1027593928" MODIFIED="1471938563638" TEXT="/proc/sys&#x6811;&#x4e4b;&#x4e0b;&#x7684;&#x6587;&#x4ef6;">
<node CREATED="1471937097703" ID="ID_370005298" MODIFIED="1471938692955" TEXT="inode-&gt;i_op = &amp;proc_sys_inode_operations">
<node CREATED="1471937220172" ID="ID_877721105" MODIFIED="1471938755634" TEXT=".permission = proc_sys_permission"/>
<node CREATED="1471937237908" ID="ID_1786617479" MODIFIED="1471937238672" TEXT=".setattr = proc_sys_setattr"/>
<node CREATED="1471937244070" ID="ID_1054653896" MODIFIED="1471937244761" TEXT=".getattr = proc_sys_getattr"/>
</node>
<node CREATED="1471937104404" ID="ID_1307804991" MODIFIED="1471938702071" TEXT="inode-&gt;i_fop = &amp;proc_sys_file_operations">
<node CREATED="1471938835751" ID="ID_591164091" MODIFIED="1471938837421" TEXT=".open = proc_sys_open"/>
<node CREATED="1471938844393" ID="ID_701333057" MODIFIED="1471938846131" TEXT=".poll = proc_sys_poll"/>
<node CREATED="1471938850335" ID="ID_566727816" MODIFIED="1471938852045" TEXT=".read = proc_sys_read"/>
<node CREATED="1471938855739" ID="ID_753369526" MODIFIED="1471938856796" TEXT=".write = proc_sys_write"/>
<node CREATED="1471938861353" ID="ID_429001189" MODIFIED="1471938862415" TEXT=".llseek = default_llseek"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1471016747628" ID="ID_117188746" MODIFIED="1471421528952" POSITION="left" TEXT="&#x5178;&#x578b;&#x7528;&#x4f8b;">
<node CREATED="1471421741514" FOLDED="true" ID="ID_845692199" MODIFIED="1471721939053">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#27880;&#20876;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;
    </p>
    <p>
      int register_filesystem(struct file_system_type * fs)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471421979091" ID="ID_1208408527" MODIFIED="1471422240304">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#30456;&#24403;&#20110;&#19968;&#20010;&#31867;&#65292;&#32780;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#21017;&#26159;&#31867;&#30340;&#23454;&#20363;
    </p>
    <p>
      &#25152;&#26377;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#25918;&#22312;&#20840;&#23616;&#38142;&#34920;file_systems&#20013;&#12290;
    </p>
    <p>
      &#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#20851;&#38190;&#30340;&#26159;&#35201;&#25552;&#20379;&#20197;&#19979;2&#20010;&#20989;&#25968;&#65306;
    </p>
    <p>
      mount(): &#22914;&#20309;&#21152;&#36733;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#65292;&#21363;&#22914;&#20309;&#21019;&#24314;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#30340;&#23454;&#20363;&#12290;
    </p>
    <p>
      kill_sb(): &#22914;&#20309;&#21368;&#36733;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#65292;&#21363;&#22914;&#20309;&#38144;&#27585;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#30340;&#23454;&#20363;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471422335506" ID="ID_796412435" MODIFIED="1471422343396" TEXT="struct file_system_type proc_fs_type">
<node CREATED="1471422364549" ID="ID_1793105397" MODIFIED="1471422374190" TEXT=".name = &quot;proc&quot;"/>
<node CREATED="1471422387131" ID="ID_510125300" MODIFIED="1471422393984" TEXT=".mount = proc_mount"/>
<node CREATED="1471422406545" ID="ID_1811800223" MODIFIED="1471422412354" TEXT=".kill_sb = proc_kill_sb"/>
<node CREATED="1471422423644" ID="ID_614118749" MODIFIED="1471422429551" TEXT=".fs_flags = FS_USERNS_MOUNT"/>
</node>
</node>
<node CREATED="1471422627263" FOLDED="true" ID="ID_837991984" MODIFIED="1471907255138">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21152;&#36733;&#25991;&#20214;&#31995;&#32479;
    </p>
    <p>
      <em>mount</em>&#160;-t <em>proc</em>&#160;none /<em>proc</em>
    </p>
  </body>
</html></richcontent>
<node CREATED="1471503180622" FOLDED="true" ID="ID_1033817790" MODIFIED="1471907250704">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct mount
    </p>
    <p>
      &#27599;&#19968;&#20010;&#21152;&#36733;&#30340;&#25991;&#20214;&#31995;&#32479;&#37117;&#23545;&#24212;&#19968;&#20010;mount / vfsmount / super_block&#30340;&#23454;&#20363;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471503291606" ID="ID_1238136499" MODIFIED="1471503291606" TEXT=" struct hlist_node mnt_hash">
<node CREATED="1471505729169" ID="ID_1668845375" MODIFIED="1471505846480" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x5f53;&#x524d;mount/&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x94fe;&#x63a5;&#x5230;&#x5168;&#x5c40;&#x54c8;&#x5e0c;&#x8868;mount_hashtable&#x4e2d;"/>
</node>
<node CREATED="1471503291606" ID="ID_582094718" MODIFIED="1471503291606" TEXT=" struct mount *mnt_parent">
<node CREATED="1471503394084" ID="ID_846378159" MODIFIED="1471504255986" TEXT="&#x7236;mount&#xff0c;&#x6216;&#x79f0;&#x7236;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
</node>
<node CREATED="1471503291606" ID="ID_1818978914" MODIFIED="1471503291606" TEXT=" struct dentry *mnt_mountpoint">
<node CREATED="1471503476724" ID="ID_173648007" MODIFIED="1471504273371" TEXT="&#x88c5;&#x8f7d;&#x70b9;&#x5728;&#x7236;mount/&#x7236;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x4e2d;&#x7684;dentry"/>
<node CREATED="1471503889438" ID="ID_55232380" MODIFIED="1471503921583">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_vfs_2.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1471504815090" ID="ID_1447138565" MODIFIED="1471504963752" TEXT="&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x52a0;&#x8f7d;&#x540e;&#xff0c;&#x8fd9;&#x4e2a;dentry&#x6216;&#x76ee;&#x5f55;&#x4e0b;&#x7684;&#x5185;&#x5bb9;&#x88ab;&#x9690;&#x85cf;&#xff0c;&#x53d6;&#x800c;&#x4ee3;&#x4e4b;&#x7684;&#x662f;mnt_root&#x5bf9;&#x5e94;dentry&#x6216;&#x76ee;&#x5f55;&#x4e0b;&#x7684;&#x5185;&#x5bb9;"/>
</node>
<node CREATED="1471503291606" ID="ID_1564979937" MODIFIED="1471503291606" TEXT=" struct vfsmount mnt">
<node CREATED="1471502217493" ID="ID_1128941284" MODIFIED="1471502218329" TEXT="struct dentry *mnt_root">
<node CREATED="1471502363192" ID="ID_683349693" MODIFIED="1471503585010" TEXT="&#x88c5;&#x8f7d;&#x70b9;&#x5728;&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x4e2d;&#x7684;dentry&#xff0c;&#x4e5f;&#x5c31;&#x662f;mount &#x7684;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x5b83;&#x662f;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x6839;&#x76ee;&#x5f55;(&#x76f8;&#x5bf9;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x800c;&#x8a00;)"/>
<node CREATED="1471504769383" ID="ID_233287991" MODIFIED="1471504809682" TEXT="mnt_mountpoint&#x662f;&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;&#x88c5;&#x8f7d;&#x70b9;&#x5728;&#x5176;&#x7236;&#x76ee;&#x5f55;&#x4e2d;&#x7684;dentry&#x7ed3;&#x6784;&#x3002;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x672c;&#x8eab;&#x7684;&#x76f8;&#x5bf9;&#x6839;&#x76ee;&#x5f55;&#x6240;&#x5bf9;&#x5e94; &#x7684;dentry&#x4fdd;&#x5b58;&#x5728;mnt_root&#x4e2d;&#x3002;&#x4e24;&#x4e2a;dentry&#x5b9e;&#x4f8b;&#x8868;&#x793a;&#x540c;&#x4e00;&#x76ee;&#x5f55;(&#x5373;&#x88c5;&#x8f7d;&#x70b9;)&#x3002;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x5728;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5378;&#x8f7d;&#x540e;&#xff0c; &#x4e0d;&#x5fc5;&#x5220;&#x9664;&#x6b64;&#x524d;&#x7684;&#x88c5;&#x8f7d;&#x70b9;&#x4fe1;&#x606f;&#x3002;&#x7531;&#x6b64;&#x53ef;&#x89c1;&#x4f7f;&#x7528;&#x4e24;&#x4e2a;dentry&#x9879;&#x662f;&#x6709;&#x5fc5;&#x8981;&#x7684;&#x3002; "/>
</node>
<node CREATED="1471502228037" ID="ID_1593695557" MODIFIED="1471502228683" TEXT="struct super_block *mnt_sb">
<node CREATED="1471502786771" ID="ID_1235700786" MODIFIED="1471503605234" TEXT="&#x6240;&#x88c5;&#x8f7d;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x5bf9;&#x5e94;&#x7684;&#x8d85;&#x7ea7;&#x5757;"/>
</node>
<node CREATED="1471502239717" FOLDED="true" ID="ID_1890410893" MODIFIED="1471505471592" TEXT="int mnt_flags">
<node CREATED="1471503889438" ID="ID_1506652213" MODIFIED="1471505462794">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_vfs_3.JPG" />
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471503291606" ID="ID_107250876" MODIFIED="1471503291606" TEXT=" struct rcu_head mnt_rcu"/>
<node CREATED="1471503291606" ID="ID_1206259778" MODIFIED="1471506221323" TEXT=" struct mnt_pcp  __percpu  *mnt_pcp">
<node CREATED="1471506183239" ID="ID_68209193" MODIFIED="1471506185003" TEXT="int mnt_count">
<node CREATED="1471506234665" ID="ID_1650254869" MODIFIED="1471506236543" TEXT="mnt_count&#x5b9e;&#x73b0;&#x4e86;&#x4e00;&#x4e2a;&#x8ba1;&#x6570;&#x5668;&#x3002;&#x6bcf;&#x5f53;&#x4e00;&#x4e2a;vfsmount&#x5b9e;&#x4f8b;&#x4e0d;&#x518d;&#x9700;&#x8981;&#x65f6;&#xff0c;&#x90fd;&#x5fc5;&#x987b;&#x7528;mntput&#x5c06;&#x8ba1;&#x6570;&#x5668;&#x51cf;1. mntget&#x4e0e;mntput&#x76f8;&#x5bf9;&#xff0c;&#x5728;&#x83b7;&#x53d6;vfsmount&#x5b9e;&#x4f8b;&#x4f7f;&#x7528;&#x65f6;&#xff0c;&#x5fc5;&#x987b;&#x8c03;&#x7528;mntget&#x3002;"/>
</node>
<node CREATED="1471506205016" ID="ID_258998524" MODIFIED="1471506207696" TEXT="int mnt_writers"/>
</node>
<node CREATED="1471503291606" ID="ID_1014181828" MODIFIED="1471503291606" TEXT=" struct list_head mnt_mounts">
<node CREATED="1471504033315" ID="ID_807882298" MODIFIED="1471504304056" TEXT="&#x5b50;mount/&#x5b50;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x94fe;&#x8868;"/>
</node>
<node CREATED="1471503291606" ID="ID_1692633022" MODIFIED="1471503291606" TEXT=" struct list_head mnt_child">
<node CREATED="1471504101702" ID="ID_1984195980" MODIFIED="1471504334782" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x5f53;&#x524d;mount/&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x94fe;&#x63a5;&#x5230;&#x7236;mount/&#x7236;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7684;mnt_mounts&#x94fe;&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471503291606" ID="ID_971765788" MODIFIED="1471503291606" TEXT=" struct list_head mnt_instance">
<node CREATED="1471504101702" ID="ID_1075673095" LINK="#ID_1403013719" MODIFIED="1471505268838" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x5f53;&#x524d;mount/&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x94fe;&#x63a5;&#x5230;&#x6240;&#x5c5e;&#x8d85;&#x7ea7;&#x5757;&#x7684;s_mounts&#x94fe;&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471503291606" ID="ID_616219211" MODIFIED="1471503291606" TEXT=" const char *mnt_devname">
<node CREATED="1471504351644" ID="ID_208946159" MODIFIED="1471504416252" TEXT="&#x4ece;&#x54ea;&#x4e2a;&#x8bbe;&#x5907;&#x4e0a;&#x52a0;&#x8f7d;&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
</node>
<node CREATED="1471503291606" ID="ID_449051486" MODIFIED="1471503291606" TEXT=" struct list_head mnt_list">
<node CREATED="1471504101702" ID="ID_38510494" MODIFIED="1471505584753" TEXT="&#x7528;&#x4e8e;&#x5c06;&#x5f53;&#x524d;mount/&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x94fe;&#x63a5;&#x5230;&#x6240;&#x5c5e;&#x547d;&#x540d;&#x7a7a;&#x95f4;&#x7684;namespace-&gt;list&#x94fe;&#x8868;&#x4e2d;"/>
</node>
<node CREATED="1471503291606" ID="ID_1593103632" MODIFIED="1471503291606" TEXT=" struct list_head mnt_expire">
<node CREATED="1471729755981" FOLDED="true" ID="ID_1783801074" MODIFIED="1471730976961">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#29992;&#20110;&#23558;&#24403;&#21069;mount/&#24403;&#21069;&#25991;&#20214;&#31995;&#32479;&#38142;&#25509;&#21040;&#29305;&#23450;&#25991;&#20214;&#31995;&#32479;&#30340;&#33258;&#21160;&#36229;&#26102;&#38142;&#34920;&#20013;&#65292;&#27604;&#22914;&#65306;
    </p>
    <p>
      NFS : nfs_automount_list
    </p>
    <p>
      AFS : afs_vfsmounts
    </p>
    <p>
      CIFS : cifs_dfs_automount_list
    </p>
    <p>
      &#31995;&#32479;&#20250;&#23450;&#26102;&#25195;&#25551;&#19978;&#36848;&#38142;&#34920;&#65292;&#23558;&#24341;&#29992;&#35745;&#25968;&#20026;1&#19988;&#34987;&#26631;&#35760;&#20026;&#36229;&#26102;&#30340;mount&#21368;&#36733;&#25481;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471730719886" ID="ID_1141923916" MODIFIED="1471730721340" TEXT="void mark_mounts_for_expiry(struct list_head *mounts)">
<node CREATED="1471730778875" ID="ID_1787143334" MODIFIED="1471730935281">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#36941;&#21382;&#38142;&#34920;&#20013;&#27599;&#20010;mount&#65292;&#21462;&#20986;&#32769;&#30340;mnt_expiry_mark&#20540;&#65292;&#24182;&#23558;&#20854;&#26032;&#35774;&#20026;1&#12290;
    </p>
    <p>
      &#22914;&#26524;&#32769;&#30340;mnt_expiry_mark&#20540;&#20026;1&#65292;&#19988;mount&#30340;&#24341;&#29992;&#35745;&#25968;&#20026;1&#65288;&#34920;&#31034;&#21482;&#34987;&#20854;parent mount&#24341;&#29992;&#65289;
    </p>
    <p>
      &#21017;&#23558;&#20854;&#31227;&#20837;&#20840;&#23616;graveyard&#22675;&#22320;&#38142;&#34920;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471730950773" ID="ID_647273067" MODIFIED="1471730968713" TEXT="&#x904d;&#x5386;graveyard&#x5893;&#x5730;&#x94fe;&#x8868;&#xff0c;&#x5378;&#x8f7d;&#x5176;&#x4e2d;&#x7684;&#x6bcf;&#x4e00;&#x4e2a;mount&#x3002;"/>
</node>
</node>
</node>
<node CREATED="1471503291606" ID="ID_201376421" MODIFIED="1471503291606" TEXT=" struct list_head mnt_share"/>
<node CREATED="1471503291606" ID="ID_1618756939" MODIFIED="1471503291606" TEXT=" struct list_head mnt_slave_list"/>
<node CREATED="1471503291606" ID="ID_1134560245" MODIFIED="1471503291606" TEXT=" struct list_head mnt_slave"/>
<node CREATED="1471503291606" ID="ID_1739915129" MODIFIED="1471503291606" TEXT=" struct mount *mnt_master"/>
<node CREATED="1471503291606" ID="ID_93976582" MODIFIED="1471503291606" TEXT=" struct mnt_namespace *mnt_ns">
<node CREATED="1471505652525" ID="ID_344276510" MODIFIED="1471505678098" TEXT="&#x5f53;&#x524d;mount/&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x6240;&#x5c5e;&#x547d;&#x540d;&#x7a7a;&#x95f4;"/>
</node>
<node CREATED="1471503291607" MODIFIED="1471503291607" TEXT=" struct mountpoint *mnt_mp"/>
<node CREATED="1471503291607" ID="ID_559253343" MODIFIED="1471503291607" TEXT=" struct hlist_head mnt_fsnotify_marks"/>
<node CREATED="1471503291607" ID="ID_207461436" MODIFIED="1471503291607" TEXT=" __u32 mnt_fsnotify_mask"/>
<node CREATED="1471503291607" ID="ID_656505429" MODIFIED="1471503291607" TEXT=" int mnt_id"/>
<node CREATED="1471503291607" MODIFIED="1471503291607" TEXT=" int mnt_group_id"/>
<node CREATED="1471503291607" ID="ID_620709106" MODIFIED="1471503291607" TEXT=" int mnt_expiry_mark">
<node CREATED="1471729584707" ID="ID_256643938" MODIFIED="1471729616128" TEXT="&#x6807;&#x8bb0;&#x6b64;mount&#x5df2;&#x7ecf;&#x8fc7;&#x671f;&#x4e86;&#xff0c;&#x5728;&#x4e0b;&#x4e00;&#x4e2a;&#x5468;&#x671f;&#x53ef;&#x4ee5;&#x88ab;&#x5378;&#x8f7d;&#x4e86;"/>
</node>
<node CREATED="1471503291607" ID="ID_24853033" MODIFIED="1471503291607" TEXT=" int mnt_pinned"/>
<node CREATED="1471503291607" ID="ID_494114590" MODIFIED="1471503291607" TEXT=" struct path mnt_ex_mountpoint"/>
</node>
<node CREATED="1471422834209" ID="ID_1767891823" MODIFIED="1471422835532" TEXT="&#x7528;&#x6237;&#x6267;&#x884c;mount&#x547d;&#x4ee4;&#x8fdb;&#x800c;&#x89e6;&#x53d1;mount&#x7cfb;&#x7edf;&#x8c03;&#x7528;&#xff0c;&#x7cfb;&#x7edf;&#x627e;&#x5230;&#x6307;&#x5b9a;&#x7684;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7c7b;&#x578b;&#x540e;&#x6267;&#x884c;&#x5176;mount()&#x51fd;&#x6570;&#x4ee5;&#x52a0;&#x8f7d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
<node CREATED="1471423381515" ID="ID_513633839" MODIFIED="1471732672397" TEXT="mount&#x7cfb;&#x7edf;&#x8c03;&#x7528;">
<node CREATED="1471423415981" ID="ID_1059836525" MODIFIED="1471423460639" TEXT="long do_mount ( const char *dev_name, const char *dir_name,&#xa;                               const char *type_page, unsigned long flags, void *data_page)">
<node CREATED="1471423415981" ID="ID_1982982781" MODIFIED="1471501900198" TEXT="int do_new_mount ( struct path *path,  const char *fstype,  int flags,&#xa;                                     int mnt_flags,  const char *name,  void *data)">
<node CREATED="1471502915069" ID="ID_1750134866" MODIFIED="1471503023224">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct file_system_type *type = get_fs_type(fstype)
    </p>
    <p>
      &#26681;&#25454;&#21442;&#25968;&#25214;&#21040;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471502961702" ID="ID_1728420301" MODIFIED="1471716612359">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct vfsmount *mnt = vfs_kern_mount(type, flags, name, data)
    </p>
    <p>
      
    </p>
    <p>
      &#26412;&#20989;&#25968;&#20027;&#35201;&#36127;&#36131;&#32500;&#25252;mount&#30340;&#26641;&#24418;&#32467;&#26500;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471586444735" ID="ID_1969877557" MODIFIED="1471586520090">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct mount *mnt = alloc_vfsmnt(name)
    </p>
    <p>
      &#20998;&#37197;&#19968;&#20010;struct mount&#32467;&#26500;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471586554853" ID="ID_238503596" MODIFIED="1471716490548">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *
    </p>
    <p>
      mount_fs(struct file_system_type *type, int flags, const char *name, void *data)
    </p>
    <p>
      
    </p>
    <p>
      &#36820;&#22238;&#30340;dentry&#26159;&#35013;&#36733;&#28857;&#22312;&#24403;&#21069;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;&#26681;&#30446;&#24405;&#23545;&#24212;&#30340;dentry&#65292;&#20063;&#23601;&#26159;&#33258;&#24049;&#30340;&#26681;&#30446;&#24405;&#30340;dentry&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471587865524" ID="ID_1633928618" LINK="#ID_133522677" MODIFIED="1471716676066">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      type-&gt;mount()
    </p>
    <p>
      &#21363;&#35843;&#29992;&#29305;&#23450;&#25991;&#20214;&#31995;&#32479;&#31867;&#22411;&#30340;mount()&#20989;&#25968;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#26412;&#20989;&#25968;&#20027;&#35201;&#36127;&#36131;&#20998;&#37197;&#36229;&#32423;&#22359;&#65292;&#20197;&#21450;&#20998;&#37197;&#26032;&#30340;&#36229;&#32423;&#22359;&#30340;root inode&#21644;root dentry&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471586999276" ID="ID_236027480" MODIFIED="1471587029344" TEXT="&#x7528;&#x7b2c;&#x4e8c;&#x6b65;&#x8fd4;&#x56de;&#x7684;&#x7ed3;&#x679c;&#x521d;&#x59cb;&#x5316;&#x7b2c;&#x4e00;&#x6b65;&#x5206;&#x914d;&#x7684;mount">
<node CREATED="1471586734441" ID="ID_1689892295" MODIFIED="1471586766634" TEXT="&#x521d;&#x59cb;&#x5316;mnt-&gt;mnt.mnt_root &#x4e3a;&#x4e0a;&#x9762;mount_fs()&#x7684;&#x8fd4;&#x56de;&#x503c;"/>
<node CREATED="1471586795169" ID="ID_99572883" MODIFIED="1471586848810" TEXT="&#x521d;&#x59cb;&#x5316;mnt-&gt;mnt.mnt_sb&#x4e3a;mnt-&gt;mnt.mnt_root&#x6240;&#x5c5e;&#x7684;&#x8d85;&#x7ea7;&#x5757;"/>
<node CREATED="1471586880726" ID="ID_1229804801" MODIFIED="1471586891592" TEXT="&#x521d;&#x59cb;&#x5316;mnt-&gt;mnt_mountpoint &#x4e3a; mnt-&gt;mnt.mnt_root">
<node CREATED="1471722230365" ID="ID_1875431462" MODIFIED="1471722253373" TEXT="mnt-&gt;mnt_mountpoint &#x5c06;&#x4f1a;&#x5728;do_add_mount()&#x4e2d;&#x88ab;&#x91cd;&#x65b0;&#x4fee;&#x6539;"/>
</node>
<node CREATED="1471586907045" ID="ID_1411704110" MODIFIED="1471586924432" TEXT="&#x521d;&#x59cb;&#x5316;mnt-&gt;mnt_parent &#x4e3a;mnt&#x81ea;&#x5df1;">
<node CREATED="1471722267467" ID="ID_1654429270" MODIFIED="1471722292122" TEXT="mnt-&gt;mnt_parent&#x5c06;&#x4f1a;&#x5728;do_add_mount()&#x4e2d;&#x88ab;&#x91cd;&#x65b0;&#x4fee;&#x6539;"/>
</node>
<node CREATED="1471586945548" ID="ID_1199839124" MODIFIED="1471586972364" TEXT="&#x5c06;mnt&#x52a0;&#x5165;&#x6240;&#x5c5e;&#x8d85;&#x7ea7;&#x5757;&#x7684;s_mounts&#x94fe;&#x8868;&#x4e2d;"/>
</node>
</node>
<node CREATED="1471587320688" ID="ID_152303808" MODIFIED="1471587784648">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int do_add_mount(struct mount *newmnt, struct path *path, int mnt_flags)
    </p>
    <p>
      &#26681;&#25454;path&#25214;&#21040;&#29238;&#35013;&#36733;&#28857;&#65292;&#23558;&#26032;&#30340;&#35013;&#36733;&#28857;&#25346;&#25509;&#21040;&#35013;&#36733;&#26641;&#19978;&#21435;&#65292;&#36825;&#28041;&#21450;&#21040;&#26356;&#26032;
    </p>
    <p>
      newmnt-&gt;mnt_parent&#65292;newmnt-&gt;mnt_mountpoint
    </p>
    <p>
      newmnt-&gt;mnt_mounts, newmnt-&gt;mnt_child
    </p>
  </body>
</html></richcontent>
<node CREATED="1471722470505" ID="ID_639840621" MODIFIED="1471722472593" TEXT="int graft_tree(struct mount *mnt, struct mount *p, struct mountpoint *mp)">
<node CREATED="1471722504449" ID="ID_1876830594" MODIFIED="1471722566062" TEXT="int attach_recursive_mnt ( struct mount *source_mnt,&#xa;                                                struct mount *dest_mnt,&#xa;                                                struct mountpoint *dest_mp,&#xa;                                                struct path *parent_path)">
<node CREATED="1471722968165" ID="ID_557635307" MODIFIED="1471722997898">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/fs_vfs_4.JPG" />
  </body>
</html></richcontent>
</node>
<node CREATED="1471722968165" ID="ID_1530434897" MODIFIED="1471723033901">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <img src="pic/fs_vfs_5.JPG" />
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1471422863251" ID="ID_133522677" MODIFIED="1471422910867">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *proc_mount ( struct file_system_type *fs_type,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int flags,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const char *dev_name,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;void *data)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471588246181" ID="ID_153644204" MODIFIED="1471588256500" TEXT="&#x5206;&#x914d;&#x4e00;&#x4e2a;&#x8d85;&#x7ea7;&#x5757;"/>
<node CREATED="1471588326191" ID="ID_1248244768" MODIFIED="1471588347101">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      proc_fill_super(sb)
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#22635;&#20805;&#36229;&#32423;&#22359;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471588374426" ID="ID_573797888" MODIFIED="1471588433171">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21021;&#22987;&#21270;&#36229;&#32423;&#22359;&#30340;struct super_operations *s_op
    </p>
    <p>
      s-&gt;s_op = &amp;proc_sops
    </p>
  </body>
</html></richcontent>
<node CREATED="1471588457782" FOLDED="true" ID="ID_1529077924" MODIFIED="1471720733349" TEXT="struct super_operations proc_sops">
<node CREATED="1471588474748" ID="ID_784258487" MODIFIED="1471588483962" TEXT=".alloc_inode = proc_alloc_inode"/>
<node CREATED="1471588494115" ID="ID_721126676" MODIFIED="1471588500781" TEXT=".destroy_inode = proc_destroy_inode"/>
<node CREATED="1471588512111" ID="ID_438643978" MODIFIED="1471588517736" TEXT=".drop_inode = generic_delete_inode"/>
<node CREATED="1471588529734" ID="ID_702683052" MODIFIED="1471588534478" TEXT=".evict_inode = proc_evict_inode"/>
<node CREATED="1471588550986" ID="ID_1457431928" MODIFIED="1471588557384" TEXT=".statfs = simple_statfs"/>
<node CREATED="1471588567896" ID="ID_1476332630" MODIFIED="1471588573456" TEXT=".remount_fs = proc_remount"/>
<node CREATED="1471588584932" ID="ID_628619992" MODIFIED="1471588592965" TEXT=".show_options = proc_show_options"/>
</node>
</node>
<node CREATED="1471588974753" ID="ID_57887553" MODIFIED="1471589016011" TEXT="&#x4e3a;&#x8d85;&#x7ea7;&#x5757;&#x5206;&#x914d;&#x4e00;&#x4e2a;root inode&#xff0c;&#x5e76;&#x7528;proc_root&#x521d;&#x59cb;&#x5316;&#x8fd9;&#x4e2a;root inode">
<node CREATED="1471589046280" ID="ID_1376454636" MODIFIED="1471589048639" TEXT="struct proc_dir_entry proc_root">
<node CREATED="1471589058990" ID="ID_1318671025" MODIFIED="1471589065331" TEXT=".low_ino = PROC_ROOT_INO"/>
<node CREATED="1471589075053" ID="ID_273296242" MODIFIED="1471589093683">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .namelen&#160;= 5
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589106238" ID="ID_1400720528" MODIFIED="1471589115492">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .mode = S_IFDIR | S_IRUGO | S_IXUGO
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589126407" ID="ID_1039779711" MODIFIED="1471589135672">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .nlink = 2
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589149523" ID="ID_1550951244" MODIFIED="1471589158050">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .count = ATOMIC_INIT(1)
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589169461" ID="ID_1196665650" MODIFIED="1471589178629">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .proc_iops = &amp;proc_root_inode_operations
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589190281" ID="ID_142472022" MODIFIED="1471589199319">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .proc_fops = &amp;proc_root_operations
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589211971" ID="ID_1946182047" MODIFIED="1471589220319">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .parent = &amp;proc_root
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471589231917" ID="ID_838260055" MODIFIED="1471589240307">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      .name = &quot;/proc&quot;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471589305082" ID="ID_817565668" MODIFIED="1471589394458" TEXT="&#x521d;&#x59cb;&#x5316;&#x6839;inode-&gt;i_op = proc_root-&gt;proc_iops&#xff0c;&#x5373;proc_root_inode_operations"/>
<node CREATED="1471589305082" ID="ID_98546644" MODIFIED="1471589480661" TEXT="&#x521d;&#x59cb;&#x5316;&#x6839;inode-&gt;i_fop = proc_root-&gt;proc_fops&#xff0c;&#x5373;proc_root_operations"/>
<node CREATED="1471589543764" ID="ID_286514722" MODIFIED="1471589545689" TEXT="PROC_I(inode)-&gt;pde = de"/>
</node>
<node CREATED="1471590487767" ID="ID_208766836" MODIFIED="1471717906808" TEXT="&#x5206;&#x914d;&#x4e00;&#x4e2a;root dentry&#xff0c;&#x5e76;&#x8c03;&#x7528;d_instantiate()&#x5c06;root inode &#x548c; root dentry&#x5173;&#x8054;&#x8d77;&#x6765;">
<node CREATED="1471590742518" ID="ID_1820597553" MODIFIED="1471590997946" TEXT="root dentry&#x7684;d_op&#x88ab;&#x521d;&#x59cb;&#x5316;&#x4e3a;&#x8d85;&#x7ea7;&#x5757;&#x7684;s_d_op&#xff0c;&#x8fd9;&#x91cc;&#x4e3a;&#x7a7a;"/>
<node CREATED="1471590570980" ID="ID_1850714114" MODIFIED="1471717983585">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27599;&#27425;&#26377;&#26032;&#30340;dentry&#20851;&#32852;&#21040;Inode&#26102;&#65292;inode&#30340;&#24341;&#29992;&#35745;&#25968;&#23558;&#21152;1.
    </p>
    <p>
      &#27880;&#24847;d_instantiate()&#26412;&#36523;&#24182;&#19981;&#25805;&#20316;inode&#30340;&#35745;&#25968;&#22120;&#65292;&#19968;&#33324;&#30001;d_instantiate()&#30340;&#35843;&#29992;&#32773;&#22312;&#35843;&#29992;d_instantiate()&#20043;&#21069;&#20351;&#29992;__iget()&#25110;ihold()&#26469;&#36882;&#22686;inode&#30340;&#35745;&#25968;&#22120;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471591594729" ID="ID_1692489580" MODIFIED="1471591771754" TEXT="&#x5728;/proc&#x76ee;&#x5f55;&#x4e0b;&#x521b;&#x5efa;&#x4e00;&#x4e2a; self &#x7b26;&#x53f7;&#x94fe;&#x63a5;&#xff0c;&#x5b83;&#x6307;&#x5411;&#x5f53;&#x524d;&#x6b63;&#x5728;&#x8bfb;&#x8fd9;&#x4e2a;&#x7b26;&#x53f7;&#x7684;&#x8fdb;&#x7a0b;&#x7684;&#x8fdb;&#x7a0b;&#x53f7;"/>
</node>
</node>
</node>
<node CREATED="1471724420223" FOLDED="true" ID="ID_1381623859" MODIFIED="1471735218244">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21368;&#36733;&#25991;&#20214;&#31995;&#32479;
    </p>
    <p>
      unmount /proc
    </p>
  </body>
</html></richcontent>
<node CREATED="1471729125467" ID="ID_1733874053" MODIFIED="1471729158466" TEXT="&#x5378;&#x8f7d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x65f6;&#x53ef;&#x4ee5;&#x6307;&#x5b9a;&#x51e0;&#x4e2a;flag&#x4ee5;&#x6307;&#x5b9a;&#x5378;&#x8f7d;&#x7684;&#x65b9;&#x5f0f;">
<node CREATED="1471729180009" ID="ID_1195841028" MODIFIED="1471729180840" TEXT="MNT_FORCE">
<node CREATED="1471729181974" ID="ID_1253706070" MODIFIED="1471729193691" TEXT="&#x5f3a;&#x5236;&#x7acb;&#x5373;&#x5378;&#x8f7d;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;"/>
</node>
<node CREATED="1471729205167" ID="ID_1184322033" MODIFIED="1471729205919" TEXT="MNT_DETACH"/>
<node CREATED="1471729214855" FOLDED="true" ID="ID_1758935512" MODIFIED="1471731137664" TEXT="MNT_EXPIRE">
<node CREATED="1471729216848" ID="ID_1785470922" MODIFIED="1471731133317">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20351;&#29992;&#33258;&#21160;&#36807;&#26399;&#26426;&#21046;&#21368;&#36733;&#25991;&#20214;&#31995;&#32479;
    </p>
    <p>
      
    </p>
    <p>
      &#22312;&#20219;&#20309;&#36827;&#31243;&#25110;&#20869;&#26680;&#26412;&#36523;&#37117;&#26410;&#20351;&#29992;&#26576;&#20010;&#35013;&#36733;&#26102;&#65292;&#22914;&#26524;&#20351;&#29992;&#20102;&#33258;&#21160;&#36807;&#26399;&#26426;&#21046;&#65292;&#37027;&#20040;&#35813;&#35013;&#36733;&#23558;&#33258;&#21160;
    </p>
    <p>
      &#20174;vfsmount&#26641;&#20013;&#31227;&#38500;&#12290;&#24403;&#21069;NFS&#21644;AFS&#32593;&#32476;&#25991;&#20214;&#31995;&#32479;&#20351;&#29992;&#20102;&#35813;&#26426;&#21046;&#12290;&#25152;&#26377;&#23376;&#35013;&#36733;&#30340;vfsmount&#23454;&#20363;&#65292;
    </p>
    <p>
      &#22914;&#26524;&#34987;&#35748;&#20026;&#23558;&#33258;&#21160;&#21040;&#26399;&#65292;&#37117;&#38656;&#35201;&#20351;&#29992;vfsmount-&gt;mnt_expire&#38142;&#34920;&#20803;&#32032;&#65292;&#23558;&#20854;&#28155;&#21152;&#21040;&#29305;&#23450;&#25991;&#20214;&#31995;&#32479;&#30340;
    </p>
    <p>
      &#33258;&#21160;&#36229;&#26102;&#38142;&#34920;&#20013;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#31995;&#32479;&#20250;&#23450;&#26102;&#25195;&#25551;&#19978;&#36848;&#38142;&#34920;&#65292;&#23558;&#24341;&#29992;&#35745;&#25968;&#20026;1&#19988;&#34987;&#26631;&#35760;&#20026;&#36229;&#26102;&#30340;mount&#21368;&#36733;&#25481;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471724757152" ID="ID_1962634611" MODIFIED="1471724766053" TEXT="unmount&#x7cfb;&#x7edf;&#x8c03;&#x7528;">
<node CREATED="1471724938682" ID="ID_1625400767" MODIFIED="1471724979938" TEXT="&#x9996;&#x5148;&#x6839;&#x636e;&#x8def;&#x5f84;&#x53c2;&#x6570;&#x627e;&#x5230;&#x5bf9;&#x5e94;&#x7684;dentry&#x548c;&#x88c5;&#x8f7d;&#x70b9;mount"/>
<node CREATED="1471724774298" ID="ID_1066939048" MODIFIED="1471724775291" TEXT="int do_umount(struct mount *mnt, int flags)">
<node CREATED="1471731899769" ID="ID_1038563450" MODIFIED="1471732112331">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#25351;&#23450;&#20197;&#33258;&#21160;&#36229;&#26102;&#30340;&#26041;&#24335;&#21368;&#36733;&#25991;&#20214;&#31995;&#32479;&#65292;&#37027;&#20040;&#20165;&#24403;
    </p>
    <p>
      1&#65292;mount&#30340;&#24341;&#29992;&#35745;&#25968;&#20026;2 (&#22240;&#20026;&#26681;&#25454;path&#26597;&#25214;mount&#26102;&#24050;&#32463;&#21152;&#36807;1&#65292;&#25152;&#20197;2&#34920;&#31034;&#21482;&#34987;parent mount&#24341;&#29992;)
    </p>
    <p>
      2&#65292;mount-&gt;mnt_expiry_mark&#20026;1 (&#34920;&#31034;&#24050;&#36807;&#26399;)
    </p>
    <p>
      &#26102;&#25165;&#20801;&#35768;&#21368;&#36733;&#25991;&#20214;&#31995;&#32479;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471732146263" ID="ID_321434825" MODIFIED="1471732189375" TEXT="&#x8c03;&#x7528;&#x8d85;&#x7ea7;&#x5757;&#x7684;sb-&gt;s_op-&gt;umount_begin(sb)&#xff0c;&#x4ee5;&#x5141;&#x8bb8;&#x5728;&#x5378;&#x8f7d;&#x524d;&#x505a;&#x4e00;&#x4e9b;&#x51c6;&#x5907;&#x5de5;&#x4f5c;"/>
<node CREATED="1471732441745" ID="ID_1232356514" MODIFIED="1471732444758" TEXT="umount_tree()"/>
</node>
</node>
</node>
<node CREATED="1471735081550" FOLDED="true" ID="ID_856021053" MODIFIED="1472172356648" TEXT="&#x6253;&#x5f00;&#x6587;&#x4ef6;">
<node CREATED="1471735103244" ID="ID_1230212010" MODIFIED="1471735128273">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      open&#31995;&#32479;&#35843;&#29992;
    </p>
    <p>
      &#160;&#160;&#160;&#160;fs/open.c
    </p>
  </body>
</html></richcontent>
<node CREATED="1471735214856" ID="ID_425498148" MODIFIED="1471735215685" TEXT="long do_sys_open(int dfd, const char __user *filename, int flags, umode_t mode)">
<node CREATED="1471763762536" ID="ID_1590146485" MODIFIED="1471763802466">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int get_unused_fd_flags(unsigned flags)
    </p>
    <p>
      &#22312;&#24403;&#21069;&#36827;&#31243;&#20013;&#25214;&#21040;&#19968;&#20010;&#23578;&#26410;&#20351;&#29992;&#30340;&#25991;&#20214;&#25551;&#36848;&#31526;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471764031195" ID="ID_1691063315" MODIFIED="1471766675209">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct file *do_filp_open ( int dfd,&#160;&#160;struct filename *pathname,&#160;&#160;const struct open_flags *op)
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#37324;op-&gt;lookup_flags &#20026;LOOKUP_DIRECTORY &#25110; LOOKUP_FOLLOW&#65292;&#21462;&#20915;&#20110;open &#30340;flags&#21442;&#25968;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471764192993" ID="ID_433490011" MODIFIED="1471764544628">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct file *path_openat ( int dfd,&#160;&#160;struct filename *pathname,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct nameidata *nd,&#160;&#160;const struct open_flags *op,&#160;&#160;int flags)
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#37324;&#20250;3&#27492;&#35843;&#29992;path_openat()&#20989;&#25968;&#30452;&#21040;&#25104;&#21151;&#20026;&#27490;&#12290;3&#27425;&#30340;&#21306;&#21035;&#22312;&#20110;&#20256;&#20837;&#30340;flags&#21442;&#25968;&#19981;&#19968;&#26679;&#12290;
    </p>
    <p>
      &#31532;&#19968;&#27425;&#26159;op-&gt;lookup_flags | LOOKUP_RCU
    </p>
    <p>
      &#31532;&#20108;&#27425;&#26159;op-&gt;lookup_flags
    </p>
    <p>
      &#31532;&#19977;&#27425;&#26159;op-&gt;lookup_flags | LOOKUP_REVAL
    </p>
  </body>
</html></richcontent>
<node CREATED="1471766984952" ID="ID_1533040776" MODIFIED="1471768960550">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct nameidata
    </p>
    <p>
      &#26412;&#20989;&#25968;&#29992;&#20110;&#21521;&#26597;&#25214;&#20989;&#25968;&#20256;&#36882;&#21442;&#25968;&#65292;&#24182;&#20445;&#23384;&#26597;&#25214;&#32467;&#26524;
    </p>
    <p>
      
    </p>
    <p>
      &#26597;&#25214;&#26159;&#23558;&#25991;&#20214;&#36335;&#24452;&#29992;&#26012;&#32447;/&#20998;&#21106;&#25104;&#19968;&#27573;&#19968;&#27573;&#65292;&#27599;&#27573;&#36827;&#34892;&#26597;&#25214;&#65292;
    </p>
    <p>
      &#27599;&#27425;&#26597;&#25214;&#30340;&#32467;&#26524;&#37117;&#23384;&#20648;&#21040;struct nameidata&#20013;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471767002781" ID="ID_1012337170" MODIFIED="1471767019858">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct path&#160;&#160;path
    </p>
  </body>
</html></richcontent>
<node CREATED="1471767417636" ID="ID_1690255873" MODIFIED="1471767420243" TEXT="struct vfsmount *mnt">
<node CREATED="1471767500547" ID="ID_986369388" MODIFIED="1471768983762">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26368;&#36817;&#26597;&#25214;&#30340;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;&#21152;&#36733;&#28857;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471767430967" ID="ID_1022398273" MODIFIED="1471767432988" TEXT="struct dentry *dentry">
<node CREATED="1471767500547" ID="ID_710550032" MODIFIED="1471768940218">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26368;&#36817;&#26597;&#25214;&#30340;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;dentry
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471767030348" ID="ID_1997290483" MODIFIED="1471767042963">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct qstr last
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471767062740" ID="ID_1135920542" MODIFIED="1471767072090">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct path&#160;&#160;root
    </p>
  </body>
</html></richcontent>
<node CREATED="1471767417636" ID="ID_1627059606" MODIFIED="1471767420243" TEXT="struct vfsmount *mnt">
<node CREATED="1471767500547" ID="ID_437916260" MODIFIED="1471808367036">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26597;&#25214;&#30340;&#36215;&#22987;&#30446;&#24405;&#23545;&#24212;&#30340;&#21152;&#36733;&#28857;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471767430967" ID="ID_1948705546" MODIFIED="1471767432988" TEXT="struct dentry *dentry">
<node CREATED="1471767500547" ID="ID_1893446714" MODIFIED="1471769023437">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26597;&#25214;&#30340;&#36215;&#22987;&#30446;&#24405;&#23545;&#24212;&#30340;dentry
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471767089935" ID="ID_187832619" MODIFIED="1471767098309">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct inode&#160;&#160;*inode
    </p>
  </body>
</html></richcontent>
<node CREATED="1471767500547" ID="ID_168522388" MODIFIED="1471769063369">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26368;&#36817;&#26597;&#25214;&#30340;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;inode
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471767109468" ID="ID_736571977" MODIFIED="1471767119416">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unsigned int&#160;&#160;flags
    </p>
  </body>
</html></richcontent>
<node CREATED="1471768041300" ID="ID_162118497" MODIFIED="1471768054483" TEXT="LOOKUP_DIRECTORY"/>
<node CREATED="1471768055560" ID="ID_490639890" MODIFIED="1471768060886" TEXT="LOOKUP_FOLLOW"/>
<node CREATED="1471768076584" ID="ID_1087534038" MODIFIED="1471768077442" TEXT="LOOKUP_RCU"/>
<node CREATED="1471768088560" ID="ID_1991363608" MODIFIED="1471768089263" TEXT="LOOKUP_REVAL"/>
<node CREATED="1471768102234" ID="ID_339674880" MODIFIED="1471768102854" TEXT="LOOKUP_PARENT"/>
<node CREATED="1471768116999" ID="ID_1257803785" MODIFIED="1471768117533" TEXT="LOOKUP_JUMPED"/>
</node>
<node CREATED="1471767129397" ID="ID_718331531" MODIFIED="1471767138324">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unsigned&#160;&#160;seq, m_seq
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471767147581" ID="ID_1424008984" MODIFIED="1471808510469">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int&#160;&#160;last_type
    </p>
    <p>
      &#19968;&#20010;&#25991;&#20214;&#36335;&#24452;&#21487;&#33021;&#26159;/proc/sys/net/ .. /kernel/ . /debug/sfe
    </p>
    <p>
      last_type&#34920;&#31034;&#26368;&#21518;&#19968;&#27425;&#26597;&#25214;&#30340;&#20004;&#20010;&#26012;&#32447;&#20043;&#38388;&#30340;&#21517;&#23383;&#27573;&#30340;&#31867;&#22411;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471767596194" ID="ID_1130570296" MODIFIED="1471767605009" TEXT="LAST_NORM">
<node CREATED="1471767848024" ID="ID_340917103" MODIFIED="1471767854125" TEXT="&#x666e;&#x901a;&#x7684;&#x540d;&#x5b57;"/>
</node>
<node CREATED="1471767606621" ID="ID_1674363063" MODIFIED="1471767621126" TEXT="LAST_ROOT">
<node CREATED="1471767857738" ID="ID_1240132926" MODIFIED="1471767897752" TEXT="&#x6839;&#x76ee;&#x5f55;&#xff0c;&#x5b83;&#x662f;last_type&#x7684;&#x521d;&#x59cb;&#x503c;&#xff0c;&#x56e0;&#x4e3a;&#x67e5;&#x627e;&#x9ed8;&#x8ba4;&#x603b;&#x662f;&#x4ece;&#x6839;&#x76ee;&#x5f55;&#x5f00;&#x59cb;"/>
</node>
<node CREATED="1471767622735" ID="ID_1061214836" MODIFIED="1471767634125" TEXT="LAST_DOT">
<node CREATED="1471767902277" ID="ID_246065332" MODIFIED="1471767930882" TEXT="&#x540d;&#x5b57;&#x4e3a; &#x4e00;&#x70b9;&#xff0c;&#x8868;&#x5f53;&#x524d;&#x76ee;&#x5f55;"/>
</node>
<node CREATED="1471767635376" ID="ID_1742040368" MODIFIED="1471767648711" TEXT="LAST_DOTDOT">
<node CREATED="1471767902277" ID="ID_984538903" MODIFIED="1471767943105" TEXT="&#x540d;&#x5b57;&#x4e3a; &#x4e24;&#x70b9;&#xff0c;&#x8868;&#x7236;&#x76ee;&#x5f55;"/>
</node>
<node CREATED="1471767649764" ID="ID_543212757" MODIFIED="1471767655304" TEXT="LAST_BIND"/>
</node>
<node CREATED="1471767165454" ID="ID_518389608" MODIFIED="1471767174213">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unsigned&#160;&#160;depth
    </p>
  </body>
</html></richcontent>
<node CREATED="1471769083897" ID="ID_1803886316" MODIFIED="1471998913990" TEXT="&#x5728;follow&#x7b26;&#x53f7;&#x94fe;&#x63a5;&#x65f6;&#x8bb0;&#x5f55;&#x8ddf;&#x8e2a;&#x6b21;&#x6570;&#xff0c;&#x4ee5;&#x907f;&#x514d;&#x65e0;&#x9650;&#x5faa;&#x73af;"/>
</node>
<node CREATED="1471767184096" ID="ID_949671777" MODIFIED="1471767185962" TEXT="char *saved_names[MAX_NESTED_LINKS + 1]"/>
</node>
<node CREATED="1471766736073" ID="ID_289735719" MODIFIED="1471769145403">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int path_init ( int dfd,&#160;&#160;const char *name,&#160;&#160;unsigned int flags,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct nameidata *nd,&#160;&#160;struct file **fp)
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#19968;&#27493;&#20027;&#35201;&#26159;&#21021;&#22987;&#21270; struct nameidata *nd &#32467;&#26500;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471769131122" ID="ID_286793294" MODIFIED="1471769133073" TEXT="nd-&gt;last_type = LAST_ROOT"/>
<node CREATED="1471769190349" ID="ID_1039466488" MODIFIED="1471769192210" TEXT="nd-&gt;flags = flags | LOOKUP_JUMPED"/>
<node CREATED="1471769199486" ID="ID_1852744423" MODIFIED="1471769201165" TEXT="nd-&gt;depth = 0"/>
<node CREATED="1471769231761" ID="ID_519713203" MODIFIED="1471769238557" TEXT="&#x521d;&#x59cb;&#x5316;nd-&gt;root">
<node CREATED="1471769309616" ID="ID_859423506" MODIFIED="1471769430897" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x4ee5; / &#x5f00;&#x5934;&#xff0c;&#x5219;&#x8def;&#x5f84;&#x4e3a;&#x7edd;&#x5bf9;&#x8def;&#x5f84;&#xff0c;&#x6b64;&#x65f6;nd-&gt;root&#x5373;&#x67e5;&#x627e;&#x8d77;&#x59cb;&#x70b9;&#x88ab;&#x521d;&#x59cb;&#x5316;&#x4e3a;current -&gt; fs -&gt; root &#x5373;&#x5f53;&#x524d;&#x8fdb;&#x7a0b;&#x7684;&#x6839;&#x76ee;&#x5f55;"/>
<node CREATED="1471769309616" ID="ID_494342834" MODIFIED="1471769777087" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x4e0d;&#x4ee5; / &#x5f00;&#x5934;&#xff0c;&#x5219;&#x8def;&#x5f84;&#x4e3a;&#x76f8;&#x5bf9;&#x8def;&#x5f84;&#xff0c;&#x6b64;&#x65f6;nd-&gt;root&#x5373;&#x67e5;&#x627e;&#x8d77;&#x59cb;&#x70b9;&#x88ab;&#x521d;&#x59cb;&#x5316;&#x4e3a;&#x7a7a;"/>
</node>
<node CREATED="1471769239314" ID="ID_240968522" MODIFIED="1471769246525" TEXT="&#x521d;&#x59cb;&#x5316;nd-&gt;path">
<node CREATED="1471769309616" ID="ID_407337437" MODIFIED="1471769832782" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x4ee5; / &#x5f00;&#x5934;&#xff0c;&#x5219;&#x8def;&#x5f84;&#x4e3a;&#x7edd;&#x5bf9;&#x8def;&#x5f84;&#xff0c;&#x6b64;&#x65f6;nd-&gt;path&#x88ab;&#x521d;&#x59cb;&#x5316;&#x4e3a;nd-&gt;root"/>
<node CREATED="1471769309616" ID="ID_263554437" MODIFIED="1471769855260" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x4e0d;&#x4ee5; / &#x5f00;&#x5934;&#xff0c;&#x5219;&#x8def;&#x5f84;&#x4e3a;&#x76f8;&#x5bf9;&#x8def;&#x5f84;&#xff0c;&#x6b64;&#x65f6;nd-&gt;path&#x88ab;&#x521d;&#x59cb;&#x5316;&#x4e3a;current -&gt; fs -&gt; pwd &#x5373;&#x5f53;&#x524d;&#x8fdb;&#x7a0b;&#x7684;&#x5de5;&#x4f5c;&#x76ee;&#x5f55;"/>
</node>
<node CREATED="1471769909895" ID="ID_1252174253" MODIFIED="1471808719392">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      nd-&gt;inode = nd-&gt;path.dentry-&gt;d_inode
    </p>
    <p>
      &#26368;&#36817;&#26597;&#25214;&#30340;inode&#21363;&#26368;&#36817;&#26597;&#25214;&#30340;dentry&#25152;&#20851;&#32852;&#30340;inode&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471766804883" ID="ID_789368841" MODIFIED="1471810648520">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int link_path_walk(const char *name, struct nameidata *nd)
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#19968;&#27493;&#20174;&#26681;&#30446;&#24405;&#24320;&#22987;&#26597;&#25214;&#21040;&#26368;&#21518;&#19968;&#20010;&#30446;&#24405;&#65292;&#27880;&#24847;&#36825;&#19968;&#27493;&#24182;&#19981;&#26597;&#25214;&#26368;&#21518;&#30340;&#25991;&#20214;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471810843767" FOLDED="true" ID="ID_433850408" MODIFIED="1471811610973">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22312;&#36827;&#34892;&#19979;&#19968;&#27493;&#26597;&#25214;&#20043;&#21069;&#65292;&#20808;&#26816;&#26597;&#24403;&#21069;&#36827;&#31243;&#26159;&#21542;&#26377;&#26435;&#38480;&#36827;&#20837;&#24403;&#21069;&#30446;&#24405;&#21363;nd-&gt;inode&#12290;
    </p>
    <p>
      &#26435;&#38480;&#26816;&#26597;&#20998;&#22810;&#20010;&#32423;&#21035;&#36827;&#34892;&#65292;&#20219;&#20309;&#19968;&#20010;&#32423;&#21035;&#25298;&#32477;&#35775;&#38382;&#21017;&#19981;&#20877;&#36827;&#34892;&#19979;&#19968;&#20010;&#32423;&#21035;&#30340;&#26435;&#38480;&#26816;&#26597;
    </p>
    <p>
      &#32780;&#26159;&#36820;&#22238;&#26435;&#38480;&#26816;&#26597;&#22833;&#36133;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471811015247" ID="ID_1558406085" MODIFIED="1471811016413" TEXT="int may_lookup(struct nameidata *nd)">
<node CREATED="1471811031172" ID="ID_1604584134" MODIFIED="1471811032178" TEXT="int inode_permission(struct inode *inode, int mask)">
<node CREATED="1471811135263" ID="ID_434863855" MODIFIED="1471811194963">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      sb_permission()
    </p>
    <p>
      &#20808;&#36827;&#34892;&#36229;&#32423;&#22359;&#32423;&#21035;&#30340;&#26435;&#38480;&#26816;&#26597;&#65292;&#27604;&#22914;&#19981;&#20801;&#35768;&#20889;&#19968;&#20010;&#21482;&#35835;&#30340;&#25991;&#20214;&#31995;&#32479;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471811298512" ID="ID_1299779256" MODIFIED="1471811331044">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      __inode_permission()
    </p>
    <p>
      &#20877;&#36827;&#34892;inode&#32423;&#21035;&#30340;&#26435;&#38480;&#26816;&#26597;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471811345640" ID="ID_1548245857" MODIFIED="1471811348150" TEXT="do_inode_permission()">
<node CREATED="1471811507555" ID="ID_1453947549" MODIFIED="1471811555194">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#23450;&#20041;&#20102;inode-&gt;i_op-&gt;permission()&#21017;&#35843;&#29992;&#23427;&#65292;
    </p>
    <p>
      &#21542;&#21017;&#35843;&#29992;&#36890;&#29992;&#20989;&#25968;generic_permission()&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471811356498" ID="ID_1399517522" MODIFIED="1471811358670" TEXT="devcgroup_inode_permission()"/>
<node CREATED="1471811370276" ID="ID_1399947173" MODIFIED="1471811372559" TEXT="security_inode_permission()"/>
</node>
</node>
</node>
</node>
<node CREATED="1471811733496" ID="ID_765946561" MODIFIED="1471811847207">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20174;&#36335;&#24452;&#20013;&#35835;&#21462;&#19979;&#19968;&#20010;&#21517;&#23383;&#27573;&#65292;&#23558;&#20854;&#20445;&#23384;&#22312;nd-&gt;last&#20013;
    </p>
    <p>
      &#21516;&#26102;&#23558;&#21517;&#23383;&#27573;&#30340;&#31867;&#22411;&#20445;&#23384;&#22312;nd-&gt;last_type&#20013;&#65292;&#31867;&#22411;&#21487;&#33021;&#20026; LAST_NORM / LAST_DOT / LAST_DOTDOT
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471903903103" ID="ID_377688102" MODIFIED="1471904139110">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24403;&#21069;&#30446;&#24405;&#25110;&#32773;&#35828;&#24403;&#21069;&#27491;&#22312;&#26597;&#25214;&#30340;&#21517;&#23383;&#27573;&#30340;&#29238;&#30446;&#24405;&#39033;&#20026; struct dentry *parent = nd-&gt;path.dentry&#65292;
    </p>
    <p>
      &#22240;&#20026;&#23427;&#22312;&#36335;&#24452;&#19978;&#34987;&#24341;&#29992;&#20102;&#65292;&#25152;&#20197;&#38656;&#35201;&#23558;&#20854;&#21152;&#20837;dcache&#20197;&#21152;&#36895;&#19979;&#27425;&#26597;&#25214;&#65292;&#36825;&#26159;&#36890;&#36807;&#35843;&#29992;
    </p>
    <p>
      parent-&gt;d_op-&gt;d_hash() &#26469;&#23454;&#29616;&#30340;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471904232558" ID="ID_1591000436" MODIFIED="1471904373835" TEXT="&#x5982;&#x679c;&#x8fd9;&#x662f;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x540d;&#x5b57;&#x6bb5;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#x8fd9;&#x4e2a;&#x540d;&#x5b57;&#x6bb5;&#x4e4b;&#x540e;&#x6ca1;&#x6709;&#x659c;&#x7ebf; / &#x4e86;&#xff0c;&#x5b83;&#x4ee3;&#x8868;&#x6700;&#x540e;&#x7684;&#x6587;&#x4ef6;&#xff0c;&#x90a3;&#x4e48;&#x4ece;link_path_walk()&#x51fd;&#x6570;&#x8fd4;&#x56de;&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x4e0d;&#x8d1f;&#x8d23;&#x67e5;&#x627e;&#x6700;&#x540e;&#x7684;&#x6587;&#x4ef6;"/>
<node CREATED="1471904460451" ID="ID_614897424" MODIFIED="1471904859834">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int walk_component ( struct nameidata *nd,&#160;&#160;struct path *path,&#160;&#160;int follow)
    </p>
    <p>
      &#26597;&#25214;&#21517;&#23383;&#27573;nd-&gt;last&#23545;&#24212;&#30340;dentry&#21644;inode&#65292;&#24182;&#23558;&#20854;&#20445;&#23384;&#22312;nd-&gt;path&#20013;&#65292;&#32780;&#21442;&#25968;path&#29992;&#20316;&#20020;&#26102;&#21464;&#37327;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471904984419" ID="ID_1473758954" MODIFIED="1471905033526" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x6bb5;&#x662f; &quot;..&quot;&#xff0c;&#x5219;&#x8c03;&#x7528;follow_dotdot_rcu() / follow_dotdot()&#xff0c;&#x4ee5;&#x627e;&#x5230;&#x7236;&#x76ee;&#x5f55;"/>
<node CREATED="1471904984419" ID="ID_686306844" MODIFIED="1471905083269" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x6bb5;&#x662f; &quot;.&quot;&#xff0c;&#x5219;&#x5b9e;&#x9645;&#x4e0a;&#x4e0d;&#x7528;&#x505a;&#x4efb;&#x4f55;&#x5904;&#x7406;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x8868;&#x793a;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x3002;"/>
<node CREATED="1471905796232" ID="ID_1266376890" MODIFIED="1472022200133">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int lookup_fast ( struct nameidata *nd,&#160; struct path *path,&#160;&#160;struct inode **inode)
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#19968;&#27493;&#22312;dcache&#20013;&#26597;&#25214;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;dentry&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471905946623" ID="ID_1357772847" MODIFIED="1471906021620">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      __d_lookup_rcu()
    </p>
    <p>
      &#22312;dcache&#21363;&#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#20013;&#26597;&#25214;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;dentry
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471906524015" ID="ID_1276493339" MODIFIED="1472023227063" TEXT="&#x5373;&#x4f7f;&#x4e0a;&#x9762;&#x7684;__d_lookup()&#x8fd4;&#x56de;&#x5339;&#x914d;&#x7684;dentry&#xff0c;&#x4f46;&#x5e76;&#x4e0d;&#x610f;&#x5473;&#x7740;&#x5b83;&#x662f;&#x6700;&#x65b0;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x5fc5;&#x987b;&#x4f7f;&#x7528;&#xa;dentry-&gt;d_op-&gt;d_revalidate()&#x6765;&#x68c0;&#x67e5;dentry&#x662f;&#x5426;&#x4ecd;&#x7136;&#x6709;&#x6548;&#x3002;&#x5982;&#x679c;&#x65e0;&#x6548;&#x5219;&#x8df3;&#x5230;&#x6700;&#x540e;&#x4e00;&#x6b65;d_invalidate()&#x3002;"/>
<node CREATED="1471906710096" ID="ID_291289946" MODIFIED="1471907642043">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35843;&#29992;__follow_mount_rcu()&#26816;&#27979;&#35013;&#36733;&#28857;&#65292;&#20026;&#20160;&#20040;&#35201;&#26816;&#27979;&#35013;&#36733;&#28857;&#65311;
    </p>
    <p>
      
    </p>
    <p>
      &#32771;&#34385;&#19968;&#20010;&#25991;&#20214;&#31995;&#32479;&#35013;&#36733;&#22312;&#30446;&#24405;/mnt/media/myfs&#19978;&#65292;&#37027;&#20040;&#36941;&#21382;&#36335;&#24452;/mnt / media / myfs / to_xxx / xxx.txt&#26102;&#23601;&#28041;&#21450;&#21040;&#19968;&#27425;&#36339;&#21464;&#65306;
    </p>
    <p>
      &#21517;&#23383;&#27573;myfs&#23454;&#38469;&#19978;&#23545;&#24212;&#20102;2&#20010;dentry&#65292;&#19968;&#20010;&#26159;&#22312;parent mount&#19978;&#30340;dentry&#65292;&#19968;&#20010;&#26159;&#22312;child mount&#19978;&#30340;root dentry&#12290;&#23427;&#20204;&#20998;&#21035;&#23545;&#24212;&#20102;mount-&gt;mnt_mountpoint, mount-&gt;mnt-&gt;mnt_root&#12290;&#25991;&#20214;&#31995;&#32479;&#35013;&#36733;&#21518;&#29238;&#35013;&#36733;&#28857;&#19979;&#30340;&#20869;&#23481;&#23454;&#38469;&#19978;&#34987;&#38544;&#34255;&#20102;&#65292;&#21462;&#32780;&#20195;&#20043;&#30340;&#26159;&#23376;&#25991;&#20214;&#31995;&#32479;&#30340;&#20869;&#23481;&#12290;&#24403;&#25105;&#20204;&#20174;&#26681;&#30446;&#24405;&#36941;&#21382;&#21040;/mnt/media/myfs&#26102;&#24471;&#21040;&#30340;&#26159;&#29238;&#25991;&#20214;&#31995;&#32479;&#37324;&#30340;dentry&#65292;&#22240;&#20026;&#23427;&#30340;&#20869;&#23481;&#34987;&#38544;&#34255;&#20102;&#65292;&#34987;&#21152;&#36733;&#30340;&#23376;&#25991;&#20214;&#31995;&#32479;&#21462;&#20195;&#20102;&#12290;&#25152;&#20197;&#25105;&#20204;&#19981;&#33021;&#27839;&#30528;&#29238;&#25991;&#20214;&#31995;&#32479;&#37324;&#30340;dentry&#32487;&#32493;&#36941;&#21382;&#19979;&#21435;&#65292;&#32780;&#26159;&#35201;&#36339;&#21040;&#23376;&#25991;&#20214;&#31995;&#32479;&#30340;root dentry&#21363;mount-&gt;mnt-&gt;mnt_root&#32487;&#32493;&#36941;&#21382;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#19968;&#36807;&#31243;&#28041;&#21450;&#21040;&#19968;&#27425;dentry&#30340;&#36339;&#21464;&#65292;&#21644;&#19968;&#27425;&#35013;&#36733;&#28857;mount&#30340;&#36339;&#21464;&#12290;&#25152;&#20197;nd-&gt;flags &#34987;&#32622;&#19978;&#160; LOOKUP_JUMPED&#26631;&#35782;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471907949901" ID="ID_912140970" MODIFIED="1471907995785" TEXT="&#x5f53;dentry-&gt;d_flags &#x4e0a;&#x6709; DCACHE_MOUNTED&#x6807;&#x8bc6;&#x65f6;&#x8868;&#x793a;dentry&#x662f;&#x4e00;&#x4e2a;&#x88c5;&#x8f7d;&#x70b9;"/>
</node>
<node CREATED="1471913391106" ID="ID_1011255204" MODIFIED="1471914640785">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unlazy_walk()
    </p>
    <p>
      &#36335;&#24452;&#26597;&#25214;&#26377;2&#31181;&#27169;&#24335;&#65306;rcu-walk &#21644; ref-walk&#65292;&#21069;&#32773;&#21482;&#38656;&#35201;&#25343;RCU&#38145;&#65292;&#32780;&#21518;&#32773;&#38656;&#35201;&#25343;spinlock&#38145;&#65292;&#25152;&#20197;&#30456;&#23545;&#32780;&#35328;&#21518;&#32773;&#35201;&#24930;&#12290;
    </p>
    <p>
      &#36825;2&#31181;&#27169;&#24335;&#23545;&#24212;&#20102;path_openat()&#30340;2&#27425;&#19981;&#21516;&#35843;&#29992;&#65306;&#19968;&#27425;&#26159;op-&gt;lookup_flags &#24102;&#26631;&#35782;&#160;LOOKUP_RCU&#65292;&#19968;&#27425;&#26159;&#19981;&#24102;&#12290;
    </p>
    <p>
      
    </p>
    <p>
      &#24403;&#21069;&#38754;&#30340;&#19977;&#27493;__d_lookup_rcu () / dentry-&gt;d_op-&gt;d_revalidate() / __follow_mount_rcu() &#20219;&#24847;&#19968;&#27493;&#22833;&#36133;&#21518;&#23601;&#38656;&#35201;&#20999;&#25442;&#21040;ref-walk&#27169;&#24335;&#65292;&#32780;&#36825;&#37324;&#30340;&#20989;&#25968;unlazy_walk()&#20027;&#35201;&#26159;&#20026;&#20174;rcu-walk &#27169;&#24335;&#20999;&#25442;&#21040;&#160;ref-walk &#27169;&#24335;&#20570;&#19968;&#20123;&#20934;&#22791;&#24037;&#20316;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1472023190620" ID="ID_646691126" MODIFIED="1472024345372">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int d_invalidate(struct dentry * dentry)
    </p>
    <p>
      &#36825;&#19968;&#27493;&#23581;&#35797;&#28165;&#38500;dentry&#19982;&#21407;&#26469;Inode&#30340;&#20851;&#31995;&#65292;&#28982;&#21518;&#37322;&#25918;&#36825;&#20010;dentry
    </p>
    <p>
      
    </p>
    <p>
      d_invalidate()&#25104;&#21151;&#20043;&#21518;&#20250;dput(dentry)&#65292;&#36825;&#20250;&#23558;dentry&#31227;&#33267;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#19978;&#65292;&#20174;&#32780;&#31561;&#24453;&#37322;&#25918;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1472023298504" ID="ID_136008367" MODIFIED="1472024122384">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#36825;&#20010;dentry&#19981;&#22312;dcache&#20013;&#65292;&#21017;&#35828;&#26126;&#23427;&#24050;&#32463;&#34987;&#31227;&#21040;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#19978;&#65292;&#22240;&#32780;&#26080;&#38656;&#36827;&#19968;&#27493;&#22788;&#29702;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1472023343636" ID="ID_873840479" MODIFIED="1472024171775">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;dentry&#20851;&#32852;&#21040;&#19968;&#20010;inode&#19988;&#24341;&#29992;&#35745;&#25968;&#22823;&#20110;1&#65292;&#37027;&#20040;&#26242;&#26102;&#36824;&#19981;&#33021;&#37322;&#25918;&#23427;&#12290;&#21482;&#33021;&#32487;&#32493;&#29992;&#23427;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1472023554268" ID="ID_1015352702" MODIFIED="1472024200385" TEXT="&#x5c06;dentry&#x4ece;&#x5168;&#x5c40;&#x54c8;&#x5e0c;&#x8868;dentry_hashtable&#x4e2d;&#x79fb;&#x9664;&#x3002;"/>
</node>
</node>
<node CREATED="1471915491301" ID="ID_439127823" MODIFIED="1471915492236" TEXT="int lookup_slow(struct nameidata *nd, struct path *path)">
<node CREATED="1471915521597" ID="ID_1876809182" MODIFIED="1471915567059">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *__lookup_hash ( struct qstr *name,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct dentry *base,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned int flags)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471915648937" ID="ID_1110153581" MODIFIED="1471915684123">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *lookup_dcache(struct qstr *name,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct dentry *dir,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned int flags,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bool *need_lookup)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471916053898" ID="ID_1198646734" MODIFIED="1471916162584">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      d_lookup()
    </p>
    <p>
      &#22312;&#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#20013;&#26597;&#25214;dentry
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471916183473" ID="ID_54320680" MODIFIED="1471916694909">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35843;&#29992;&#24213;&#23618;&#20989;&#25968;dentry-&gt;d_op-&gt;d_revalidate()&#37325;&#26032;&#39564;&#35777;dentry&#26159;&#21542;&#36824;&#26377;&#25928;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471916738754" ID="ID_1050563157" MODIFIED="1471916813489" TEXT="&#x5982;&#x679c;&#x5728;dcache&#x4e2d;&#x627e;&#x4e0d;&#x5230;dentry&#x5219;&#x8c03;&#x7528;d_alloc()&#x91cd;&#x65b0;&#x5206;&#x914d;&#x4e00;&#x4e2a;dentry&#x5e76;&#x628a;need_lookup&#x7f6e;&#x4e3a;true&#xff0c;&#xa;&#x8868;&#x793a;&#x9700;&#x8981;&#x4ece;&#x5e95;&#x5c42;&#x91cd;&#x65b0;&#x67e5;&#x627e;dentry&#x3002;"/>
</node>
<node CREATED="1471917129803" ID="ID_1306946971" MODIFIED="1471917157132">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *lookup_real(struct inode *dir,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct dentry *dentry,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned int flags)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471917293748" ID="ID_1825357237" MODIFIED="1471917513829">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      dir-&gt;i_op-&gt;lookup()
    </p>
    <p>
      &#35843;&#29992;&#29238;&#30446;&#24405;inode&#30340;dir-&gt;i_op-&gt;lookup()&#22312;&#29305;&#23450;&#23454;&#29616;&#30340;&#24213;&#23618;&#26597;&#25214;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;inode&#12290;
    </p>
    <p>
      &#36825;&#37324;&#23454;&#38469;&#19978;&#26159;&#22312;&#29238;inode&#19979;&#26597;&#25214;&#23376;inode&#65292;&#23376;inode&#23545;&#24212;&#30340;dentry&#24050;&#32463;&#20998;&#37197;&#22909;&#65292;&#21482;&#38656;&#35201;&#22312;
    </p>
    <p>
      &#25214;&#21040;&#23376;inode&#21518;&#20851;&#32852;&#21040;&#36825;&#20010;dentry&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1471999093084" ID="ID_1503970228" MODIFIED="1471999164660">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;&#26159;&#19968;&#20010;&#31526;&#21495;&#38142;&#25509;&#65292;&#21017;&#36339;&#21040;&#30495;&#27491;&#30340;&#30446;&#30340;&#22320;&#32487;&#32493;&#36941;&#21382;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nested_symlink()
    </p>
  </body>
</html></richcontent>
<node CREATED="1471999210120" ID="ID_1811555308" MODIFIED="1471999213375" TEXT="follow_link()"/>
<node CREATED="1471999221672" ID="ID_383866718" LINK="#ID_614897424" MODIFIED="1471999230333" TEXT="walk_component()"/>
</node>
</node>
<node CREATED="1471766832547" ID="ID_873001275" MODIFIED="1471766870005">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int do_last ( struct nameidata *nd,&#160;&#160;struct path *path,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct file *file,&#160;&#160;const struct open_flags *op,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int *opened,&#160;&#160;struct filename *name)
    </p>
  </body>
</html></richcontent>
<node CREATED="1472020728070" ID="ID_939412217" MODIFIED="1472020731161" TEXT="handle_dots()">
<node CREATED="1471904984419" ID="ID_1347498917" MODIFIED="1471905033526" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x6bb5;&#x662f; &quot;..&quot;&#xff0c;&#x5219;&#x8c03;&#x7528;follow_dotdot_rcu() / follow_dotdot()&#xff0c;&#x4ee5;&#x627e;&#x5230;&#x7236;&#x76ee;&#x5f55;"/>
<node CREATED="1471904984419" ID="ID_26662312" MODIFIED="1471905083269" TEXT="&#x5982;&#x679c;&#x540d;&#x5b57;&#x6bb5;&#x662f; &quot;.&quot;&#xff0c;&#x5219;&#x5b9e;&#x9645;&#x4e0a;&#x4e0d;&#x7528;&#x505a;&#x4efb;&#x4f55;&#x5904;&#x7406;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x8868;&#x793a;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x3002;"/>
</node>
<node CREATED="1472020863302" ID="ID_819384172" LINK="#ID_1266376890" MODIFIED="1472021067711">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      lookup_fast()
    </p>
    <p>
      
    </p>
    <p>
      &#36825;&#19968;&#27493;&#22312;dcache&#20013;&#26597;&#25214;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;dentry&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1472020986647" ID="ID_1732298160" MODIFIED="1472021687866">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int lookup_open ( struct nameidata *nd,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct path *path,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct file *file,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const struct open_flags *op,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bool got_write,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int *opened )
    </p>
    <p>
      
    </p>
    <p>
      &#27492;&#20989;&#25968;&#31867;&#20284;&#20110;lookup_slow()&#65292;&#36827;&#34892;&#24930;&#36895;&#30340;&#26597;&#25214;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471915648937" ID="ID_1811141888" MODIFIED="1471915684123">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *lookup_dcache(struct qstr *name,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct dentry *dir,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned int flags,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bool *need_lookup)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471916053898" ID="ID_201264560" MODIFIED="1471916162584">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      d_lookup()
    </p>
    <p>
      &#22312;&#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#20013;&#26597;&#25214;dentry
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471916183473" ID="ID_1407309366" MODIFIED="1471916694909">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35843;&#29992;&#24213;&#23618;&#20989;&#25968;dentry-&gt;d_op-&gt;d_revalidate()&#37325;&#26032;&#39564;&#35777;dentry&#26159;&#21542;&#36824;&#26377;&#25928;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471916738754" ID="ID_1266848144" MODIFIED="1471916813489" TEXT="&#x5982;&#x679c;&#x5728;dcache&#x4e2d;&#x627e;&#x4e0d;&#x5230;dentry&#x5219;&#x8c03;&#x7528;d_alloc()&#x91cd;&#x65b0;&#x5206;&#x914d;&#x4e00;&#x4e2a;dentry&#x5e76;&#x628a;need_lookup&#x7f6e;&#x4e3a;true&#xff0c;&#xa;&#x8868;&#x793a;&#x9700;&#x8981;&#x4ece;&#x5e95;&#x5c42;&#x91cd;&#x65b0;&#x67e5;&#x627e;dentry&#x3002;"/>
</node>
<node CREATED="1471917129803" ID="ID_367565572" MODIFIED="1471917157132">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *lookup_real(struct inode *dir,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct dentry *dentry,
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unsigned int flags)
    </p>
  </body>
</html></richcontent>
<node CREATED="1471917293748" ID="ID_955837831" MODIFIED="1471917513829">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      dir-&gt;i_op-&gt;lookup()
    </p>
    <p>
      &#35843;&#29992;&#29238;&#30446;&#24405;inode&#30340;dir-&gt;i_op-&gt;lookup()&#22312;&#29305;&#23450;&#23454;&#29616;&#30340;&#24213;&#23618;&#26597;&#25214;&#21517;&#23383;&#27573;&#23545;&#24212;&#30340;inode&#12290;
    </p>
    <p>
      &#36825;&#37324;&#23454;&#38469;&#19978;&#26159;&#22312;&#29238;inode&#19979;&#26597;&#25214;&#23376;inode&#65292;&#23376;inode&#23545;&#24212;&#30340;dentry&#24050;&#32463;&#20998;&#37197;&#22909;&#65292;&#21482;&#38656;&#35201;&#22312;
    </p>
    <p>
      &#25214;&#21040;&#23376;inode&#21518;&#20851;&#32852;&#21040;&#36825;&#20010;dentry&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1472021726157" ID="ID_316356024" MODIFIED="1472021947255">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#32463;&#36807;&#21069;&#38754;2&#27493;&#36824;&#25214;&#19981;&#21040;&#65292;&#24182;&#19988;flag&#24102;&#26377;O_CREAT&#26631;&#35782;&#65292;&#21017;&#21019;&#24314;&#36825;&#20010;&#25991;&#20214;
    </p>
    <p>
      &#36825;&#20027;&#35201;&#26159;&#35843;&#29992;&#29238;&#30446;&#24405;&#23545;&#24212;&#30340;inode&#30340;dir-&gt;i_op-&gt;create()&#20989;&#25968;&#12290;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;
    </p>
    <p>
      &#26032;&#25991;&#20214;&#23545;&#24212;&#30340;dentry&#22312;&#19978;&#38754;&#30340;&#26597;&#25214;&#36807;&#31243;&#20013;&#24050;&#32463;&#34987;&#21019;&#24314;&#22909;&#20102;&#65292;&#21482;&#26159;&#27809;&#26377;&#19982;inode&#30456;&#20851;&#32852;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1471763828242" ID="ID_271296264" MODIFIED="1471763976226">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void fd_install(unsigned int fd, struct file *file)
    </p>
    <p>
      &#23558;&#19978;&#38754;&#36820;&#22238;&#30340;file&#25991;&#20214;&#32467;&#26500;&#20889;&#20837;&#21040;task-&gt;files-&gt;fdt-&gt;fd [ fd ] &#25968;&#32452;&#20803;&#32032;&#19978;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471765253459" FOLDED="true" ID="ID_426716825" MODIFIED="1471765469315" TEXT="flags &#x53c2;&#x6570;&#x7684;&#x503c;">
<node CREATED="1471765329473" ID="ID_233090723" MODIFIED="1471765330675" TEXT="O_APPEND"/>
<node CREATED="1471765337446" ID="ID_144431826" MODIFIED="1471765338198" TEXT="O_BLKSEEK"/>
<node CREATED="1471765346627" ID="ID_143135951" MODIFIED="1471765347184" TEXT="O_CREAT"/>
<node CREATED="1471765358274" ID="ID_195398763" MODIFIED="1471765359038" TEXT="O_EXCL"/>
<node CREATED="1471765366956" ID="ID_1265808427" MODIFIED="1471765367809" TEXT="O_LARGEFILE"/>
<node CREATED="1471765378054" ID="ID_1640462824" MODIFIED="1471765378680" TEXT="O_SYNC"/>
<node CREATED="1471765385998" ID="ID_1178416135" MODIFIED="1471765386643" TEXT="O_NONBLOCK"/>
<node CREATED="1471765393811" ID="ID_1260214624" MODIFIED="1471765394405" TEXT="O_NOCTTY"/>
<node CREATED="1471765402422" ID="ID_1490169325" MODIFIED="1471765402977" TEXT="O_DSYNC"/>
<node CREATED="1471765411098" ID="ID_1560395098" MODIFIED="1471765411744" TEXT="O_RSYNC"/>
<node CREATED="1471765418739" ID="ID_1620476123" MODIFIED="1471765419252" TEXT="O_NOATIME"/>
<node CREATED="1471765427424" ID="ID_1390459873" MODIFIED="1471765428774" TEXT="O_CLOEXEC"/>
<node CREATED="1471765434954" ID="ID_685375899" MODIFIED="1471765435502" TEXT="O_DIRECTORY"/>
<node CREATED="1471765442344" ID="ID_80952257" MODIFIED="1471765442886" TEXT="O_NOFOLLOW"/>
<node CREATED="1471765450189" ID="ID_1320429325" MODIFIED="1471765450732" TEXT="O_INVISIBLE"/>
<node CREATED="1471765458329" ID="ID_1966196128" MODIFIED="1471765458856" TEXT="O_PATH"/>
<node CREATED="1471765466977" ID="ID_777595409" MODIFIED="1471765468326" TEXT="__O_TMPFILE"/>
</node>
</node>
</node>
<node CREATED="1471735089827" ID="ID_1803654264" MODIFIED="1471735093976" TEXT="&#x5173;&#x95ed;&#x6587;&#x4ef6;">
<node CREATED="1471735103244" ID="ID_1905192969" MODIFIED="1471735142466">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      close&#31995;&#32479;&#35843;&#29992;
    </p>
    <p>
      &#160;&#160;&#160;&#160;fs/open.c
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1471718468461" ID="ID_1674661961" MODIFIED="1472065995362" POSITION="left" TEXT="API">
<node CREATED="1471718274419" FOLDED="true" ID="ID_1041945698" MODIFIED="1472066870386" TEXT="&#x5f15;&#x7528;&#x8ba1;&#x6570;">
<node CREATED="1471718284974" ID="ID_513975294" MODIFIED="1471718292434" TEXT="dentry&#x5f15;&#x7528;&#x8ba1;&#x6570;">
<node CREATED="1471718299809" ID="ID_67372120" MODIFIED="1471718945907" TEXT="&#x8c03;&#x7528;d_alloc() / __d_alloc() &#x521d;&#x59cb;&#x5206;&#x914d;dentry&#x65f6;&#x5176;&#x5f15;&#x7528;&#x8ba1;&#x6570;&#x4e3a;1&#x3002;"/>
<node CREATED="1471719514102" ID="ID_199865622" MODIFIED="1471719538119">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *dget(struct dentry *dentry)
    </p>
    <p>
      
    </p>
    <p>
      &#36882;&#22686;dentry&#30340;&#24341;&#29992;&#35745;&#25968;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1472024393017" ID="ID_587358658" MODIFIED="1472024569535">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void dput(struct dentry *dentry)
    </p>
    <p>
      
    </p>
    <p>
      &#36882;&#20943;dentry&#30340;&#24341;&#29992;&#35745;&#25968;&#65292;&#24403;&#24341;&#29992;&#35745;&#25968;&#21464;&#20026;0&#26102;&#65292;&#23558;&#20854;&#31227;&#33267;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#65292;&#31561;&#24453;&#34987;&#37322;&#25918;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471719034876" ID="ID_338647743" MODIFIED="1471719046124" TEXT="inode&#x5f15;&#x7528;&#x8ba1;&#x6570;">
<node CREATED="1471719061605" ID="ID_196056465" MODIFIED="1471719347258">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void iput(struct inode *inode)
    </p>
    <p>
      
    </p>
    <p>
      &#36882;&#20943;inode&#30340;&#24341;&#29992;&#35745;&#25968;
    </p>
    <p>
      &#24403;&#20943;&#20026;0&#26102;&#35843;&#29992;iput_final()&#25110;&#31435;&#21363;&#37322;&#25918;Inode&#25110;&#23558;&#20854;&#25918;&#20837;&#25152;&#23646;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#12290;
    </p>
  </body>
</html></richcontent>
<node CREATED="1471719424793" ID="ID_523009753" MODIFIED="1471719441645" TEXT="&#x5f53; !inode-&gt;i_nlink || inode_unhashed(inode) &#x65f6;&#x7acb;&#x5373;&#x91ca;&#x653e;inode"/>
</node>
</node>
</node>
<node CREATED="1471718480977" FOLDED="true" ID="ID_1763402749" MODIFIED="1472066868979" TEXT="dentry&#x64cd;&#x4f5c;">
<node CREATED="1471718511436" ID="ID_332088590" MODIFIED="1471718518858" TEXT="&#x5206;&#x914d;dentry">
<node CREATED="1471718534489" ID="ID_902080534" MODIFIED="1471718739553">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *d_alloc(struct dentry * parent, const struct qstr *name)
    </p>
    <p>
      
    </p>
    <p>
      &#20998;&#37197;&#19968;&#20010;&#26032;&#30340;dentry&#65292;&#24182;&#24314;&#31435;&#19982;parent dentry&#30340;&#20851;&#31995;&#65292;
    </p>
    <p>
      &#36825;&#20027;&#35201;&#26159;&#25351;&#36890;&#36807;dentry-&gt;d_child&#38142;&#25509;&#21040;parent-&gt;d_subdirs&#38142;&#34920;&#20013;&#12290;
    </p>
    <p>
      &#21516;&#26102;&#20250;&#23558;parent dentry&#30340;&#24341;&#29992;&#35745;&#25968;&#21152;1&#12290;&#27880;&#24847;&#26032;&#20998;&#37197;&#30340;dentry&#30340;&#24341;&#29992;&#35745;&#25968;&#26159;1&#12290;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1471718782764" ID="ID_1920145897" MODIFIED="1471718861586">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *__d_alloc(struct super_block *sb, const struct qstr *name)
    </p>
    <p>
      
    </p>
    <p>
      &#20998;&#37197;&#19968;&#20010;&#26032;&#30340;dentry&#65292;&#24182;&#21033;&#29992;&#36229;&#32423;&#22359;&#30340;&#30456;&#20851;&#20449;&#24687;&#21021;&#22987;&#21270;dentry&#65292;&#26032;&#20998;&#37197;&#30340;dentry&#30340;&#24341;&#29992;&#35745;&#25968;&#26159;1&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1471915757723" ID="ID_1551899624" MODIFIED="1471915765578" TEXT="&#x67e5;&#x627e;dentry">
<node CREATED="1471915768126" ID="ID_1868912191" MODIFIED="1471915914693">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      struct dentry *d_lookup(const struct dentry *parent, const struct qstr *name)
    </p>
    <p>
      &#22312;&#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#20013;&#26597;&#25214;&#29238;&#30446;&#24405;&#24213;&#19979;&#30340;&#25351;&#23450;&#25991;&#20214;&#12290;
    </p>
    <p>
      &#22312;&#20840;&#23616;&#21704;&#24076;&#34920;dentry_hashtable&#20013;&#65292;&#21516;&#19968;&#29238;&#30446;&#24405;&#30340;&#25152;&#26377;&#25991;&#20214;&#34987;&#25918;&#22312;&#21516;&#19968;&#20010;&#21704;&#24076;&#26742;&#20013;&#12290;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1472062198181" ID="ID_1724645254" MODIFIED="1472062212466" TEXT="&#x6536;&#x7f29;dcache">
<node CREATED="1472062262471" ID="ID_1655820438" MODIFIED="1472062483611">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;void shrink_dcache_sb(struct super_block *sb)
    </p>
    <p>
      dentry&#30340;&#24341;&#29992;&#35745;&#25968;&#21464;&#20026;0&#21518;&#20250;&#34987;&#31227;&#20837;&#36229;&#32423;&#22359;&#30340;LRU&#38142;&#34920;&#65292;&#24403;&#31995;&#32479;&#20869;&#23384;&#19981;&#22815;&#26102;&#23601;&#38656;&#35201;&#37322;&#25918;&#36825;&#20010;&#38142;&#34920;&#20869;dentry&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472062615452" ID="ID_641707570" MODIFIED="1472062737066" TEXT="&#x904d;&#x5386;&#x8d85;&#x7ea7;&#x5757;&#x7684;sb-&gt;s_dentry_lru&#x5373;LRU&#x94fe;&#x8868;&#x4f7f;&#x7528;&#x51fd;&#x6570;dentry_lru_isolate_shrink()&#x628a;&#x6240;&#x6709;&#x53ef;&#x4ee5;&#x91ca;&#x653e;&#x7684;dentry&#x79fb;&#x5165;&#x4e00;&#x4e2a;&#x4e34;&#x65f6;&#x94fe;&#x8868;dispose"/>
<node CREATED="1472062786179" ID="ID_414264121" MODIFIED="1472062818424" TEXT="&#x8c03;&#x7528;shrink_dentry_list()&#x91ca;&#x653e;&#x4e34;&#x65f6;&#x94fe;&#x8868;dispose&#x5185;&#x7684;dentry">
<node CREATED="1472063834945" ID="ID_705028558" MODIFIED="1472063860310">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      d_shrink_del(dentry)
    </p>
    <p>
      &#20174;&#20020;&#26102;&#38142;&#34920;&#19978;&#21462;&#20986;&#19968;&#20010;dentry
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1472063962416" ID="ID_1631186968" MODIFIED="1472064147176">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      try_prune_one_dentry(dentry)
    </p>
    <p>
      &#37322;&#25918;dentry&#65292;&#22914;&#26524;&#37322;&#25918;&#25104;&#21151;&#21017;&#32487;&#32493;&#22788;&#29702;&#20020;&#26102;&#38142;&#34920;&#19978;&#30340;&#19979;&#19968;&#20010;dentry&#65292;
    </p>
    <p>
      &#22914;&#26524;&#22833;&#36133;&#21017;&#36824;&#26159;&#29992;d_shrink_add()&#25226;&#23427;&#21152;&#22238;&#20020;&#26102;&#38142;&#34920;&#20197;&#20415;&#19979;&#27425;&#20877;&#23581;&#35797;&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472064205045" ID="ID_762156273" MODIFIED="1472064207590" TEXT="dentry_kill()">
<node CREATED="1472064551111" ID="ID_1668551402" MODIFIED="1472064553867" TEXT="struct dentry *d_kill(struct dentry *dentry, struct dentry *parent)">
<node CREATED="1472064654620" ID="ID_1464863854" MODIFIED="1472064684677" TEXT="&#x4ece;parent dentry -&gt;d_subdirs&#x94fe;&#x8868;&#x4e0a;&#x5220;&#x9664;"/>
<node CREATED="1472064787989" ID="ID_1922741470" MODIFIED="1472065004955">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      dentry_iput(dentry)
    </p>
    <p>
      &#35299;&#38500;dentry&#25152;&#24341;&#29992;&#30340;inode&#65292;&#24182;&#23558;dentry&#20174;inode -&gt;i_dentry&#38142;&#34920;&#19978;&#21024;&#38500;&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472064792447" ID="ID_1500575825" MODIFIED="1472064799495" TEXT="iput()"/>
</node>
<node CREATED="1472065049698" ID="ID_1686799793" MODIFIED="1472065050886" TEXT="d_free(dentry)">
<node CREATED="1472065082037" ID="ID_1421798946" MODIFIED="1472065085207" TEXT="__d_free()">
<node CREATED="1472065101882" ID="ID_824167248" MODIFIED="1472065102805" TEXT="kmem_cache_free(dentry_cache, dentry)"/>
</node>
</node>
</node>
</node>
<node CREATED="1472064271501" ID="ID_1873698186" MODIFIED="1472064323059" TEXT="&#x6cbf;&#x7236;&#x8def;&#x5f84;&#x5f80;&#x4e0a;&#x904d;&#x5386;&#xff0c;&#x5982;&#x679c;parent dentry&#x7684;&#x5f15;&#x7528;&#x8ba1;&#x6570;&#x4e3a;0&#xff0c;&#x5219;&#x4e5f;&#x91ca;&#x653e;&#x5b83;"/>
</node>
</node>
</node>
<node CREATED="1472066005406" ID="ID_512173454" MODIFIED="1472066201854">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      drop_caches_sysctl_handler()
    </p>
    <p>
      &#24403;&#29992;&#25143;&#25191;&#34892;&#21629;&#20196;&quot;echo 1 &gt; /proc/sys/vm/drop_caches&quot;&#26102;
    </p>
    <p>
      &#20250;&#22238;&#25910;&#25152;&#26377;reclaimable&#30340;kmem_cache&#12290;&#32780;dentry&#23545;&#24212;&#30340;kmem_cache&#23601;&#26159;&#20854;&#20013;&#20043;&#19968;&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472066227868" ID="ID_902625564" MODIFIED="1472066230646" TEXT="drop_slab()">
<node CREATED="1472066251218" ID="ID_1241264532" MODIFIED="1472066574964">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      shrink_slab()
    </p>
    <p>
      &#36941;&#21382;&#20840;&#23616;&#38142;&#34920; shrinker_list
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472066586717" ID="ID_1762446171" MODIFIED="1472066589991" TEXT="shrink_slab_node()">
<node CREATED="1472066612119" ID="ID_414526358" MODIFIED="1472066666109">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      shrinker-&gt;scan_objects()
    </p>
    <p>
      &#23545;&#20110;&#36229;&#32423;&#22359;&#32780;&#35328;&#23601;&#26159;super_cache_scan()
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1472066765266" ID="ID_335814" MODIFIED="1472066767155" TEXT="prune_dcache_sb()">
<node CREATED="1472062615452" ID="ID_1353489912" MODIFIED="1472066811486" TEXT="&#x904d;&#x5386;&#x8d85;&#x7ea7;&#x5757;&#x7684;sb-&gt;s_dentry_lru&#x5373;LRU&#x94fe;&#x8868;&#x4f7f;&#x7528;&#x51fd;&#x6570;dentry_lru_isolate()&#x628a;&#x6240;&#x6709;&#x53ef;&#x4ee5;&#x91ca;&#x653e;&#x7684;dentry&#x79fb;&#x5165;&#x4e00;&#x4e2a;&#x4e34;&#x65f6;&#x94fe;&#x8868;dispose"/>
<node CREATED="1472066842012" ID="ID_1270193361" LINK="#ID_414264121" MODIFIED="1472066849471" TEXT="&#x8c03;&#x7528;shrink_dentry_list()&#x91ca;&#x653e;&#x4e34;&#x65f6;&#x94fe;&#x8868;dispose&#x5185;&#x7684;dentry"/>
</node>
<node CREATED="1472066774312" ID="ID_1297733832" MODIFIED="1472066776017" TEXT="prune_icache_sb()"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1471718497383" ID="ID_72270069" MODIFIED="1471718503359" TEXT="inode&#x64cd;&#x4f5c;"/>
</node>
</node>
</map>
