<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1379314970686" ID="ID_496956885" MODIFIED="1379315022845" TEXT="interrupt">
<node CREATED="1379315214584" FOLDED="true" ID="ID_971060752" MODIFIED="1414540060121" POSITION="right" TEXT="&#x6982;&#x5ff5;">
<node CREATED="1379315232311" ID="ID_1040509938" MODIFIED="1379315237143" TEXT="&#x5206;&#x7c7b;">
<node CREATED="1379315241133" ID="ID_785142643" MODIFIED="1379404486900" TEXT="&#x4e2d;&#x65ad; : &#x5f02;&#x6b65;, IO&#x8bbe;&#x5907;&#x4ea7;&#x751f;,&#x901a;&#x8fc7;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;PIC&#x8fde;&#x63a5;&#x5230;CPU&#x7684;IRQ&#x7ebf;&#xa;         cpu&#x5c06;&#x5728;&#x5173;&#x4e2d;&#x65ad;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x8fdb;&#x5165;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x7a0b;&#x5e8f;">
<node CREATED="1379316150738" ID="ID_923235281" MODIFIED="1379317558363" TEXT="&#x53ef;&#x5c4f;&#x853d;&#x4e2d;&#x65ad; : IO&#x8bbe;&#x5907;&#x7684;&#x4e2d;&#x65ad;&#x9996;&#x5148;&#x8fde;&#x63a5;&#x5230;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;PIC,&#x518d;&#x7531;PIC&#x8fde;&#x63a5;&#x5230;CPU&#x7684;IRQ&#x5f15;&#x811a;&#xa;                  CPU&#x53ef;&#x5bf9;PIC&#x7f16;&#x7a0b;&#x4ee5;&#x5c4f;&#x853d;&#x67d0;&#x4e9b;IO&#x8bbe;&#x5907;&#x7684;&#x4e2d;&#x65ad;,&#x4ee5;&#x4f7f;&#x5b83;&#x4e0d;&#x89e6;&#x53d1;CPU&#x7684;IRQ&#x7ebf;"/>
<node CREATED="1379316150738" ID="ID_1330875845" MODIFIED="1379316226588" TEXT="&#x975e;&#x53ef;&#x5c4f;&#x853d;&#x4e2d;&#x65ad; : CPU&#x7684;NMI&#x5f15;&#x811a;&#x89e6;&#x53d1;&#x7684;&#x4e2d;&#x65ad;"/>
</node>
<node CREATED="1379315300805" ID="ID_845672075" MODIFIED="1379404514421" TEXT="&#x5f02;&#x5e38; : &#x540c;&#x6b65;, CPU&#x6267;&#x884c;&#x6307;&#x4ee4;&#x65f6;&#x4ea7;&#x751f;,&#x65e0;&#x786c;&#x4ef6;&#x8fde;&#x7ebf;&#xa;         cpu&#x5c06;&#x5728;&#x4e0d;&#x5173;&#x4e2d;&#x65ad;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x8fdb;&#x5165;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;">
<node CREATED="1379316676335" ID="ID_40084179" MODIFIED="1379316874795" TEXT="&#x6545;&#x969c;(fault) : &#x5f15;&#x53d1;&#x6545;&#x969c;&#x7684;&#x6307;&#x4ee4;&#x5730;&#x5740;&#x88ab;CPU&#x4fdd;&#x5b58;&#x5728;&#x5185;&#x6838;&#x5806;&#x6808;&#x5185;eip&#x5bc4;&#x5b58;&#x5668;&#x4e2d;, &#x6545;&#x969c;&#x6062;&#x590d;&#x540e;&#x91cd;&#x65b0;&#x6267;&#x884c;&#x8be5;&#x6307;&#x4ee4;"/>
<node CREATED="1379316676335" ID="ID_1164211828" MODIFIED="1379317144001" TEXT="&#x9677;&#x9631;(trap) : &#x5f15;&#x53d1;&#x9677;&#x9631;&#x6307;&#x4ee4;&#x968f;&#x540e;&#x4e00;&#x6761;&#x8981;&#x6267;&#x884c;&#x7684;&#x6307;&#x4ee4;&#x5730;&#x5740;&#x88ab;CPU&#x4fdd;&#x5b58;&#x5728;&#x5185;&#x6838;&#x5806;&#x6808;&#x5185;eip&#x5bc4;&#x5b58;&#x5668;&#x4e2d;, &#x6062;&#x590d;&#x540e;&#x4e0d;&#x91cd;&#x65b0;&#x6267;&#x884c;"/>
<node CREATED="1379316676335" ID="ID_871634666" MODIFIED="1379317311716" TEXT="&#x5f02;&#x5e38;&#x7ec8;&#x6b62;(abort) : CPU&#x4e0d;&#x5728;&#x5185;&#x6838;&#x5806;&#x6808;eip&#x5bc4;&#x5b58;&#x5668;&#x4e2d;&#x4fdd;&#x5b58;&#x503c;, &#x5185;&#x6838;&#x5c06;&#x7ec8;&#x6b62;&#x5f15;&#x53d1;abort&#x5f02;&#x5e38;&#x7684;&#x8fdb;&#x7a0b;"/>
<node CREATED="1379316676335" ID="ID_1385176118" MODIFIED="1379317465621" TEXT="&#x7f16;&#x7a0b;&#x5f02;&#x5e38;(programmed exception) : &#x7b49;&#x540c;&#x4e8e;&#x9677;&#x9631;(trap),&#x7528;&#x4e8e;&#x7528;&#x6237;&#x5c42;&#x7684;&#x7cfb;&#x7edf;&#x8c03;&#x7528;"/>
</node>
</node>
<node CREATED="1379315771255" ID="ID_399151002" MODIFIED="1379315784392" TEXT="&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x539f;&#x5219;">
<node CREATED="1379315812945" ID="ID_1525045935" MODIFIED="1379316004101" TEXT="&#x4ec5;&#x5728;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x4e2d;&#x5904;&#x7406;&#x7d27;&#x6025;&#x800c;&#x5173;&#x952e;&#x7684;&#x90e8;&#x5206;,&#x5176;&#x4f59;&#x7684;&#x90e8;&#x5206;&#x653e;&#x5728;&#x5ef6;&#x8fdf;&#x51fd;&#x6570;&#x4e2d;&#x5904;&#x7406;"/>
<node CREATED="1379315912419" ID="ID_263695572" MODIFIED="1379315982909" TEXT="&#x5c3d;&#x91cf;&#x5728;&#x5f00;&#x4e2d;&#x65ad;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x6267;&#x884c;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x4ee5;&#x5141;&#x8bb8;&#x4e2d;&#x65ad;&#x5d4c;&#x5957;"/>
<node CREATED="1379316053906" ID="ID_489679124" MODIFIED="1379316133488" TEXT="&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x4e2d;&#x8bbf;&#x95ee;&#x4e34;&#x754c;&#x533a;&#x65f6;&#x5e94;&#x5173;&#x4e2d;&#x65ad;, &#x540c;&#x65f6;&#x5e94;&#x5c3d;&#x91cf;&#x51cf;&#x5c11;&#x8bbf;&#x95ee;&#x4e34;&#x754c;&#x533a;"/>
<node CREATED="1379410340520" ID="ID_1548419455" MODIFIED="1379410361773" TEXT="&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x539f;&#x5219;">
<node CREATED="1379410363613" FOLDED="true" ID="ID_95520861" MODIFIED="1414537389621" TEXT="&#x7d27;&#x6025;&#x7684;&#x64cd;&#x4f5c;&#x5e94;&#x5728;&#x5173;&#x4e2d;&#x65ad;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x6267;&#x884c;">
<node CREATED="1379411543990" ID="ID_1329331119" MODIFIED="1379411552431" TEXT="ack&#x4e2d;&#x65ad;"/>
<node CREATED="1379411573436" ID="ID_1065177449" MODIFIED="1379411602526" TEXT="&#x7f16;&#x7a0b;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x6216;IO&#x8bbe;&#x5907;"/>
<node CREATED="1379411614508" ID="ID_749495356" MODIFIED="1379411641635" TEXT="&#x4fee;&#x6539;&#x7531;&#x8bbe;&#x5907;&#x548c;CPU&#x5171;&#x540c;&#x8bbf;&#x95ee;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;"/>
</node>
<node CREATED="1379410363613" FOLDED="true" ID="ID_1545560115" MODIFIED="1414537394395" TEXT="&#x975e;&#x7d27;&#x6025;&#x7684;&#x64cd;&#x4f5c;&#x5e94;&#x5728;&#x5f00;&#x4e2d;&#x65ad;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x6267;&#x884c;">
<node CREATED="1379411614508" ID="ID_1238910248" MODIFIED="1379411705934" TEXT="&#x4fee;&#x6539;&#x4ec5;&#x7531;CPU&#x8bbf;&#x95ee;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;"/>
</node>
<node CREATED="1379410363613" FOLDED="true" ID="ID_106218876" MODIFIED="1414537397468" TEXT="&#x975e;&#x7d27;&#x6025;&#x53ef;&#x5ef6;&#x8fdf;&#x7684;&#x64cd;&#x4f5c;&#x5e94;&#x5ef6;&#x8fdf;&#x5230;&#x8f6f;&#x4e2d;&#x65ad;&#x4e2d;&#x6267;&#x884c;">
<node CREATED="1379411738529" ID="ID_1414488383" MODIFIED="1379411745311" TEXT="&#x6570;&#x636e;&#x62f7;&#x8d1d;"/>
</node>
</node>
</node>
</node>
<node CREATED="1412805603720" FOLDED="true" ID="ID_101033410" MODIFIED="1413847577052" POSITION="right" TEXT="&#x8f6f;&#x4e2d;&#x65ad;(softirq)">
<node CREATED="1412805852872" FOLDED="true" ID="ID_1603176997" MODIFIED="1413248645796" TEXT="&#x539f;&#x7406;">
<node CREATED="1412805859329" ID="ID_620312735" MODIFIED="1412805860306" TEXT="&#x8bbe;&#x5907;&#x7684;&#x4e2d;&#x65ad;&#x4f1a;&#x6253;&#x65ad;&#x5185;&#x6838;&#x4e2d;&#x8fdb;&#x7a0b;&#x7684;&#x6b63;&#x5e38;&#x8c03;&#x5ea6;&#x548c;&#x8fd0;&#x884c;&#xff0c;&#x7cfb;&#x7edf;&#x5bf9;&#x66f4;&#x9ad8;&#x541e;&#x5410;&#x7387;&#x7684;&#x8ffd;&#x6c42;&#x52bf;&#x5fc5;&#x8981;&#x6c42;&#x4e2d;&#x65ad;&#x670d;&#x52a1;&#x7a0b;&#x5e8f;&#x5c3d;&#x53ef;&#x80fd;&#x5730;&#x77ed;&#x5c0f;&#x7cbe;&#x608d;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x8fd9;&#x4e2a;&#x826f;&#x597d;&#x7684;&#x613f;&#x671b;&#x5f80;&#x5f80;&#x4e0e;&#x73b0;&#x5b9e;&#x5e76;&#x4e0d;&#x543b;&#x5408;&#x3002;&#x5728;&#x5927;&#x591a;&#x6570;&#x771f;&#x5b9e;&#x7684;&#x7cfb;&#x7edf;&#x4e2d;&#xff0c;&#x5f53;&#x4e2d;&#x65ad;&#x5230;&#x6765;&#x65f6;&#xff0c;&#x8981;&#x5b8c;&#x6210;&#x7684;&#x5de5;&#x4f5c;&#x5f80;&#x5f80;&#x5e76;&#x4e0d;&#x4f1a;&#x662f;&#x77ed;&#x5c0f;&#x7684;&#xff0c;&#x5b83;&#x53ef;&#x80fd;&#x8981;&#x8fdb;&#x884c;&#x8f83;&#x5927;&#x91cf;&#x7684;&#x8017;&#x65f6;&#x5904;&#x7406;&#x3002;"/>
<node CREATED="1412805873319" ID="ID_221279838" MODIFIED="1412805873850" TEXT="&#x4e3a;&#x4e86;&#x5728;&#x4e2d;&#x65ad;&#x6267;&#x884c;&#x65f6;&#x95f4;&#x5c3d;&#x53ef;&#x80fd;&#x77ed;&#x548c;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x9700;&#x5b8c;&#x6210;&#x5927;&#x91cf;&#x5de5;&#x4f5c;&#x4e4b;&#x95f4;&#x627e;&#x5230;&#x4e00;&#x4e2a;&#x5e73;&#x8861;&#x70b9;&#xff0c;Linux &#x5c06;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x5206;&#x89e3;&#x4e3a;&#x4e24;&#x4e2a;&#x534a;&#x90e8;&#xff1a;&#x9876;&#x534a;&#x90e8;&#xff08;top  half&#xff09;&#x548c;&#x5e95;&#x534a;&#x90e8;&#xff08;bottom half&#xff09;&#x3002; &#x9876;&#x534a;&#x90e8;&#x5b8c;&#x6210;&#x5c3d;&#x53ef;&#x80fd;&#x5c11;&#x7684;&#x6bd4;&#x8f83;&#x7d27;&#x6025;&#x7684;&#x529f;&#x80fd;&#xff0c;&#x5b83;&#x5f80;&#x5f80;&#x53ea;&#x662f;&#x7b80;&#x5355;&#x5730;&#x8bfb;&#x53d6;&#x5bc4;&#x5b58;&#x5668;&#x4e2d;&#x7684;&#x4e2d;&#x65ad;&#x72b6;&#x6001;&#x5e76;&#x6e05;&#x9664;&#x4e2d;&#x65ad;&#x6807;&#x5fd7;&#x540e;&#x5c31;&#x8fdb;&#x884c;&#x201c;&#x767b;&#x8bb0;&#x4e2d;&#x65ad;&#x201d;&#x7684;&#x5de5;&#x4f5c;&#x3002;&#x201c;&#x767b;&#x8bb0;&#x4e2d;&#x65ad;&#x201d;&#x610f;&#x5473;&#x7740;&#x5c06;&#x5e95;&#x534a;&#x90e8;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x6302;&#x5230;&#x8be5;&#x8bbe;&#x5907;&#x7684;&#x5e95;&#x534a;&#x90e8;&#x6267;&#x884c;&#x961f;&#x5217;&#x4e2d;&#x53bb;&#x3002;&#x8fd9;&#x6837;&#xff0c;&#x9876;&#x534a;&#x90e8;&#x6267;&#x884c;&#x7684;&#x901f;&#x5ea6;&#x5c31;&#x4f1a;&#x5f88;&#x5feb;&#xff0c;&#x53ef;&#x4ee5;&#x670d;&#x52a1;&#x66f4;&#x591a;&#x7684;&#x4e2d;&#x65ad;&#x8bf7;&#x6c42;&#x3002;&#x73b0;&#x5728;&#xff0c;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x5de5;&#x4f5c;&#x7684;&#x91cd;&#x5fc3;&#x5c31;&#x843d;&#x5728;&#x4e86;&#x5e95;&#x534a;&#x90e8;&#x7684;&#x5934;&#x4e0a;&#xff0c;&#x5b83;&#x6765;&#x5b8c;&#x6210;&#x4e2d;&#x65ad;&#x4e8b;&#x4ef6;&#x7684;&#x7edd;&#x5927;&#x591a;&#x6570;&#x4efb;&#x52a1;&#x3002;"/>
<node CREATED="1412805897792" ID="ID_673270613" MODIFIED="1412805898289" TEXT="&#x5e95;&#x534a;&#x90e8;&#x51e0;&#x4e4e;&#x505a;&#x4e86;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x6240;&#x6709;&#x7684;&#x4e8b;&#x60c5;&#xff0c;&#x800c;&#x4e14;&#x53ef;&#x4ee5;&#x88ab;&#x65b0;&#x7684;&#x4e2d;&#x65ad;&#x6253;&#x65ad;&#xff0c;&#x8fd9;&#x4e5f;&#x662f;&#x5e95;&#x534a;&#x90e8;&#x548c;&#x9876;&#x534a;&#x90e8;&#x7684;&#x6700;&#x5927;&#x4e0d;&#x540c;&#xff0c;&#x56e0;&#x4e3a;&#x9876;&#x534a;&#x90e8;&#x5f80;&#x5f80;&#x88ab;&#x8bbe;&#x8ba1;&#x6210;&#x4e0d;&#x53ef;&#x4e2d;&#x65ad;&#x3002;&#x5e95;&#x534a;&#x90e8;&#x5219;&#x76f8;&#x5bf9;&#x6765;&#x8bf4;&#x5e76;&#x4e0d;&#x662f;&#x975e;&#x5e38;&#x7d27;&#x6025;&#x7684;&#xff0c;&#x800c;&#x4e14;&#x76f8;&#x5bf9;&#x6bd4;&#x8f83;&#x8017;&#x65f6;&#xff0c;&#x4e0d;&#x5728;&#x786c;&#x4ef6;&#x4e2d;&#x65ad;&#x670d;&#x52a1;&#x7a0b;&#x5e8f;&#x4e2d;&#x6267;&#x884c;&#x3002;"/>
<node CREATED="1412805919303" ID="ID_932303823" MODIFIED="1412805919786" TEXT="&#x9876;&#x534a;&#x90e8;&#x662f;&#x5b9e;&#x9645;&#x54cd;&#x5e94;&#x4e2d;&#x65ad;&#x7684;&#x8fc7;&#x7a0b;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x7528;request_irq&#x6ce8;&#x518c;&#x7684;&#x4e2d;&#x65ad;&#x4f8b;&#x7a0b;&#x3002;&#x800c;&#x5e95;&#x534a;&#x90e8;&#x4f1a;&#x5728;&#x7a0d;&#x540e;&#x6bd4;&#x8f83;&#x5b89;&#x5168;&#x7684;&#x65f6;&#x95f4;&#x5185;&#x6267;&#x884c;&#x7684;&#x8fc7;&#x7a0b;&#x3002;&#x5373;&#x5e95;&#x534a;&#x90e8;&#x7684;&#x4e2d;&#x65ad;&#x90fd;&#x662f;&#x6253;&#x5f00;&#x7684;&#x3002;"/>
<node CREATED="1413248554355" ID="ID_1233838544" MODIFIED="1413248638434" TEXT="&#x8f6f;&#x4e2d;&#x65ad;&#x548c;&#x786c;&#x4e2d;&#x65ad;&#x7c7b;&#x4f3c;, &#x867d;&#x7136;&#x8f6f;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;&#x662f;&#x6240;&#x6709;CPU&#x5171;&#x4eab;&#x7684;, &#x4f46;&#x662f;&#x8f6f;&#x4e2d;&#x65ad;&#x7684;&#x89e6;&#x53d1;&#x548c;&#x6267;&#x884c;&#x662f;&#x5404;&#x4e2a;CPU&#x5355;&#x72ec;&#x8fdb;&#x884c;&#x7684;"/>
</node>
<node CREATED="1412806426957" ID="ID_237889298" MODIFIED="1412806454340" TEXT="&#x5206;&#x7c7b;">
<node CREATED="1412806759195" ID="ID_1114474289" MODIFIED="1412807129427">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#36719;&#20013;&#26029;&#21521;&#37327;&#34920;(kernel/softirq.c)
    </p>
    <p>
      struct softirq_action softirq_vec[32]
    </p>
    <p>
      &#30446;&#21069;&#23454;&#38469;&#19978;&#21482;&#29992;&#21040;&#20102;&#21069;&#38754;10&#20010;
    </p>
  </body>
</html></richcontent>
<node CREATED="1412807845055" ID="ID_1828306428" MODIFIED="1412807864601" TEXT="struct softirq_action">
<node CREATED="1412807847328" ID="ID_988291840" MODIFIED="1412807848735" TEXT="void&#x9;(*action)(struct softirq_action *);"/>
</node>
</node>
<node CREATED="1412808761472" ID="ID_34349968" MODIFIED="1412808762498" TEXT="HI_SOFTIRQ">
<node CREATED="1412964900063" ID="ID_1031942898" MODIFIED="1412965062375">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void tasklet_hi_action(struct softirq_action *a)
    </p>
    <p>
      (kernel/softirq.c)
    </p>
  </body>
</html></richcontent>
<node CREATED="1412965036777" FOLDED="true" ID="ID_217274871" MODIFIED="1413243130397" TEXT="tasklet">
<node CREATED="1412965079824" ID="ID_1907679523" MODIFIED="1412965084181" TEXT="&#x539f;&#x7406;">
<node CREATED="1412965101911" ID="ID_312451037" MODIFIED="1412965308738" TEXT="&#x6bcf;&#x4e2a;CPU&#x90fd;&#x6709;&#x4f4e;&#x4f18;&#x5148;&#x7ea7;(tasklet_vec)&#x548c;&#x9ad8;&#x4f18;&#x5148;&#x7ea7;(tasklet_hi_vec)&#x4e24;&#x4e2a;&#x961f;&#x5217;, &#x5206;&#x522b;&#x5bf9;&#x5e94;TASKLET_SOFTIRQ&#x548c;HI_SOFTIRQ&#x4e24;&#x4e2a;&#x8f6f;&#x4e2d;&#x65ad;, &#x4ed6;&#x4eec;&#x9664;&#x4e86;&#x4f18;&#x5148;&#x7ea7;&#x4e4b;&#x5916;&#x6ca1;&#x6709;&#x5176;&#x4ed6;&#x533a;&#x522b;. &#x4f18;&#x5148;&#x7ea7;&#x7684;&#x533a;&#x522b;&#x5b9e;&#x9645;&#x4e0a;&#x53cd;&#x6620;&#x4e86;&#x54cd;&#x5e94;&#x901f;&#x5ea6;."/>
<node CREATED="1413226568376" ID="ID_873729071" MODIFIED="1413226720985" TEXT="&#x6bcf;&#x4e2a;tasklet&#x5728;&#x8bf7;&#x6c42;&#x8c03;&#x5ea6;&#x7684;&#x524d;&#x540e;&#x90fd;&#x53ef;&#x4ee5;enable/disable&#x6b64;tasklet, &#x4f46;&#x662f;&#x53ea;&#x6709;&#x7981;&#x6b62;,&#x542f;&#x7528;&#x6b21;&#x6570;&#x76f8;&#x540c;&#x65f6;tasklet&#x624d;&#x4f1a;&#x771f;&#x6b63;&#x6267;&#x884c;"/>
<node CREATED="1413226761000" ID="ID_803731696" MODIFIED="1413226812793" TEXT="&#x6bcf;&#x4e2a;tasklet&#x53ea;&#x4f1a;&#x6267;&#x884c;&#x4e00;&#x6b21;, &#x5982;&#x60f3;&#x7ee7;&#x7eed;&#x6267;&#x884c;, &#x5219;tasklet&#x5fc5;&#x987b;&#x6ce8;&#x518c;&#x81ea;&#x5df1;&#x672c;&#x8eab;"/>
<node CREATED="1413226835704" ID="ID_1890729475" MODIFIED="1413226899297" TEXT="&#x53ef;&#x4ee5;&#x7528;tasklet_hi_schedule&#x6216;tasklet_schedule&#x9009;&#x62e9;&#x4ee5;&#x9ad8;&#x4f18;&#x5148;&#x7ea7;&#x8fd8;&#x662f;&#x4f4e;&#x4f18;&#x5148;&#x7ea7;&#x8c03;&#x5ea6;tasklet"/>
<node CREATED="1413226932768" ID="ID_1203130983" MODIFIED="1413226975231" TEXT="&#x5728;&#x54ea;&#x4e2a;CPU&#x4e0a;&#x6ce8;&#x518c;tasklet&#x5c31;&#x5728;&#x54ea;&#x4e2a;CPU&#x4e0a;&#x6267;&#x884c;&#x8fd9;&#x4e2a;tasklet"/>
<node CREATED="1413226983368" ID="ID_1087494205" MODIFIED="1413227043209" TEXT="&#x540c;&#x4e00;&#x4e2a;tasklet&#x540c;&#x4e00;&#x65f6;&#x523b;&#x4e0d;&#x4f1a;&#x5728;&#x591a;&#x4e2a;CPU&#x4e0a;&#x8fd0;&#x884c;"/>
<node CREATED="1413227161672" ID="ID_772301634" MODIFIED="1413227219043" TEXT="tasklet&#x88ab;&#x6ce8;&#x518c;(schedule)&#x540e;&#x4e0d;&#x665a;&#x4e8e;&#x4e0b;&#x4e00;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;&#x6ef4;&#x7b54;&#x5c31;&#x4f1a;&#x6267;&#x884c;"/>
</node>
<node CREATED="1412966021016" ID="ID_1903732565" MODIFIED="1413227970980" TEXT="struct tasklet_struct">
<node CREATED="1412966048800" ID="ID_1956981019" MODIFIED="1412966051796" TEXT="struct tasklet_struct *next;"/>
<node CREATED="1412966061497" ID="ID_483567611" MODIFIED="1412966065039" TEXT="unsigned long state;">
<node CREATED="1413223754275" ID="ID_845140517" MODIFIED="1413223755222" TEXT="TASKLET_STATE_SCHED">
<node CREATED="1413223784494" ID="ID_111289547" MODIFIED="1413223795505" TEXT="tasklet&#x5df2;&#x88ab;&#x8c03;&#x5ea6;"/>
</node>
<node CREATED="1413223764646" ID="ID_770754322" MODIFIED="1413223765297" TEXT="TASKLET_STATE_RUN">
<node CREATED="1413223799003" ID="ID_1751518322" MODIFIED="1413223810449" TEXT="tasklet&#x6b63;&#x5728;&#x6267;&#x884c;"/>
</node>
</node>
<node CREATED="1412966076185" ID="ID_1152944126" MODIFIED="1412966079042" TEXT="atomic_t count;"/>
<node CREATED="1412966088376" ID="ID_1763802384" MODIFIED="1412966091378" TEXT="void (*func)(unsigned long);"/>
<node CREATED="1412966101697" ID="ID_1702645131" MODIFIED="1412966103721" TEXT="unsigned long data;"/>
</node>
<node CREATED="1412966160793" ID="ID_826662384" MODIFIED="1412966164457" TEXT="API">
<node CREATED="1412966165466" ID="ID_206143080" MODIFIED="1412966167780" TEXT="DECLARE_TASKLET(name, func, data)"/>
<node CREATED="1412966181145" ID="ID_859242022" MODIFIED="1412966194111" TEXT="DECLARE_TASKLET_DISABLED(name, func, data)"/>
<node CREATED="1412966289976" ID="ID_1640932941" MODIFIED="1412966301162">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void tasklet_init(struct tasklet_struct *t, void (*func)(unsigned long), unsigned long data)
    </p>
  </body>
</html></richcontent>
<node CREATED="1413223527896" ID="ID_1105036568" MODIFIED="1413223538219" TEXT="&#x521d;&#x59cb;&#x5316;&#x4e00;&#x4e2a;tasklet"/>
</node>
<node CREATED="1413223640054" ID="ID_564495459" MODIFIED="1413223640998" TEXT="void tasklet_disable_nosync(struct tasklet_struct *t)">
<node CREATED="1413223826220" ID="ID_377907642" MODIFIED="1413224094071" TEXT="&#x7981;&#x6b62;&#x6b64;tasklet,&#x6ce8;&#x610f;&#x6b64;&#x65f6;tasklet&#x53ef;&#x80fd;&#x5df2;&#x7ecf;&#x88ab;&#x8c03;&#x5ea6;. &#x6b64;&#x65f6;tasklet&#x4e5f;&#x53ef;&#x80fd;&#x6b63;&#x5728;&#x6267;&#x884c;.&#xa;&#x4f46;&#x6b64;&#x51fd;&#x6570;&#x4ec5;&#x4ec5;&#x9012;&#x589e;tasklet&#x7684;count&#x5c31;&#x8fd4;&#x56de;,&#x5e76;&#x4e0d;&#x7b49;&#x5f85;tasklet&#x6267;&#x884c;&#x7ed3;&#x675f;"/>
</node>
<node CREATED="1413223660070" ID="ID_750500793" MODIFIED="1413223660644" TEXT="void tasklet_disable(struct tasklet_struct *t)">
<node CREATED="1413223826220" ID="ID_839115769" MODIFIED="1413224156023" TEXT="&#x7981;&#x6b62;&#x6b64;tasklet,&#x6ce8;&#x610f;&#x6b64;&#x65f6;tasklet&#x53ef;&#x80fd;&#x5df2;&#x7ecf;&#x88ab;&#x8c03;&#x5ea6;. &#x6b64;&#x65f6;tasklet&#x4e5f;&#x53ef;&#x80fd;&#x6b63;&#x5728;&#x6267;&#x884c;.&#xa;&#x6b64;&#x51fd;&#x6570;&#x9012;&#x589e;tasklet&#x7684;count&#x540e;&#x7b49;&#x5f85;tasklet&#x6267;&#x884c;&#x7ed3;&#x675f;&#x518d;&#x8fd4;&#x56de;, &#x5f53;&#x7136;&#x5982;&#x679c;&#x4e0d;&#x662f;&#x6b63;&#x5728;&#x6267;&#x884c;&#x5219;&#x7acb;&#x5373;&#x8fd4;&#x56de;"/>
</node>
<node CREATED="1413223686812" ID="ID_28753418" MODIFIED="1413223688119" TEXT="void tasklet_enable(struct tasklet_struct *t)">
<node CREATED="1413223826220" ID="ID_1294963110" MODIFIED="1413224245599" TEXT="&#x542f;&#x7528;&#x6b64;tasklet,&#x6ce8;&#x610f;&#x6b64;&#x65f6;tasklet&#x53ef;&#x80fd;&#x5df2;&#x7ecf;&#x88ab;&#x8c03;&#x5ea6;. &#x6b64;&#x65f6;tasklet&#x4e5f;&#x53ef;&#x80fd;&#x6b63;&#x5728;&#x6267;&#x884c;.&#xa;&#x6b64;&#x51fd;&#x6570;&#x9012;&#x589e;tasklet&#x7684;count&#x540e;&#x7acb;&#x5373;&#x8fd4;&#x56de;"/>
</node>
<node CREATED="1413224293046" ID="ID_573555233" MODIFIED="1413224293645" TEXT="void tasklet_schedule(struct tasklet_struct *t)">
<node CREATED="1413224413302" ID="ID_127491337" MODIFIED="1413224474256" TEXT="&#x82e5;tasklet&#x7684;state&#x4e3a;TASKLET_STATE_SCHED&#x8868;&#x793a;&#x5df2;&#x8c03;&#x5ea6;,&#x5219;&#x7acb;&#x5373;&#x8fd4;&#x56de;"/>
<node CREATED="1413224494716" ID="ID_1744593820" MODIFIED="1413224558195" TEXT="&#x5426;&#x5219;&#x8bbe;&#x7f6e;tasklet&#x7684;state&#x4e3a;TASKLET_STATE_SCHED, &#x540c;&#x65f6;&#x5c06;tasklet&#x63d2;&#x5165;&#x5230;&#x5f53;&#x524d;CPU&#x7684;tasklet_vec&#x961f;&#x5217;&#x5c3e;&#x90e8;"/>
<node CREATED="1413224764596" ID="ID_175272717" MODIFIED="1413224775276" TEXT="&#x89e6;&#x53d1;&#x8f6f;&#x4e2d;&#x65ad;TASKLET_SOFTIRQ"/>
</node>
<node CREATED="1413224310678" ID="ID_300042211" MODIFIED="1413226842356" TEXT="void tasklet_hi_schedule(struct tasklet_struct *t)">
<node CREATED="1413224413302" ID="ID_877882772" MODIFIED="1413224474256" TEXT="&#x82e5;tasklet&#x7684;state&#x4e3a;TASKLET_STATE_SCHED&#x8868;&#x793a;&#x5df2;&#x8c03;&#x5ea6;,&#x5219;&#x7acb;&#x5373;&#x8fd4;&#x56de;"/>
<node CREATED="1413224494716" ID="ID_58365223" MODIFIED="1413224588119" TEXT="&#x5426;&#x5219;&#x8bbe;&#x7f6e;tasklet&#x7684;state&#x4e3a;TASKLET_STATE_SCHED, &#x540c;&#x65f6;&#x5c06;tasklet&#x63d2;&#x5165;&#x5230;&#x5f53;&#x524d;CPU&#x7684;tasklet_hi_vec&#x961f;&#x5217;&#x5c3e;&#x90e8;"/>
<node CREATED="1413224764596" ID="ID_645738791" MODIFIED="1413224797928" TEXT="&#x89e6;&#x53d1;&#x8f6f;&#x4e2d;&#x65ad;HI_SOFTIRQ"/>
</node>
<node CREATED="1413227493054" ID="ID_871914385" MODIFIED="1413227493683" TEXT="void tasklet_kill(struct tasklet_struct *t)">
<node CREATED="1413227749729" ID="ID_899338803" MODIFIED="1413227927681" TEXT="&#x7b49;&#x5f85;tasklet&#x88ab;&#x8c03;&#x5ea6;&#x5b8c;&#x6bd5;, &#x786e;&#x4fdd;TASKLET_STATE_SCHED&#x548c;TASKLET_STATE_RUN&#x4e24;&#x4e2a;&#x6807;&#x8bc6;&#x90fd;&#x6e05;&#x9664;&#x6389;"/>
</node>
</node>
<node CREATED="1413225194303" ID="ID_759730787" MODIFIED="1413240241762" TEXT="tasklet&#x7684;&#x6267;&#x884c;">
<node CREATED="1413225233423" ID="ID_893692634" MODIFIED="1413225234626" TEXT="__do_softirq()">
<node CREATED="1413225236732" ID="ID_1510252239" MODIFIED="1413225340133">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void tasklet_action(struct softirq_action *a)
    </p>
    <p>
      void tasklet_hi_action(struct softirq_action *a)
    </p>
    <p>
      &#36825;2&#20010;&#20989;&#25968;&#30340;&#25191;&#34892;&#23436;&#20840;&#31867;&#20284;,&#21482;&#26159;&#19968;&#20010;&#38024;&#23545;tasklet_vec&#38142;&#34920;,&#32780;&#21478;&#19968;&#20010;&#38024;&#23545;tasklet_hi_vec&#38142;&#34920;
    </p>
  </body>
</html></richcontent>
<node CREATED="1413225381695" ID="ID_755296275" MODIFIED="1413225588744" TEXT="&#x5728;&#x5173;&#x4e2d;&#x65ad;&#x7684;&#x60c5;&#x51b5;&#x4e0b;,&#x5c06;&#x94fe;&#x8868;&#x5934;tasklet_vec, tasklet_hi_vec&#x8bfb;&#x5230;&#x4e34;&#x65f6;&#x53d8;&#x91cf;list&#x4e2d;, &#xa;&#x540c;&#x65f6;&#x5c06;&#x539f;&#x6709;&#x94fe;&#x8868;&#x5934;tasklet_vec, tasklet_hi_vec&#x8bbe;&#x7f6e;&#x4e3a;&#x7a7a;, &#x8fd9;&#x8868;&#x660e;tasklet&#x7684;&#x6267;&#x884c;&#x662f;&#x4e00;&#x6b21;&#x6027;&#x7684;"/>
<node CREATED="1413225607991" ID="ID_456336889" MODIFIED="1413225626471" TEXT="&#x5bf9;&#x4e8e;list&#x4e2d;&#x7684;&#x6bcf;&#x4e00;&#x4e2a;tasklet">
<node CREATED="1413225659263" ID="ID_285607743" MODIFIED="1413225672791" TEXT="&#x68c0;&#x67e5;&#x5176;TASKLET_STATE_RUN&#x6807;&#x8bc6;">
<node CREATED="1413225680383" ID="ID_1116728636" MODIFIED="1413225690964" TEXT="&#x5982;&#x679c;&#x5df2;&#x7ecf;&#x8bbe;&#x7f6e;">
<node CREATED="1413225811984" ID="ID_1917360633" MODIFIED="1413225987800" TEXT="&#x8bf4;&#x660e;&#x8be5;tasklet&#x6b63;&#x5728;&#x5176;&#x4ed6;CPU&#x4e0a;&#x6267;&#x884c;, &#x56e0;&#x6b64;&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x540c;&#x4e00;&#x4e2a;tasklet&#x540c;&#x4e00;&#x65f6;&#x523b;&#x5728;&#x4e0d;&#x540c;CPU&#x4e0a;&#x6267;&#x884c;,&#x56e0;&#x6b64;&#x9700;&#x8981;&#x5ef6;&#x8fdf;&#x5728;&#x5f53;&#x524d;CPU&#x4e0a;&#x7684;&#x6267;&#x884c;&#xa;&#x4e8e;&#x662f;&#x5c06;&#x6b64;tasklet&#x91cd;&#x65b0;&#x63d2;&#x56de;tasklet_vec&#x6216;tasklet_hi_vec&#x94fe;&#x8868;,&#x5e76;&#x89e6;&#x53d1;TASKLET_SOFTIRQ&#x6216;HI_SOFTIRQ&#x8f6f;&#x4e2d;&#x65ad;"/>
</node>
<node CREATED="1413225692663" ID="ID_171649827" MODIFIED="1413225701902" TEXT="&#x5982;&#x679c;&#x8fd8;&#x672a;&#x8bbe;&#x7f6e;">
<node CREATED="1413226020638" ID="ID_1565333826" MODIFIED="1413226056456" TEXT="&#x8bbe;&#x7f6e;TASKLET_STATE_RUN&#x6807;&#x8bc6;, &#x8868;&#x793a;&#x5f53;&#x524d;CPU&#x6b63;&#x5728;&#x6267;&#x884c;&#x6b64;tasklet"/>
<node CREATED="1413226093775" ID="ID_1305632907" MODIFIED="1413226122111" TEXT="&#x68c0;&#x67e5;tasklet&#x7684;count&#x5b57;&#x6bb5;&#x4ee5;&#x786e;&#x5b9a;&#x6b64;tasklet&#x662f;&#x5426;&#x88ab;disable">
<node CREATED="1413226126576" ID="ID_332054474" MODIFIED="1413226132656" TEXT="&#x5df2;&#x7ecf;disable">
<node CREATED="1413226164512" ID="ID_720043065" MODIFIED="1413226231240" TEXT="&#x8868;&#x660e;&#x6b64;tasklet&#x7684;owner&#x73b0;&#x5728;&#x8fd8;&#x4e0d;&#x60f3;&#x8fd0;&#x884c;&#x5b83;,&#x56e0;&#x6b64;&#x6e05;&#x9664;TASKLET_STATE_RUN&#x6807;&#x8bc6;"/>
<node CREATED="1413226245536" ID="ID_1579813461" MODIFIED="1413226249704" TEXT="&#x518d;&#x5c06;&#x6b64;tasklet&#x91cd;&#x65b0;&#x63d2;&#x56de;tasklet_vec&#x6216;tasklet_hi_vec&#x94fe;&#x8868;,&#x5e76;&#x89e6;&#x53d1;TASKLET_SOFTIRQ&#x6216;HI_SOFTIRQ&#x8f6f;&#x4e2d;&#x65ad;"/>
</node>
<node CREATED="1413226133621" ID="ID_422551603" MODIFIED="1413226140080" TEXT="&#x6ca1;&#x6709;disable">
<node CREATED="1413226407142" ID="ID_1362831247" MODIFIED="1413226434424" TEXT="&#x6e05;&#x9664;TASKLET_STATE_SCHED&#x6807;&#x8bc6;,&#x8868;&#x793a;&#x5df2;&#x7ecf;&#x8c03;&#x5ea6;&#x6b64;tasklet"/>
<node CREATED="1413226435640" ID="ID_1831097222" MODIFIED="1413226451742" TEXT="&#x6267;&#x884c;&#x6b64;tasklet"/>
<node CREATED="1413226452608" ID="ID_655604421" MODIFIED="1413226483968" TEXT="&#x6e05;&#x9664;TASKLET_STATE_RUN&#x8868;&#x793a;&#x5f53;&#x524d;CPU&#x4e0a;&#x6267;&#x884c;&#x5b8c;&#x6bd5;"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1412808771735" ID="ID_358196296" MODIFIED="1412808772694" TEXT="TIMER_SOFTIRQ">
<node CREATED="1413235165984" ID="ID_301296653" MODIFIED="1413235222201">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void run_timer_softirq(struct softirq_action *h)
    </p>
    <p>
      (kernel/timer.c)
    </p>
  </body>
</html></richcontent>
<node CREATED="1413235692472" FOLDED="true" ID="ID_1127914287" MODIFIED="1413247036689" TEXT="timer">
<node CREATED="1413235260096" ID="ID_876565231" MODIFIED="1413235265591" TEXT="&#x539f;&#x7406;">
<node CREATED="1413226761000" ID="ID_1371957791" MODIFIED="1413241740446" TEXT="&#x6bcf;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;&#x53ea;&#x4f1a;&#x6267;&#x884c;&#x4e00;&#x6b21;, &#x5982;&#x60f3;&#x7ee7;&#x7eed;&#x6267;&#x884c;, &#x5219;&#x5b9a;&#x65f6;&#x5668;&#x5fc5;&#x987b;&#x6ce8;&#x518c;&#x81ea;&#x5df1;&#x672c;&#x8eab;"/>
<node CREATED="1413226932768" ID="ID_125253080" MODIFIED="1413241705318" TEXT="&#x5728;&#x54ea;&#x4e2a;CPU&#x4e0a;&#x6ce8;&#x518c;&#x5b9a;&#x65f6;&#x5668;&#x5c31;&#x5728;&#x54ea;&#x4e2a;CPU&#x4e0a;&#x6267;&#x884c;&#x8fd9;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;"/>
</node>
<node CREATED="1413235547432" ID="ID_1028874884" MODIFIED="1413235548599" TEXT="struct timer_list">
<node CREATED="1413235567520" ID="ID_533589990" MODIFIED="1413235568382" TEXT="struct list_head entry;"/>
<node CREATED="1413235580040" ID="ID_1346418158" MODIFIED="1413235580809" TEXT="unsigned long expires;">
<node CREATED="1413237108273" ID="ID_1831203266" MODIFIED="1413237123602" TEXT="&#x5b9a;&#x65f6;&#x5668;&#x5728;&#x4ec0;&#x4e48;&#x65f6;&#x95f4;&#x70b9;&#x8d85;&#x65f6;"/>
<node CREATED="1413237059839" ID="ID_226881303" MODIFIED="1413237180436" TEXT="&#x5bf9;&#x5916;&#x53ef;&#x89c1;, &#x4f7f;&#x7528;&#x8005;&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6b64;&#x503c;"/>
</node>
<node CREATED="1413235595830" ID="ID_786577490" MODIFIED="1413235596615" TEXT="struct tvec_base *base;"/>
<node CREATED="1413235622576" ID="ID_193560671" MODIFIED="1413235623399" TEXT="void (*function)(unsigned long);">
<node CREATED="1413237136969" ID="ID_159216562" MODIFIED="1413237145101" TEXT="&#x5b9a;&#x65f6;&#x5668;&#x5904;&#x7406;&#x51fd;&#x6570;"/>
<node CREATED="1413237059839" ID="ID_1165552170" MODIFIED="1413237180436" TEXT="&#x5bf9;&#x5916;&#x53ef;&#x89c1;, &#x4f7f;&#x7528;&#x8005;&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6b64;&#x503c;"/>
</node>
<node CREATED="1413235637128" ID="ID_1853750300" MODIFIED="1413235637972" TEXT="unsigned long data;">
<node CREATED="1413237150711" ID="ID_744640222" MODIFIED="1413237165462" TEXT="&#x5b9a;&#x65f6;&#x5668;&#x5904;&#x7406;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;"/>
<node CREATED="1413237059839" ID="ID_1725614202" MODIFIED="1413237180436" TEXT="&#x5bf9;&#x5916;&#x53ef;&#x89c1;, &#x4f7f;&#x7528;&#x8005;&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6b64;&#x503c;"/>
</node>
<node CREATED="1413235653576" ID="ID_1552319827" MODIFIED="1413235655957" TEXT="int slack;"/>
</node>
<node CREATED="1413235669616" ID="ID_1720517617" MODIFIED="1413235671946" TEXT="API">
<node CREATED="1413237698138" ID="ID_1503165922" MODIFIED="1413237700398" TEXT="DEFINE_TIMER(_name, _function, _expires, _data)">
<node CREATED="1413237706754" ID="ID_1716774911" MODIFIED="1413237719922" TEXT="&#x9759;&#x6001;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;"/>
</node>
<node CREATED="1413237675466" ID="ID_1766989303" MODIFIED="1413237677486" TEXT="init_timer(timer)">
<node CREATED="1413237722466" ID="ID_1129153671" MODIFIED="1413237736911" TEXT="&#x52a8;&#x6001;&#x521d;&#x59cb;&#x5316;&#x4e00;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;"/>
</node>
<node CREATED="1413237808938" ID="ID_794517679" MODIFIED="1413237809511" TEXT="void add_timer(struct timer_list *timer)">
<node CREATED="1413237977090" ID="ID_437150944" MODIFIED="1413238035745" TEXT="&#x6dfb;&#x52a0;&#x5b9a;&#x65f6;&#x5668;&#x4e4b;&#x524d;, &#x7528;&#x6237;&#x5e94;&#x8be5;&#x521d;&#x59cb;&#x5316;&#x5b9a;&#x65f6;&#x5668;&#x7684;expires, function, data&#x4e09;&#x4e2a;&#x503c;"/>
<node CREATED="1413243151006" ID="ID_1188925660" MODIFIED="1413243224529" TEXT="&#x8c03;&#x7528;&#x6b64;&#x51fd;&#x6570;&#x524d;,&#x5fc5;&#x987b;&#x4fdd;&#x8bc1;&#x6b64;&#x5b9a;&#x65f6;&#x5668;&#x4e4b;&#x524d;&#x6ca1;&#x6709;&#x88ab;&#x6dfb;&#x52a0;&#x8fc7;.&#x5982;&#x679c;&#x6dfb;&#x52a0;&#x8fc7;&#x5219;&#x5e94;&#x4f7f;&#x7528;mod_timer&#x6765;&#x4fee;&#x6539;&#x5b9a;&#x65f6;&#x5668;"/>
</node>
<node CREATED="1413244699184" ID="ID_890355195" MODIFIED="1413244700391" TEXT="void add_timer_on(struct timer_list *timer, int cpu)">
<node CREATED="1413244751120" ID="ID_1759026315" MODIFIED="1413244791088" TEXT="&#x5c06;&#x5b9a;&#x65f6;&#x5668;&#x6dfb;&#x52a0;&#x5230;&#x6307;&#x5b9a;CPU&#x4e0a;"/>
<node CREATED="1413237977090" ID="ID_1931230112" MODIFIED="1413238035745" TEXT="&#x6dfb;&#x52a0;&#x5b9a;&#x65f6;&#x5668;&#x4e4b;&#x524d;, &#x7528;&#x6237;&#x5e94;&#x8be5;&#x521d;&#x59cb;&#x5316;&#x5b9a;&#x65f6;&#x5668;&#x7684;expires, function, data&#x4e09;&#x4e2a;&#x503c;"/>
<node CREATED="1413243151006" ID="ID_1844061614" MODIFIED="1413243224529" TEXT="&#x8c03;&#x7528;&#x6b64;&#x51fd;&#x6570;&#x524d;,&#x5fc5;&#x987b;&#x4fdd;&#x8bc1;&#x6b64;&#x5b9a;&#x65f6;&#x5668;&#x4e4b;&#x524d;&#x6ca1;&#x6709;&#x88ab;&#x6dfb;&#x52a0;&#x8fc7;.&#x5982;&#x679c;&#x6dfb;&#x52a0;&#x8fc7;&#x5219;&#x5e94;&#x4f7f;&#x7528;mod_timer&#x6765;&#x4fee;&#x6539;&#x5b9a;&#x65f6;&#x5668;"/>
</node>
<node CREATED="1413237832801" ID="ID_596940018" MODIFIED="1413237833253" TEXT="int del_timer(struct timer_list *timer)">
<node CREATED="1413238103442" ID="ID_72111537" MODIFIED="1413244465079" TEXT="&#x5220;&#x9664;&#x5b9a;&#x65f6;&#x5668;, &#x5373;&#x4f7f;&#x5b83;&#x4e4b;&#x524d;&#x6ca1;&#x6709;&#x88ab;&#x6dfb;&#x52a0;&#x8fc7;"/>
<node CREATED="1413243511876" ID="ID_739640330" MODIFIED="1413244517633" TEXT="&#x8fd4;&#x56de;&#x503c; : &#xa;&#x5982;&#x679c;&#x662f;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x5df2;&#x7ecf;&#x6dfb;&#x52a0;&#x8fc7;(active)&#x7684;&#x5b9a;&#x65f6;&#x5668;&#x5219;&#x8fd4;&#x56de;1, &#x5982;&#x679c;&#x662f;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x672a;&#x6dfb;&#x52a0;&#x8fc7;(inactive)&#x7684;&#x5b9a;&#x65f6;&#x5668;&#x5219;&#x8fd4;&#x56de;0"/>
</node>
<node CREATED="1413237857994" ID="ID_1752840150" MODIFIED="1413237859734" TEXT="int mod_timer(struct timer_list *timer, unsigned long expires)">
<node CREATED="1413238112544" ID="ID_1668635896" MODIFIED="1413243475982" TEXT="&#x4fee;&#x6539;&#x5b9a;&#x65f6;&#x5668;&#x7684;&#x8d85;&#x65f6;&#x65f6;&#x95f4;, &#x65e0;&#x8bba;&#x5b9a;&#x65f6;&#x5668;&#x4e4b;&#x524d;&#x6709;&#x6ca1;&#x6709;&#x88ab;&#x6dfb;&#x52a0;&#x8fc7;, &#x90fd;&#x4f1a;&#x91cd;&#x65b0;&#x6dfb;&#x52a0;"/>
<node CREATED="1413243386326" ID="ID_1939729647" MODIFIED="1413243398958" TEXT="&#x5b83;&#x7684;&#x7b49;&#x4ef7;&#x64cd;&#x4f5c; : del_timer(timer); timer-&gt;expires = expires; add_timer(timer);"/>
<node CREATED="1413243711463" ID="ID_196189892" MODIFIED="1413243760535" TEXT="&#x5982;&#x679c;&#x6b64;&#x5b9a;&#x65f6;&#x5668;&#x4e4b;&#x524d;&#x6ce8;&#x518c;&#x5728;&#x522b;&#x7684;CPU&#x4e0a;,&#x5219;&#x4f1a;&#x4ece;&#x522b;&#x7684;CPU&#x4e0a;&#x5220;&#x9664;,&#x518d;&#x6ce8;&#x518c;&#x5230;&#x5f53;&#x524d;CPU&#x4e0a;"/>
<node CREATED="1413243511876" ID="ID_614260570" MODIFIED="1413243601344" TEXT="&#x8fd4;&#x56de;&#x503c; : &#xa;&#x5982;&#x679c;&#x662f;&#x4fee;&#x6539;&#x4e00;&#x4e2a;&#x5df2;&#x7ecf;&#x6dfb;&#x52a0;&#x8fc7;(active)&#x7684;&#x5b9a;&#x65f6;&#x5668;&#x5219;&#x8fd4;&#x56de;1, &#x5982;&#x679c;&#x662f;&#x4fee;&#x6539;&#x4e00;&#x4e2a;&#x672a;&#x6dfb;&#x52a0;&#x8fc7;(inactive)&#x7684;&#x5b9a;&#x65f6;&#x5668;&#x5219;&#x8fd4;&#x56de;0"/>
</node>
<node CREATED="1413238263402" ID="ID_1414842071" MODIFIED="1413238264874" TEXT="int del_timer_sync(struct timer_list *timer)">
<node CREATED="1413238617242" ID="ID_247437243" MODIFIED="1413239140426" TEXT="&#x5220;&#x9664;&#x5b9a;&#x65f6;&#x5668;,&#x5e76;&#x4fdd;&#x8bc1;&#x8fd4;&#x56de;&#x540e;&#x5b9a;&#x65f6;&#x5668;&#x4e0d;&#x5728;&#x4efb;&#x4f55;CPU&#x4e0a;&#x8fd0;&#x884c;. &#x5982;&#x679c;&#x5f53;&#x524d;&#x5b9a;&#x65f6;&#x5668;&#x6b63;&#x5728;&#x522b;&#x7684;CPU&#x4e0a;&#x8fd0;&#x884c;,&#x5219;&#x7b49;&#x5f85;&#x5176;&#x7ed3;&#x675f;&#x518d;&#x8fd4;&#x56de;"/>
<node CREATED="1413238745578" ID="ID_1568879648" MODIFIED="1413238840634" TEXT="&#x5982;&#x679c;&#x4ece;&#x975e;&#x539f;&#x5b50;&#x4e0a;&#x4e0b;&#x6587;&#x8c03;&#x7528;,&#x6b64;&#x51fd;&#x6570;&#x53ef;&#x80fd;&#x4f1a;&#x8fdb;&#x5165;&#x4f11;&#x7720;, &#x5176;&#x4ed6;&#x60c5;&#x51b5;&#x4e0b;&#x5219;&#x4f1a;&#x8fdb;&#x5165;&#x5fd9;&#x7b49;&#x5f85;"/>
<node CREATED="1413238917747" ID="ID_1915958003" MODIFIED="1413239038738" TEXT="&#x5728;&#x62e5;&#x6709;&#x9501;&#x65f6;,&#x5e94;&#x683c;&#x5916;&#x5c0f;&#x5fc3;&#x8c03;&#x7528;&#x6b64;&#x51fd;&#x6570;, &#x56e0;&#x4e3a;&#x5982;&#x679c;&#x5b9a;&#x65f6;&#x5668;&#x51fd;&#x6570;&#x4f01;&#x56fe;&#x83b7;&#x53d6;&#x540c;&#x6837;&#x7684;&#x9501;, &#x5219;&#x4f1a;&#x6b7b;&#x9501;"/>
</node>
<node CREATED="1413239278305" ID="ID_461382727" MODIFIED="1413239281050" TEXT="int timer_pending(const struct timer_list * timer)">
<node CREATED="1413239284105" ID="ID_1294942896" MODIFIED="1413239307794" TEXT="&#x5b9a;&#x65f6;&#x5668;&#x662f;&#x5426;&#x6b63;&#x5728;&#x88ab;&#x8c03;&#x5ea6;"/>
<node CREATED="1413239445131" ID="ID_712099751" MODIFIED="1413239503803" TEXT="pengding&#x7684;&#x542b;&#x4e49;&#x662f;&#x5b9a;&#x65f6;&#x5668;&#x5df2;&#x7ecf;&#x88ab;&#x6dfb;&#x52a0;(add_timer)&#x4f46;&#x662f;&#x8fd8;&#x6ca1;&#x6709;&#x8d85;&#x65f6;&#x6267;&#x884c;"/>
</node>
</node>
<node CREATED="1413235673118" ID="ID_1513879752" MODIFIED="1413235686791" TEXT="timer&#x7684;&#x6267;&#x884c;">
<node CREATED="1413240256146" ID="ID_944988241" MODIFIED="1413240258085" TEXT="__do_softirq()">
<node CREATED="1413240276516" ID="ID_101635731" MODIFIED="1413240278801" TEXT="void run_timer_softirq(struct softirq_action *h)">
<node CREATED="1413240296628" ID="ID_1774030335" MODIFIED="1413240298791" TEXT="void __run_timers(struct tvec_base *base)"/>
<node CREATED="1413240693132" ID="ID_242064970" MODIFIED="1413241485844">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#27599;&#20010;CPU&#37117;&#26377;&#19968;&#20010;struct tvec_base&#32467;&#26500;,&#23427;&#21253;&#21547;&#20102;&#25152;&#26377;&#27880;&#20876;&#22312;&#36825;&#20010;CPU&#19978;&#30340;&#23450;&#26102;&#22120;.
    </p>
    <p>
      &#23427;&#26377;5&#20010;&#21521;&#37327;,&#20998;&#21035;&#34920;&#31034;
    </p>
    <p>
      tv1 : 0~2^8,
    </p>
    <p>
      tv2 : 2^8~2^14,
    </p>
    <p>
      tv3 : 2^14~2^20,
    </p>
    <p>
      tv4 : 2^20~2^26,
    </p>
    <p>
      tv5 : 2^26~2^30
    </p>
    <p>
      &#21508;&#20010;&#26102;&#38388;&#20869;&#21040;&#26399;&#30340;&#23450;&#26102;&#22120;
    </p>
    <p>
      &#27599;&#19968;&#20010;&#21521;&#37327;&#21448;&#26377;2^8&#25110;2^6&#20010;&#38142;&#34920;,&#20063;&#26159;&#25353;&#29031;&#36229;&#26102;&#26102;&#38388;&#25490;&#21015;&#30340;
    </p>
  </body>
</html></richcontent>
<node CREATED="1413240804924" ID="ID_1734634359" MODIFIED="1413240805567" TEXT="struct tvec_base">
<node CREATED="1413240815724" ID="ID_566930129" MODIFIED="1413240816311" TEXT="spinlock_t lock;"/>
<node CREATED="1413240830020" ID="ID_412676982" MODIFIED="1413240830540" TEXT="struct timer_list *running_timer;"/>
<node CREATED="1413240841524" ID="ID_320720853" MODIFIED="1413240842135" TEXT="unsigned long timer_jiffies;"/>
<node CREATED="1413240850771" ID="ID_918956889" MODIFIED="1413240852721" TEXT="unsigned long next_timer;"/>
<node CREATED="1413240862940" ID="ID_1923563234" MODIFIED="1413240864691" TEXT="struct tvec_root tv1;"/>
<node CREATED="1413240874338" ID="ID_838310008" MODIFIED="1413240875896" TEXT="struct tvec tv2;"/>
<node CREATED="1413240874338" ID="ID_1399321118" MODIFIED="1413240888612" TEXT="struct tvec tv3;"/>
<node CREATED="1413240874338" ID="ID_876428635" MODIFIED="1413240892948" TEXT="struct tvec tv4;"/>
<node CREATED="1413240874338" ID="ID_1902476027" MODIFIED="1413240896871" TEXT="struct tvec tv5;"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1413247026090" ID="ID_898563410" MODIFIED="1413247030033" TEXT="hrtimer"/>
</node>
</node>
<node CREATED="1412808780646" ID="ID_203042571" MODIFIED="1412808781246" TEXT="NET_TX_SOFTIRQ">
<node CREATED="1413247175087" ID="ID_408660404" LINK="linux_network_kernel.mm" MODIFIED="1413414977567">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void net_tx_action(struct softirq_action *h)
    </p>
    <p>
      net/core/dev.c
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412808789023" ID="ID_142753471" MODIFIED="1412808789652" TEXT="NET_RX_SOFTIRQ">
<node CREATED="1413247124594" ID="ID_799116093" LINK="linux_network_kernel.mm" MODIFIED="1413415025393">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void net_rx_action(struct softirq_action *h)
    </p>
    <p>
      (net/core/dev.c)
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412808798023" ID="ID_1172328133" MODIFIED="1412808798698" TEXT="BLOCK_SOFTIRQ"/>
<node CREATED="1412808807088" ID="ID_1109674489" MODIFIED="1412808807730" TEXT="BLOCK_IOPOLL_SOFTIRQ"/>
<node CREATED="1412808815655" ID="ID_78204793" MODIFIED="1412808816306" TEXT="TASKLET_SOFTIRQ">
<node CREATED="1412808899343" ID="ID_526678296" LINK="#ID_217274871" MODIFIED="1412965071402">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void tasklet_action(struct softirq_action *a)
    </p>
    <p>
      (kernel/softirq.c)
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412808823630" ID="ID_354110999" MODIFIED="1412808824310" TEXT="SCHED_SOFTIRQ"/>
<node CREATED="1412808833742" ID="ID_454414355" MODIFIED="1412808834419" TEXT="HRTIMER_SOFTIRQ"/>
<node CREATED="1412808853192" ID="ID_1101676240" MODIFIED="1412808853994" TEXT="RCU_SOFTIRQ"/>
</node>
<node CREATED="1412808270560" ID="ID_1754756329" MODIFIED="1412808275975" TEXT="API">
<node CREATED="1412808608855" ID="ID_1055963269" MODIFIED="1412809474669" TEXT="void open_softirq(int nr, void (*action)(struct softirq_action *))">
<node CREATED="1412808634592" ID="ID_304419706" MODIFIED="1412808648514" TEXT="&#x5b89;&#x88c5;&#x4e00;&#x4e2a;&#x8f6f;&#x4e2d;&#x65ad;"/>
<node CREATED="1412808659886" ID="ID_1668682319" MODIFIED="1412808685468" TEXT="nr : &#x8f6f;&#x4e2d;&#x65ad;&#x5411;&#x91cf;"/>
<node CREATED="1412808687024" ID="ID_1678631854" MODIFIED="1412808702186" TEXT="action : &#x8f6f;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;"/>
</node>
<node CREATED="1412809369878" ID="ID_874728025" MODIFIED="1412809472148">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      void raise_softirq_irqoff(unsigned int nr)
    </p>
    <p>
      void raise_softirq(unsigned int nr)
    </p>
    <p>
      void __raise_softirq_irqoff(unsigned int nr)
    </p>
  </body>
</html></richcontent>
<node CREATED="1412809999246" FOLDED="true" ID="ID_1159740059" MODIFIED="1413415095102">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      raise_softirq
    </p>
    <p>
      &#26412;&#20989;&#25968;&#20250;&#20808;&#20851;&#38381;&#26412;&#22320;&#20013;&#26029;,&#20877;&#35843;&#29992;raise_softirq_irqoff,&#26368;&#21518;&#24674;&#22797;&#26412;&#22320;&#36719;&#20013;&#26029;
    </p>
  </body>
</html></richcontent>
<node CREATED="1412809478854" ID="ID_528673528" MODIFIED="1412810999330">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      raise_softirq_irqoff
    </p>
    <p>
      &#34920;&#31034;&#35843;&#29992;&#32773;&#24050;&#32463;&#20851;&#38381;&#26412;&#22320;&#20013;&#26029;, &#22240;&#32780;&#19981;&#38656;&#35201;&#22312;&#26412;&#20989;&#25968;&#20013;&#20877;&#20851;&#38381;&#26412;&#22320;&#20013;&#26029;
    </p>
  </body>
</html></richcontent>
<node CREATED="1412810815137" FOLDED="true" ID="ID_1532382491" MODIFIED="1413415066261" TEXT="__raise_softirq_irqoff">
<node CREATED="1412809925968" ID="ID_1169317497" LINK="#ID_314162550" MODIFIED="1412810491316">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#35302;&#21457;&#36719;&#20013;&#26029;, &#36825;&#37324;&#20165;&#26159;&#35843;&#24230;, &#24182;&#27809;&#26377;&#30495;&#27491;&#25191;&#34892;
    </p>
    <p>
      &#23454;&#38469;&#19978;&#26159;&#23558;irq_stat[local cpu].__softirq_pending&#20013;nr&#23545;&#24212;&#30340;bit&#20301;&#32622;&#20301;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412811005392" ID="ID_631098097" MODIFIED="1412811155876">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22240;&#20026;&#26377;&#36719;&#20013;&#26029;&#38656;&#35201;&#22788;&#29702;&#20102;,&#22240;&#27492;&#22914;&#26524;&#24403;&#21069;&#19981;&#22788;&#20110;&#20013;&#26029;&#20869;,&#21017;&#31435;&#21363;&#35843;&#24230;&#20869;&#26680;&#32447;&#31243;softirqd&#20197;&#21450;&#26102;&#22788;&#29702;&#36719;&#20013;&#26029;
    </p>
    <p>
      wakeup_softirqd()
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1412808393128" ID="ID_440020953" MODIFIED="1412810507795" TEXT="local_softirq_pending()">
<node CREATED="1412808398278" ID="ID_453029607" LINK="#ID_314162550" MODIFIED="1412810631375">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#33719;&#21462;&#24403;&#21069;CPU&#24453;&#22788;&#29702;&#30340;&#36719;&#20013;&#26029;&#30340;&#25513;&#30721;
    </p>
    <p>
      &#23454;&#38469;&#19978;&#23601;&#26159;&#21462;&#20986;irq_stat[local cpu].__softirq_pending&#30340;&#20540;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412880797123" ID="ID_396553367" MODIFIED="1412880800286" TEXT="local_bh_disable()">
<node CREATED="1412880801857" ID="ID_114266140" MODIFIED="1412880813067" TEXT="&#x5173;&#x95ed;&#x672c;&#x5730;&#x8f6f;&#x4e2d;&#x65ad;"/>
<node CREATED="1412814615279" ID="ID_1218976601" MODIFIED="1412880970526" TEXT="&#x5b9e;&#x9645;&#x4e0a;&#x662f;&#x9012;&#x589e;&#x62a2;&#x5360;&#x8ba1;&#x6570;&#x5668;current_thread_info()-&gt;preempt_count&#x7684;Softirq counter&#x90e8;&#x5206;"/>
</node>
<node CREATED="1412880836113" ID="ID_1276201373" MODIFIED="1412881047956" TEXT="local_bh_enable">
<node CREATED="1412880839145" ID="ID_105881492" MODIFIED="1412880849913" TEXT="&#x5f00;&#x542f;&#x672c;&#x5730;&#x8f6f;&#x4e2d;&#x65ad;"/>
<node CREATED="1412814615279" ID="ID_983628344" MODIFIED="1412880986195" TEXT="&#x5b9e;&#x9645;&#x4e0a;&#x662f;&#x9012;&#x51cf;&#x62a2;&#x5360;&#x8ba1;&#x6570;&#x5668;current_thread_info()-&gt;preempt_count&#x7684;Softirq counter&#x90e8;&#x5206;"/>
</node>
</node>
<node CREATED="1412879307641" ID="ID_1082215459" MODIFIED="1412879322878" TEXT="&#x8f6f;&#x4e2d;&#x65ad;&#x7684;&#x6267;&#x884c;">
<node CREATED="1412879330521" FOLDED="true" ID="ID_1661542147" MODIFIED="1412964851147" TEXT="&#x8f6f;&#x4e2d;&#x65ad;&#x7684;&#x6267;&#x884c;&#x68c0;&#x67e5;&#x70b9;">
<node CREATED="1412879388169" ID="ID_686950215" MODIFIED="1412879445151" TEXT="&#x8c03;&#x7528;local_bh_enable( )&#x91cd;&#x65b0;&#x5f00;&#x542f;local cpu&#x7684;&#x8f6f;&#x4e2d;&#x65ad;&#x65f6;"/>
<node CREATED="1412879571097" ID="ID_781880995" LINK="#ID_628184974" MODIFIED="1412879649373" TEXT="do_irq()&#x4e2d;&#x5b8c;&#x6210;&#x4e2d;&#x65ad;&#x5904;&#x7406;, &#x8c03;&#x7528;irq_exit()&#x9000;&#x51fa;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x65f6;"/>
<node CREATED="1412879744195" ID="ID_684255535" MODIFIED="1412879777150" TEXT="smp_apic_timer_interrupt()&#x4e2d;&#x5b8c;&#x6210;&#x4e2d;&#x65ad;&#x5904;&#x7406;, &#x8c03;&#x7528;irq_exit()&#x9000;&#x51fa;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x65f6;(&#x4ec5;x86)"/>
<node CREATED="1412879826699" ID="ID_1551547917" MODIFIED="1412879863718" TEXT="&#x591a;&#x6838;&#x7cfb;&#x7edf;&#x4e2d;, CPU&#x5904;&#x7406;&#x5b8c;&#x7531;&#x53e6;&#x4e00;&#x4e2a;CPU&#x89e6;&#x53d1;&#x7684;CALL_FUNCTION_VECTOR&#x4e2d;&#x65ad;&#x65f6;"/>
<node CREATED="1412879901650" ID="ID_480408097" MODIFIED="1412879918255" TEXT="ksoftirqd&#x5185;&#x6838;&#x7ebf;&#x7a0b;&#x88ab;&#x5524;&#x9192;&#x65f6;">
<node CREATED="1412879980849" ID="ID_566945750" MODIFIED="1412879982720" TEXT="wakeup_softirqd()"/>
</node>
</node>
<node CREATED="1412880605233" FOLDED="true" ID="ID_1047919880" MODIFIED="1413847568755" TEXT="void do_softirq(void)">
<node CREATED="1412880698489" ID="ID_1451494481" MODIFIED="1412880736654" TEXT="&#x5982;&#x679c;&#x5f53;&#x524d;&#x5904;&#x4e8e;&#x4e2d;&#x65ad;&#x5185;(in_interrupt())&#x5219;&#x9000;&#x51fa;"/>
<node CREATED="1412881235770" ID="ID_1333007886" MODIFIED="1412881244909" TEXT="&#x5173;&#x786c;&#x4e2d;&#x65ad;"/>
<node CREATED="1412881275393" ID="ID_1646317491" MODIFIED="1412881296778" TEXT="&#x5982;&#x679c;&#x6709;&#x9700;&#x8981;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;,&#x5219;&#x8c03;&#x7528;__do_softirq&#x5904;&#x7406;">
<node CREATED="1412882026345" ID="ID_632528136" MODIFIED="1412882048440">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      __do_softirq&#22788;&#29702;&#21407;&#21017;
    </p>
  </body>
</html></richcontent>
<node CREATED="1412882119047" ID="ID_98270557" MODIFIED="1412883420482" TEXT="&#x53ca;&#x65f6;&#x54cd;&#x5e94;&#x539f;&#x5219;: &#x5bf9;&#x4e8e;&#x5f85;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;, &#x6309;&#x7167;&#x5176;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x53f7;&#x4f9d;&#x6b21;&#x904d;&#x5386;&#x4e00;&#x904d;"/>
<node CREATED="1412882208227" ID="ID_1900945662" MODIFIED="1412883423874" TEXT="&#x516c;&#x5e73;&#x539f;&#x5219;: &#x5bf9;&#x4e8e;&#x8f6f;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x8fc7;&#x7a0b;&#x4e2d;&#x51fa;&#x73b0;&#x7684;&#x65b0;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;, &#x5e76;&#x4e0d;&#x662f;&#x9a6c;&#x4e0a;&#x76f8;&#x5e94;, &#x800c;&#x662f;&#x5728;&#x4e0b;&#x4e00;&#x6b21;&#x904d;&#x5386;&#x4e2d;&#x5904;&#x7406;"/>
<node CREATED="1412882428875" ID="ID_1446054410" MODIFIED="1412882576406" TEXT="&#x9650;&#x65f6;&#x5904;&#x7406;: &#x6574;&#x4e2a;__do_softirq&#x8fd0;&#x884c;&#x65f6;&#x95f4;&#x4e0d;&#x5e94;&#x8d85;&#x8fc7;3ms(&#x53ef;&#x914d;), &#x5426;&#x5219;&#x5e94;&#x518d;&#x6b21;&#x8c03;&#x5ea6;softirqd, &#x8fd9;&#x662f;&#x4e3a;&#x4e86;&#x7ed9;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#x8fd0;&#x884c;&#x673a;&#x4f1a;"/>
<node CREATED="1412882639059" ID="ID_149043832" MODIFIED="1412964468813" TEXT="&#x6574;&#x4e2a;__do_softirq&#x662f;&#x5728;&#x672c;&#x5730;&#x8f6f;&#x4e2d;&#x65ad;&#x5173;&#x95ed;&#x7684;&#x73af;&#x5883;&#x4e0b;&#x8fd0;&#x884c;">
<node CREATED="1412890475037" ID="ID_1630439801" MODIFIED="1412890503236" TEXT="&#x4e3a;&#x4ec0;&#x4e48;&#x8981;&#x5173;&#x8f6f;&#x4e2d;&#x65ad;?">
<node CREATED="1412890504789" ID="ID_1642973036" MODIFIED="1412964526092">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22240;&#20026;&#36719;&#20013;&#26029;&#22788;&#29702;&#26399;&#38388;&#30828;&#20013;&#26029;&#26159;&#25171;&#24320;&#30340;,&#22240;&#27492;&#22788;&#29702;&#36719;&#20013;&#26029;&#26399;&#38388;&#21487;&#33021;&#21457;&#29983;&#19968;&#20010;&#30828;&#20013;&#26029;&#25171;&#26029;&#36719;&#20013;&#26029;&#30340;&#25191;&#34892;.&#32780;&#27599;&#27425;&#30828;&#20013;&#26029;&#36864;&#20986;&#26102;&#37117;&#20250;&#22312;irq_exit&#20013;&#26816;&#26597;&#25191;&#34892;do_softirq, &#25152;&#20197;&#19981;&#20851;&#36719;&#20013;&#26029;&#30340;&#35805;&#21516;&#19968;&#20010;CPU&#19978;&#23601;&#20250;&#26377;&#26377;&#22810;&#20010;do_softirq&#23454;&#20363;, &#36825;&#20250;&#23548;&#33268;&#31454;&#20105;&#26465;&#20214;.
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1412890777269" ID="ID_1347361824" MODIFIED="1412890862397" TEXT="&#x5173;&#x95ed;&#x8f6f;&#x4e2d;&#x65ad;&#x540e;in_interrupt()&#x5c06;&#x8fd4;&#x56de;true,&#x4ece;&#x800c;&#x5bfc;&#x81f4;irq_exit&#x548c;do_softirq&#x9000;&#x51fa;,&#x4e0d;&#x81f3;&#x4e8e;&#x6709;&#x591a;&#x4e2a;&#x5b9e;&#x4f8b;"/>
<node CREATED="1412964561585" ID="ID_1958046933" MODIFIED="1412964690130" TEXT="&#x8f6f;&#x4e2d;&#x65ad;&#x5b9e;&#x9645;&#x4e0a;&#x662f;&#x6a21;&#x62df;&#x786c;&#x4e2d;&#x65ad;, &#x65e2;&#x7136;CPU&#x4fdd;&#x8bc1;&#x4e86;&#x8fdb;&#x5165;&#x786c;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x65f6;&#x672c;&#x5730;&#x786c;&#x4e2d;&#x65ad;&#x662f;&#x5173;&#x95ed;&#x7684;, &#x90a3;&#x4e48;CPU&#x4e5f;&#x8981;&#x4fdd;&#x8bc1;&#x8fdb;&#x5165;&#x8f6f;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x65f6;&#x672c;&#x5730;&#x8f6f;&#x4e2d;&#x65ad;&#x662f;&#x5173;&#x95ed;&#x7684;"/>
</node>
</node>
<node CREATED="1412882639059" ID="ID_1292062256" MODIFIED="1412882719618" TEXT="&#x5177;&#x4f53;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x662f;&#x5728;&#x786c;&#x4e2d;&#x65ad;&#x5f00;&#x542f;&#x7684;&#x73af;&#x5883;&#x4e0b;&#x8fd0;&#x884c;">
<node CREATED="1412964044551" ID="ID_578287560" MODIFIED="1412964064426" TEXT="&#x4e3a;&#x4ec0;&#x4e48;&#x5f00;&#x542f;&#x786c;&#x4e2d;&#x65ad;?">
<node CREATED="1412964066425" ID="ID_1860737767" MODIFIED="1412964304858" TEXT="&#x8f6f;&#x4e2d;&#x65ad;&#x7684;&#x76ee;&#x7684;&#x5c31;&#x662f;&#x628a;&#x786c;&#x4e2d;&#x65ad;&#x4e2d;&#x539f;&#x672c;&#x7e41;&#x91cd;&#x8017;&#x65f6;&#x7684;&#x4efb;&#x52a1;&#x5ef6;&#x8fdf;&#x5904;&#x7406;,&#x4ee5;&#x4fbf;&#x8ba9;&#x786c;&#x4e2d;&#x65ad;&#x5f97;&#x5230;&#x66f4;&#x5feb;&#x901f;&#x7684;&#x54cd;&#x5e94;&#xa;&#x5982;&#x679c;&#x5173;&#x95ed;&#x786c;&#x4e2d;&#x65ad;&#x518d;&#x5904;&#x7406;&#x8f6f;&#x4e2d;&#x65ad;,&#x5219;&#x8f6f;&#x4e2d;&#x65ad;&#x53d8;&#x5f97;&#x8ddf;&#x786c;&#x4e2d;&#x65ad;&#x4e00;&#x6837;&#x4e86;,&#x8fd9;&#x6837;&#x5c31;&#x6ca1;&#x6709;&#x4f18;&#x52bf;&#x4e86;."/>
</node>
</node>
</node>
<node CREATED="1412882031673" ID="ID_1419251542" MODIFIED="1412882032699" TEXT="__do_softirq">
<node CREATED="1412882839235" ID="ID_411581341" MODIFIED="1412882856563" TEXT="0, &#x8bfb;&#x53d6;&#x8981;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;&#x63a9;&#x7801;">
<node CREATED="1412882922099" ID="ID_921440938" MODIFIED="1412882922971" TEXT="pending = local_softirq_pending();"/>
</node>
<node CREATED="1412882789747" ID="ID_719358327" MODIFIED="1412882801802" TEXT="1, &#x5173;&#x8f6f;&#x4e2d;&#x65ad;">
<node CREATED="1412882939148" ID="ID_846245178" MODIFIED="1412882939762" TEXT="__local_bh_disable"/>
</node>
<node CREATED="1412882862945" ID="ID_1773639283" MODIFIED="1412882895505" TEXT="2, &#x6e05;&#x7a7a;&#x8f6f;&#x4e2d;&#x65ad;&#x63a9;&#x7801;">
<node CREATED="1412882953938" ID="ID_61825703" MODIFIED="1412882954594" TEXT="set_softirq_pending(0);"/>
</node>
<node CREATED="1412882971084" ID="ID_1603158376" LINK="#ID_1333007886" MODIFIED="1412883469573" TEXT="3, &#x5f00;&#x786c;&#x4e2d;&#x65ad;">
<node CREATED="1412882982177" ID="ID_661099995" MODIFIED="1412882983154" TEXT="local_irq_enable();"/>
</node>
<node CREATED="1412883013010" ID="ID_902166713" MODIFIED="1412883319410" TEXT="4, &#x904d;&#x5386;&#x5f85;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;(0&#x6b65;&#x6216;6&#x6b65;&#x4e2d;&#x7684;pending), &#x8c03;&#x7528;&#x5176;&#x5904;&#x7406;&#x51fd;&#x6570;"/>
<node CREATED="1412883096724" ID="ID_1510881053" LINK="#ID_1936798545" MODIFIED="1412883486214" TEXT="5, &#x5173;&#x786c;&#x4e2d;&#x65ad;">
<node CREATED="1412883107137" ID="ID_289141162" MODIFIED="1412883108182" TEXT="local_irq_disable();"/>
</node>
<node CREATED="1412882839235" ID="ID_189439816" MODIFIED="1412883144978" TEXT="6, &#x91cd;&#x65b0;&#x8bfb;&#x53d6;&#x8981;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;&#x63a9;&#x7801;">
<node CREATED="1412882922099" ID="ID_1988831898" MODIFIED="1412882922971" TEXT="pending = local_softirq_pending();"/>
</node>
<node CREATED="1412883203107" ID="ID_3048917" MODIFIED="1412883307778" TEXT="7, &#x5982;&#x679c;&#x6574;&#x4e2a;&#x51fd;&#x6570;&#x7684;&#x603b;&#x5904;&#x7406;&#x65f6;&#x95f4;&#x4e0d;&#x8d85;&#x8fc7;3ms&#x5219;&#x8df3;&#x5230;&#x7b2c;2&#x6b65;&#x7ee7;&#x7eed;&#x5904;&#x7406;, &#x5426;&#x5219;&#x8c03;&#x5ea6;softirqd&#x5185;&#x6838;&#x7ebf;&#x7a0b;">
<node CREATED="1412883308860" ID="ID_1713701926" MODIFIED="1412883309874" TEXT="wakeup_softirqd"/>
</node>
<node CREATED="1412882789747" ID="ID_1978360107" MODIFIED="1412883357613" TEXT="8, &#x5f00;&#x8f6f;&#x4e2d;&#x65ad;">
<node CREATED="1412882939148" ID="ID_1126257166" MODIFIED="1412883364011" TEXT="__local_bh_enable"/>
</node>
</node>
</node>
<node CREATED="1412881245457" ID="ID_1936798545" MODIFIED="1412881256522" TEXT="&#x5f00;&#x786c;&#x4e2d;&#x65ad;"/>
</node>
<node CREATED="1412891618786" FOLDED="true" ID="ID_687359363" MODIFIED="1413847570967" TEXT="ksoftirqd">
<node CREATED="1412891633664" ID="ID_1358078104" MODIFIED="1412891681241" TEXT="ksoftirqd&#x5185;&#x6838;&#x7ebf;&#x7a0b;&#x539f;&#x7406;">
<node CREATED="1412891734669" ID="ID_1542032950" MODIFIED="1412892030637" TEXT="&#x5f15;&#x5165;ksoftirqd&#x5185;&#x6838;&#x7ebf;&#x7a0b;&#x7684;&#x539f;&#x56e0;&#x662f;&#x8981;&#x5e73;&#x8861;&#x8f6f;&#x4e2d;&#x65ad;&#x7684;&#x53ca;&#x65f6;&#x54cd;&#x5e94;&#x548c;&#x7528;&#x6237;&#x7a0b;&#x5e8f;&#x7684;&#x53ca;&#x65f6;&#x54cd;&#x5e94;"/>
<node CREATED="1412891833520" ID="ID_756749014" MODIFIED="1412892113061" TEXT="&#x4e3a;&#x4e86;&#x53ca;&#x65f6;&#x54cd;&#x5e94;&#x8f6f;&#x4e2d;&#x65ad;, do_softirq&#x5e94;&#x8be5;&#x5904;&#x7406;&#x5c3d;&#x53ef;&#x80fd;&#x591a;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;, &#x4f46;&#x8fd9;&#x4f1a;&#x5bfc;&#x81f4;&#x7528;&#x6237;&#x7a0b;&#x5e8f;&#x7684;&#x54cd;&#x5e94;&#x53d8;&#x6162;"/>
<node CREATED="1412891833520" ID="ID_176729459" MODIFIED="1412892163328" TEXT="&#x4e3a;&#x4e86;&#x53ca;&#x65f6;&#x54cd;&#x5e94;&#x7528;&#x6237;&#x7a0b;&#x5e8f;, do_softirq&#x5e94;&#x8be5;&#x5904;&#x7406;&#x5c3d;&#x53ef;&#x80fd;&#x5c11;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;, &#x4f46;&#x8fd9;&#x4f1a;&#x5bfc;&#x81f4;&#x8f6f;&#x4e2d;&#x65ad;&#x7684;&#x54cd;&#x5e94;&#x53d8;&#x6162;"/>
<node CREATED="1412892185366" ID="ID_217440413" MODIFIED="1412892464193">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20026;&#20102;&#24179;&#34913;&#36825;&#19968;&#30683;&#30462;, &#20869;&#26680;&#38480;&#23450;&#22788;&#29702;&#36719;&#20013;&#26029;&#30340;&#26102;&#38388;, &#36229;&#36807;&#26102;&#38388;&#21518;, &#25226;&#36719;&#20013;&#26029;&#25918;&#21040;softirqd&#20869;&#26680;&#32447;&#31243;&#20013;&#21435;&#22788;&#29702;. &#22240;&#20026;softirqd&#20869;&#26680;&#32447;&#31243;&#30340;&#20248;&#20808;&#32423;&#27604;&#29992;&#25143;&#31243;&#24207;&#20302;, &#22240;&#27492;&#22312;&#21709;&#24212;&#29992;&#25143;&#31243;&#24207;&#21518;&#25165;&#21709;&#24212;&#36719;&#20013;&#26029;.&#32780;&#22914;&#26524;&#29992;&#25143;&#31243;&#24207;&#31354;&#38386;&#30340;&#35805;,&#21017;softirqd&#20869;&#26680;&#32447;&#31243;&#33021;&#22815;&#31435;&#21363;&#36816;&#34892;&#20197;&#21709;&#24212;&#36719;&#20013;&#26029;
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412891663420" ID="ID_298921310" MODIFIED="1413417354380" TEXT="run_ksoftirqd()">
<node CREATED="1412892882278" ID="ID_1221571508" MODIFIED="1412892955873" TEXT="&#x7981;&#x6b62;&#x62a2;&#x5360;">
<node CREATED="1412892956454" ID="ID_1679537988" MODIFIED="1412892957353" TEXT="preempt_disable();"/>
</node>
<node CREATED="1412892979862" ID="ID_476299689" MODIFIED="1412893025910" TEXT="&#x5982;&#x679c;&#x6ca1;&#x6709;&#x8981;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;, &#x5219;&#x8c03;&#x5ea6;&#x5176;&#x4ed6;&#x8fdb;&#x7a0b;, &#x8c03;&#x5ea6;&#x56de;&#x6765;&#x540e;&#x62a2;&#x5360;&#x8fd8;&#x662f;&#x7981;&#x6b62;&#x7684;">
<node CREATED="1412893027108" ID="ID_711196729" MODIFIED="1412893028042" TEXT="schedule_preempt_disabled();"/>
</node>
<node CREATED="1412893052006" ID="ID_1071075390" MODIFIED="1412893064465" TEXT="&#x8bbe;&#x7f6e;&#x7ebf;&#x7a0b;&#x72b6;&#x6001;&#x4e3a;TASK_RUNNING"/>
<node CREATED="1412893187620" ID="ID_1755213259" MODIFIED="1412893374373" TEXT="&#x5982;&#x679c;&#x6709;&#x5f85;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;&#x5219;&#x4e0d;&#x505c;&#x8c03;&#x7528;__do_softirq()&#x5904;&#x7406;, &#x76f4;&#x81f3;&#x6ca1;&#x6709;&#x5f85;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;">
<node CREATED="1412881235770" ID="ID_1047136261" MODIFIED="1412881244909" TEXT="&#x5173;&#x786c;&#x4e2d;&#x65ad;"/>
<node CREATED="1412893402614" ID="ID_156779910" LINK="#ID_1646317491" MODIFIED="1412963964268" TEXT="__do_softirq"/>
<node CREATED="1412881245457" ID="ID_870854890" MODIFIED="1412881256522" TEXT="&#x5f00;&#x786c;&#x4e2d;&#x65ad;"/>
<node CREATED="1412893436814" ID="ID_1136033217" MODIFIED="1412893444530" TEXT="&#x5141;&#x8bb8;&#x62a2;&#x5360;">
<node CREATED="1412893457965" ID="ID_1070183112" MODIFIED="1412893458585" TEXT="sched_preempt_enable_no_resched();"/>
</node>
<node CREATED="1412893478661" ID="ID_1552079897" MODIFIED="1412893484775" TEXT="&#x8c03;&#x5ea6;">
<node CREATED="1412893513828" ID="ID_397598510" MODIFIED="1412893513828" TEXT="cond_resched();"/>
</node>
<node CREATED="1412892882278" ID="ID_1493471536" MODIFIED="1412892955873" TEXT="&#x7981;&#x6b62;&#x62a2;&#x5360;">
<node CREATED="1412892956454" ID="ID_909136950" MODIFIED="1412892957353" TEXT="preempt_disable();"/>
</node>
</node>
</node>
<node CREATED="1412964727239" ID="ID_269333820" MODIFIED="1412964766446" TEXT="ksoftirqd&#x5185;&#x6838;&#x7ebf;&#x7a0b;&#x548c;do_softirq&#x7684;&#x533a;&#x522b;">
<node CREATED="1412964768615" ID="ID_1146329226" MODIFIED="1412964810840" TEXT="ksoftirqd&#x5185;&#x6838;&#x7ebf;&#x7a0b;&#x662f;&#x5728;&#x7981;&#x6b62;&#x62a2;&#x5360;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x6267;&#x884c;&#x8f6f;&#x4e2d;&#x65ad;&#x7684;"/>
</node>
</node>
</node>
</node>
<node CREATED="1379317719923" FOLDED="true" ID="ID_1020190715" MODIFIED="1414603335140" POSITION="left" TEXT="&#x4e2d;&#x65ad;&#x53ca;&#x5f02;&#x5e38;&#x7684;&#x786c;&#x4ef6;&#x5904;&#x7406;">
<node CREATED="1379319437197" ID="ID_604588149" MODIFIED="1379319453306" TEXT="IRQ&#x7ebf;&#x7684;&#x89e6;&#x53d1;"/>
<node CREATED="1379319455657" FOLDED="true" ID="ID_184053489" MODIFIED="1414537567639" TEXT="&#x8fdb;&#x5165;&#x4e2d;&#x65ad;&#x6216;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x524d;CPU&#x7684;&#x5904;&#x7406;">
<node CREATED="1379319482689" ID="ID_882925603" MODIFIED="1379319523094" TEXT="CPU&#x5728;&#x6bcf;&#x6761;&#x6307;&#x4ee4;&#x6267;&#x884c;&#x5b8c;&#x6bd5;&#x540e;&#x68c0;&#x67e5;IRQ&#x7ebf;"/>
<node CREATED="1379320342313" ID="ID_1343357549" MODIFIED="1379320391687" TEXT="&#x786e;&#x5b9a;&#x4e0e;&#x4e2d;&#x65ad;&#x6216;&#x5f02;&#x5e38;&#x5173;&#x8054;&#x7684;&#x5411;&#x91cf;i (0&lt;= i &lt;=255)"/>
<node CREATED="1379320415027" ID="ID_323426811" MODIFIED="1379320452114" TEXT="&#x901a;&#x8fc7;idtr&#x5bc4;&#x5b58;&#x5668;&#x627e;&#x5230;IDT&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;&#x7684;&#x7b2c;i&#x9879;"/>
<node CREATED="1379320569779" ID="ID_427471725" MODIFIED="1379320755123" TEXT="&#x4ece;&#x627e;&#x5230;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#x4e2d;&#x8bfb;&#x53d6;&#x6bb5;&#x9009;&#x62e9;&#x7b26;, &#x518d;&#x901a;&#x8fc7;gdtr&#x5bc4;&#x5b58;&#x5668;&#x627e;&#x5230;&#x8be5;&#x6bb5;&#x9009;&#x62e9;&#x7b26;&#x5bf9;&#x5e94;&#x7684;&#x6bb5;&#x63cf;&#x8ff0;&#x7b26;,&#xa;&#x4ece;&#x800c;&#x627e;&#x5230;&#x4e2d;&#x65ad;&#x6216;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x7684;&#x6bb5;&#x57fa;&#x5740;"/>
<node CREATED="1379320888821" ID="ID_1765427099" MODIFIED="1379321081615" TEXT="&#x786e;&#x4fdd;&#x5f53;&#x524d;&#x7279;&#x6743;&#x7ea7;CPL &lt; &#x76ee;&#x6807;&#x7279;&#x6743;&#x7ea7;DPL&#xa;CPL&#x4fdd;&#x5b58;&#x5728;cs&#x6bb5;&#x57fa;&#x5740;&#x5bc4;&#x5b58;&#x5668;&#x7684;&#x4f4e;2&#x4f4d;&#xa;DPL&#x4fdd;&#x5b58;&#x5728;&#x4e0a;&#x9762;&#x627e;&#x5230;&#x7684;&#x6bb5;&#x63cf;&#x8ff0;&#x7b26;&#x7684;&#x4f4e;2&#x4f4d;"/>
<node CREATED="1379321130179" ID="ID_244296333" MODIFIED="1379321538397" TEXT="&#x6bcf;&#x4e2a;&#x8fdb;&#x7a0b;&#x5728;&#x4e0d;&#x540c;&#x7684;&#x7279;&#x6743;&#x7ea7;&#x5747;&#x6709;&#x4e0d;&#x540c;&#x7684;&#x6808;,&#x6240;&#x4ee5;CPL&#x4e0d;&#x540c;&#x4e8e;DPL&#x65f6;,&#x9700;&#x8981;&#x5207;&#x6362;&#x6808;">
<node CREATED="1379321268663" ID="ID_1964511663" MODIFIED="1379321291178" TEXT="tr&#x5bc4;&#x5b58;&#x5668;&#x4fdd;&#x5b58;&#x4e86;&#x5f53;&#x524d;&#x8fdb;&#x7a0b;&#x7684;tss&#x63cf;&#x8ff0;&#x7b26;"/>
<node CREATED="1379321350005" ID="ID_1002703785" MODIFIED="1379321417960" TEXT="&#x4ece;&#x4e2d;&#x8bfb;&#x53d6;&#x65b0;&#x6808;&#x7684;&#x6808;&#x6bb5;&#x548c;&#x6808;&#x6307;&#x9488;,&#x5e76;&#x52a0;&#x8f7d;&#x5230;ss&#x548c;esp&#x5bc4;&#x5b58;&#x5668;&#x4e2d;"/>
<node CREATED="1379321443316" ID="ID_1717608205" MODIFIED="1379321504991" TEXT="&#x5728;&#x65b0;&#x6808;&#x4e2d;&#x4fdd;&#x5b58;ss&#x548c;esp&#x4ee5;&#x524d;&#x7684;&#x503c;"/>
</node>
<node CREATED="1379321539971" ID="ID_476668304" MODIFIED="1379321588725" TEXT="&#x82e5;&#x53d1;&#x751f;&#x7684;&#x662f;&#x6545;&#x969c;,&#x5219;&#x5c06;&#x5f15;&#x53d1;&#x6545;&#x969c;&#x7684;&#x6307;&#x4ee4;&#x5730;&#x5740;&#x4fdd;&#x5b58;&#x5230;cs&#x548c;eip&#x5bc4;&#x5b58;&#x5668;&#x4e2d;"/>
<node CREATED="1379321609570" ID="ID_1522181501" MODIFIED="1379321631971" TEXT="&#x5728;&#x65b0;&#x6808;&#x4e2d;&#x4fdd;&#x5b58;cs&#x548c;eip&#x5bc4;&#x5b58;&#x5668;&#x7684;&#x503c;"/>
<node CREATED="1379321609570" ID="ID_176870292" MODIFIED="1379321662462" TEXT="&#x5728;&#x65b0;&#x6808;&#x4e2d;&#x4fdd;&#x5b58;&#x786c;&#x4ef6;&#x51fa;&#x9519;&#x7801;"/>
<node CREATED="1379321695442" ID="ID_325307585" MODIFIED="1379321764959" TEXT="&#x7528;&#x4e2d;&#x65ad;&#x63cf;&#x8ff0;&#x7b26;&#x4e2d;&#x7684;&#x6bb5;&#x57fa;&#x5740;&#x548c;&#x6bb5;&#x504f;&#x79fb;&#x52a0;&#x8f7d;cs&#x548c;eip&#x5bc4;&#x5b58;&#x5668;,&#x8fd9;&#x6837;&#x5c06;&#x8df3;&#x8f6c;&#x5230;&#x4e2d;&#x65ad;&#x6216;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;"/>
</node>
<node CREATED="1379319455657" FOLDED="true" ID="ID_1101979538" MODIFIED="1414537569035" TEXT="&#x9000;&#x51fa;&#x4e2d;&#x65ad;&#x6216;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x540e;CPU&#x7684;&#x5904;&#x7406;">
<node CREATED="1379321695442" ID="ID_449305102" MODIFIED="1379321975997" TEXT="&#x7528;&#x4fdd;&#x5b58;&#x5728;&#x6808;&#x4e2d;&#x7684;&#x6bb5;&#x57fa;&#x5740;&#x548c;&#x6bb5;&#x504f;&#x79fb;&#x52a0;&#x8f7d;cs&#x548c;eip&#x5bc4;&#x5b58;&#x5668;,&#x8fd9;&#x6837;&#x5c06;&#x8df3;&#x8f6c;&#x5230;&#x88ab;&#x4e2d;&#x65ad;&#x7684;&#x7a0b;&#x5e8f;&#x4e2d;"/>
<node CREATED="1379321609570" ID="ID_956266023" MODIFIED="1379322075340" TEXT="&#x4ece;&#x6808;&#x4e2d;&#x5f39;&#x51fa;&#x786c;&#x4ef6;&#x51fa;&#x9519;&#x7801;"/>
<node CREATED="1379320888821" ID="ID_1423968171" MODIFIED="1379322314410" TEXT="&#x6bd4;&#x8f83;&#x4e2d;&#x65ad;&#x6216;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x7684;CPL&#x548c;&#x4e0a;&#x9762;&#x91cd;&#x65b0;&#x52a0;&#x8f7d;&#x7684;cs&#x5bc4;&#x5b58;&#x5668;&#x7684;&#x4f4e;2&#x4f4d;,&#xa;&#x82e5;&#x6743;&#x9650;&#x4e0d;&#x4e00;&#x6837;&#x5219;&#x9700;&#x8981;&#x5207;&#x6362;&#x6808; : &#x7528;&#x6808;&#x4e2d;&#x4fdd;&#x5b58;&#x7684;&#x503c;&#x52a0;&#x8f7d;ss&#x548c;esp&#x5bc4;&#x5b58;&#x5668;"/>
<node CREATED="1379321609570" ID="ID_1326652723" MODIFIED="1379322449570" TEXT="&#x6e05;&#x9664;ds, es, fs, gs&#x5bc4;&#x5b58;&#x5668;&#x4ee5;&#x6e05;&#x9664;&#x539f;&#x6709;&#x6743;&#x9650;"/>
</node>
</node>
<node CREATED="1379320048399" ID="ID_1102382300" MODIFIED="1414604488080" POSITION="left" TEXT="&#x4e2d;&#x65ad;&#x53ca;&#x5f02;&#x5e38;&#x7684;&#x521d;&#x59cb;&#x5316;">
<node CREATED="1379483669650" ID="ID_1176385730" MODIFIED="1379483676592" TEXT="&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;">
<node CREATED="1379403442644" FOLDED="true" ID="ID_593136193" MODIFIED="1414537647360" TEXT="x86&#x7684;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;IDT&#xa;struct desc_struct idt_table[NR_VECTORS]&#xa;&#x6b64;&#x8868;&#x5728;trap_init&#x4e2d;&#x521d;&#x59cb;&#x5316;exception&#x76f8;&#x5173;&#x7684;&#x9879;,&#x5728;init_IRQ&#x4e2d;&#x521d;&#x59cb;&#x5316;&#x4e2d;&#x65ad;&#x76f8;&#x5173;&#x9879;">
<node CREATED="1379403671549" ID="ID_1915919823" MODIFIED="1379403703503" TEXT="limit0(16bit) : &#x6bb5;&#x504f;&#x79fb;"/>
<node CREATED="1379403716738" ID="ID_645876727" MODIFIED="1379403754615" TEXT="base0(16bit) : &#x6bb5;&#x57fa;&#x5740;"/>
<node CREATED="1379403716738" ID="ID_571200239" MODIFIED="1379403775664" TEXT="base1(8bit) : &#x6bb5;&#x57fa;&#x5740;"/>
<node CREATED="1379403716738" ID="ID_82824688" MODIFIED="1379404935514" TEXT="type(4bit) : &#x95e8;&#x7c7b;&#x578b;">
<node CREATED="1379404148986" ID="ID_562035538" MODIFIED="1379404153380" TEXT="GATE_INTERRUPT = 0xE"/>
<node CREATED="1379404162662" ID="ID_769104318" MODIFIED="1379404163382" TEXT="GATE_TRAP = 0xF"/>
<node CREATED="1379404172293" ID="ID_1711170713" MODIFIED="1379404173266" TEXT="GATE_CALL = 0xC"/>
<node CREATED="1379404182743" ID="ID_1142884361" MODIFIED="1379404183423" TEXT="GATE_TASK = 0x5"/>
</node>
<node CREATED="1379403716738" ID="ID_1526814218" MODIFIED="1379403839606" TEXT="s(1bit) : "/>
<node CREATED="1379403716738" ID="ID_83236705" MODIFIED="1379403905802" TEXT="dpl(2bit) : &#x76ee;&#x6807;&#x4ee3;&#x7801;&#x6bb5;&#x7684;&#x6743;&#x9650;"/>
<node CREATED="1379403716738" ID="ID_1419412261" MODIFIED="1379403927640" TEXT="p(1bit) : "/>
<node CREATED="1379403716738" ID="ID_1868946040" MODIFIED="1379403971143" TEXT="limit(4bit) : &#x6bb5;&#x504f;&#x79fb;"/>
<node CREATED="1379403716738" ID="ID_314399365" MODIFIED="1379403995805" TEXT="avl(1bit) : "/>
<node CREATED="1379403716738" ID="ID_14057002" MODIFIED="1379404000073" TEXT="l(1bit) : "/>
<node CREATED="1379403716738" ID="ID_1976264097" MODIFIED="1379404003989" TEXT="d(1bit) : "/>
<node CREATED="1379403716738" ID="ID_394079865" MODIFIED="1379404007379" TEXT="g(1bit) : "/>
<node CREATED="1379403716738" ID="ID_697122669" MODIFIED="1379404030830" TEXT="base2(8bit) : &#x6bb5;&#x57fa;&#x5740;"/>
</node>
<node CREATED="1379483625516" ID="ID_183609077" MODIFIED="1379483658528" TEXT="mips&#x7684;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;&#xa;unsigned long exception_handlers[32]"/>
</node>
<node CREATED="1379404724067" FOLDED="true" ID="ID_175724027" MODIFIED="1414537726630" TEXT="&#x95e8;&#x7684;&#x6743;&#x9650;">
<node CREATED="1379404871179" ID="ID_1222097002" MODIFIED="1379404930557" TEXT="&#x7528;&#x6237;&#x7a7a;&#x95f4;&#x7684;&#x8fdb;&#x7a0b;&#x5176;CPL&#x4e3a;3"/>
<node CREATED="1379405246462" ID="ID_1438154477" MODIFIED="1379405689816" TEXT="&#x5411;&#x91cf;128&#x7684;&#x7c7b;&#x578b;&#x4e3a;GATE_TRAP,&#x5176;DPL&#x4e3a;3, &#xa;&#x7528;&#x6237;&#x53ef;&#x4ee5;&#x7528;&#x6307;&#x4ee4;int $0x80&#x6765;&#x8bbf;&#x95ee;&#x8fd9;&#x4e2a;&#x95e8;"/>
<node CREATED="1379405246462" ID="ID_1470105642" MODIFIED="1379405583179" TEXT="&#x5411;&#x91cf;3,4&#x7684;&#x7c7b;&#x578b;&#x4e3a;GATE_INTERRUPT,&#x5176;DPL&#x4e3a;3, &#xa;&#x7528;&#x6237;&#x53ef;&#x4ee5;&#x7528;&#x6307;&#x4ee4;int3 int4&#x6765;&#x8bbf;&#x95ee;&#x8fd9;2&#x4e2a;&#x95e8;"/>
<node CREATED="1379404913614" ID="ID_107828222" MODIFIED="1379405841479" TEXT="&#x5176;&#x5b83;&#x6240;&#x6709;&#x7c7b;&#x578b;&#x4e3a;GATE_INTERRUPT&#x7684;&#x95e8;&#x5176;DPL&#x4e3a;0"/>
<node CREATED="1379404913614" ID="ID_383869122" MODIFIED="1379405858787" TEXT="&#x5176;&#x5b83;&#x6240;&#x6709;&#x7c7b;&#x578b;&#x4e3a;GATE_TRAP&#x7684;&#x95e8;&#x5176;DPL&#x4e3a;0"/>
<node CREATED="1379405909262" ID="ID_224785147" MODIFIED="1379406049319" TEXT="&#x53ea;&#x6709;&#x5f53;&#x8fdb;&#x7a0b;&#x7684;CPL &lt;= &#x76ee;&#x6807;&#x95e8;&#x7684;DPL &#x65f6;&#x8fdb;&#x7a0b;&#x624d;&#x80fd;&#x8bbf;&#x95ee;&#x8fd9;&#x4e2a;&#x95e8;&#xa;&#x6240;&#x4ee5;&#x7528;&#x6237;&#x7a7a;&#x95f4;&#x7684;&#x8fdb;&#x7a0b;&#x53ea;&#x80fd;&#x8bbf;&#x95ee;3,4,128&#x53f7;&#x95e8;"/>
</node>
<node CREATED="1379472516368" ID="ID_525564787" MODIFIED="1379472517848" TEXT="&#x5f02;&#x5e38;&#x521d;&#x59cb;&#x5316; : trap_init">
<node CREATED="1379406349416" FOLDED="true" ID="ID_1010876324" MODIFIED="1379484494084" TEXT="x86 : trap_init (arch/x86/kernel/traps.c)&#xa;&#x8fd9;&#x4e9b;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x51fd;&#x6570;&#x5b9a;&#x4e49;&#x5728;arch/x86/kernel/entry_32.S&#x4e2d;&#xa;&#x8fd9;&#x91cc;&#x7684;set_intr_gate&#x5c06;&#x5728;idt_table&#x4e2d;&#x8bbe;&#x7f6e;&#x76f8;&#x5e94;&#x7684;exception&#x9879;">
<node CREATED="1379406376906" ID="ID_475666598" MODIFIED="1379406377639" TEXT="set_intr_gate(0, &amp;divide_error)"/>
<node CREATED="1379406435103" ID="ID_911870282" MODIFIED="1379406435542" TEXT="set_nmi_gate(1, &amp;debug)"/>
<node CREATED="1379406449189" ID="ID_860981441" MODIFIED="1379406450229" TEXT="set_intr_gate_ist(2, &amp;nmi, NMI_STACK)"/>
<node CREATED="1379406461638" ID="ID_908348281" MODIFIED="1379406462095" TEXT="set_nmi_gate(3, &amp;int3)"/>
<node CREATED="1379406471740" ID="ID_1452830969" MODIFIED="1379406472668" TEXT="set_system_intr_gate(4, &amp;overflow)"/>
<node CREATED="1379406481560" ID="ID_722692807" MODIFIED="1379406482488" TEXT="set_intr_gate(5, &amp;bounds)"/>
<node CREATED="1379406490991" ID="ID_1081608244" MODIFIED="1379406491578" TEXT="set_intr_gate(6, &amp;invalid_op)"/>
<node CREATED="1379406499660" ID="ID_1391026402" MODIFIED="1379406500604" TEXT="set_intr_gate(7, &amp;device_not_available)"/>
<node CREATED="1379406514856" ID="ID_641814931" MODIFIED="1379406515886" TEXT="set_task_gate(8, GDT_ENTRY_DOUBLEFAULT_TSS)"/>
<node CREATED="1379406526115" ID="ID_642612922" MODIFIED="1379406527192" TEXT="set_intr_gate(9, &amp;coprocessor_segment_overrun)"/>
<node CREATED="1379406535623" ID="ID_1693648348" MODIFIED="1379406536623" TEXT="set_intr_gate(10, &amp;invalid_TSS)"/>
<node CREATED="1379406545098" ID="ID_1169301386" MODIFIED="1379406546058" TEXT="set_intr_gate(11, &amp;segment_not_present)"/>
<node CREATED="1379406555680" ID="ID_1077061134" MODIFIED="1379406556104" TEXT="set_intr_gate_ist(12, &amp;stack_segment, STACKFAULT_STACK)"/>
<node CREATED="1379406565020" ID="ID_49849082" MODIFIED="1379406565426" TEXT="set_intr_gate(13, &amp;general_protection)"/>
<node CREATED="1379406581278" ID="ID_403053453" MODIFIED="1379406582559" TEXT="set_intr_gate(15, &amp;spurious_interrupt_bug)"/>
<node CREATED="1379406592165" ID="ID_1175082987" MODIFIED="1379406593133" TEXT="set_intr_gate(16, &amp;coprocessor_error)"/>
<node CREATED="1379406607455" ID="ID_644720538" MODIFIED="1379406608438" TEXT="set_intr_gate(17, &amp;alignment_check)"/>
<node CREATED="1379406618029" ID="ID_589946339" MODIFIED="1379406618410" TEXT="set_intr_gate_ist(18, &amp;machine_check, MCE_STACK)"/>
<node CREATED="1379406627414" ID="ID_1362950973" MODIFIED="1379406628399" TEXT="set_intr_gate(19, &amp;simd_coprocessor_error)"/>
<node CREATED="1379406660210" ID="ID_93044959" MODIFIED="1379406669555" TEXT="set_system_trap_gate(128, &amp;system_call)"/>
</node>
<node CREATED="1379472599164" FOLDED="true" ID="ID_354694216" MODIFIED="1414539145436" TEXT="mips : trap_init (arch/mips/kernel/traps.c)&#xa;&#x8fd9;&#x4e9b;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x51fd;&#x6570;&#x5b9a;&#x4e49;&#x5728;arch/mips/kernel/geneX.S&#x4e2d;&#xa;&#x8fd9;&#x91cc;&#x7684;set_except_vector&#x5c06;&#x5728;exception_handlers&#x4e2d;&#x8bbe;&#x7f6e;&#x76f8;&#x5e94;&#x7684;exception&#x9879;&#xa;&#x6ce8;&#x610f;exception 0&#x5c31;&#x662f;&#x5904;&#x7406;&#x4e2d;&#x65ad;&#x7684;&#x5411;&#x91cf;">
<node CREATED="1379472878638" FOLDED="true" ID="ID_227531890" MODIFIED="1414539135230" TEXT="set_except_vector(0, handle_int)">
<node CREATED="1379473565711" ID="ID_1365722540" MODIFIED="1379473601454" TEXT="&#x5c06;exception handler&#x4fdd;&#x5b58;&#x5728;&#x5168;&#x5c40;&#x53d8;&#x91cf;exception_handlers&#x4e2d;"/>
</node>
<node CREATED="1379472903854" ID="ID_1138204660" MODIFIED="1379472904910" TEXT="set_except_vector(1, handle_tlbm)"/>
<node CREATED="1379472914403" ID="ID_1478584341" MODIFIED="1379472915644" TEXT="set_except_vector(2, handle_tlbl)"/>
<node CREATED="1379472924294" ID="ID_1514143333" MODIFIED="1379472925287" TEXT="set_except_vector(3, handle_tlbs)"/>
<node CREATED="1379472933987" ID="ID_1546075912" MODIFIED="1379472935010" TEXT="set_except_vector(4, handle_adel)"/>
<node CREATED="1379472943990" ID="ID_1808393657" MODIFIED="1379472944958" TEXT="set_except_vector(5, handle_ades)"/>
<node CREATED="1379472953480" ID="ID_311383121" MODIFIED="1379472954432" TEXT="set_except_vector(6, handle_ibe)"/>
<node CREATED="1379472962644" ID="ID_1232008813" MODIFIED="1379472963659" TEXT="set_except_vector(7, handle_dbe)"/>
<node CREATED="1379473276615" ID="ID_738626031" MODIFIED="1379473279063" TEXT="set_except_vector(8, handle_sys)"/>
<node CREATED="1379473404425" ID="ID_1971415659" MODIFIED="1379473405377" TEXT="set_except_vector(9, handle_bp)"/>
<node CREATED="1379473441067" ID="ID_1014778166" MODIFIED="1379473448719" TEXT="set_except_vector(10, handle_ri)"/>
<node CREATED="1379473461113" ID="ID_216438614" MODIFIED="1379473462049" TEXT="set_except_vector(11, handle_cpu)"/>
<node CREATED="1379473470307" ID="ID_389901547" MODIFIED="1379473471251" TEXT="set_except_vector(12, handle_ov)"/>
<node CREATED="1379473479301" ID="ID_331546585" MODIFIED="1379473480156" TEXT="set_except_vector(13, handle_tr)"/>
<node CREATED="1379473488703" ID="ID_608226456" MODIFIED="1379473489574" TEXT="board_nmi_handler_setup"/>
<node CREATED="1379473496982" ID="ID_839290434" MODIFIED="1379473501626" TEXT="set_except_vector(15, handle_fpe)">
<font NAME="SansSerif" SIZE="12"/>
</node>
<node CREATED="1379473510731" ID="ID_212247253" MODIFIED="1379473511747" TEXT="set_except_vector(22, handle_mdmx)"/>
<node CREATED="1379473520543" ID="ID_210062502" MODIFIED="1379473521454" TEXT="set_except_vector(24, handle_mcheck)"/>
<node CREATED="1379473530146" ID="ID_16659862" MODIFIED="1379473531057" TEXT="set_except_vector(25, handle_mt)"/>
<node CREATED="1379473539147" ID="ID_1216838368" MODIFIED="1379473540019" TEXT="set_except_vector(26, handle_dsp)"/>
</node>
</node>
<node CREATED="1379408950957" ID="ID_1042351665" MODIFIED="1379408958048" TEXT="&#x4e2d;&#x65ad;&#x521d;&#x59cb;&#x5316;">
<node CREATED="1379482448344" ID="ID_1703480042" MODIFIED="1412810337891" TEXT="irq_cpustat_t irq_stat[CPU_NRS]">
<node CREATED="1379482540786" ID="ID_314162550" MODIFIED="1379482541455" TEXT="unsigned int __softirq_pending"/>
</node>
<node CREATED="1379482861504" ID="ID_525812434" MODIFIED="1379482869954" TEXT="&#x4e2d;&#x65ad;&#x521d;&#x59cb;&#x5316;init_IRQ">
<node CREATED="1379483015489" FOLDED="true" ID="ID_1759277984" MODIFIED="1379485301839" TEXT="x86">
<node CREATED="1379483021941" ID="ID_16136995" MODIFIED="1379483024080" TEXT="x86_init.irqs.intr_init()">
<node CREATED="1379483041022" ID="ID_948701032" MODIFIED="1379483041646" TEXT="native_init_IRQ">
<node CREATED="1379485012693" ID="ID_1552188527" MODIFIED="1379485123823" TEXT="&#x5c06;interrupt&#x6570;&#x7ec4;&#x4e2d;&#x7684;handler&#x590d;&#x5236;&#x5230;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;idt_table&#x4e2d;(set_intr_gate)"/>
<node CREATED="1379483069270" ID="ID_1634077822" MODIFIED="1379483069777" TEXT="setup_irq"/>
</node>
</node>
</node>
<node CREATED="1379483078243" ID="ID_510848391" MODIFIED="1379483079977" TEXT="mips">
<node CREATED="1379483111102" ID="ID_1909859343" MODIFIED="1414541989001" TEXT="arch_init_irq (arch/mips/ath79/irq.c)">
<node CREATED="1379486046176" ID="ID_391711855" MODIFIED="1379486047456" TEXT="ath79_misc_irq_init">
<node CREATED="1379491749735" ID="ID_214053300" MODIFIED="1414545933845" TEXT="irq_set_chip_and_handler&#xa;&#x4e3a;8-40&#x4e4b;&#x95f4;&#x7684;&#x4e2d;&#x65ad;&#x63cf;&#x8ff0;&#x7b26;&#x8bbe;&#x7f6e;desc-&gt;irq_data-&gt;chip,&#x5373;&#x7f16;&#x7a0b;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x7684;&#x51fd;&#x6570;&#x96c6;&#xa;&#x540c;&#x65f6;&#x4e3a;8-40&#x4e4b;&#x95f4;&#x7684;&#x4e2d;&#x65ad;&#x63cf;&#x8ff0;&#x7b26;&#x8bbe;&#x7f6e;&#x901a;&#x7528;&#x4e2d;&#x65ad;&#x6d41;&#x63a7;&#x5904;&#x7406;&#x51fd;&#x6570;,&#x5373;&#x5982;&#x4f55;&#x5206;&#x53d1;&#x5171;&#x4eab;&#x7684;&#x4e2d;&#x65ad;">
<node CREATED="1379492099746" ID="ID_239098692" MODIFIED="1379492101421" TEXT="handle_level_irq"/>
</node>
<node CREATED="1379486055408" ID="ID_261812108" MODIFIED="1414539774639" TEXT="irq_set_chained_handler">
<node CREATED="1379486071096" ID="ID_687323905" MODIFIED="1379486072151" TEXT="__irq_set_handler">
<node CREATED="1379486520039" ID="ID_113988797" MODIFIED="1379486591022" TEXT="&#x4ece;irq_desc&#x6570;&#x7ec4;&#x4e2d;&#x53d6;&#x51fa;&#x5bf9;&#x5e94;&#x7684;&#x4e2d;&#x65ad;&#x63cf;&#x8ff0;&#x7b26;desc"/>
<node CREATED="1379486591578" ID="ID_382130829" MODIFIED="1379486605245" TEXT="&#x786e;&#x4fdd;desc-&gt;irq_data.chip&#x5df2;&#x7ecf;&#x88ab;&#x521d;&#x59cb;&#x5316;"/>
<node CREATED="1379486639505" ID="ID_1949687443" MODIFIED="1379486655933" TEXT="&#x4fdd;&#x5b58;handle"/>
<node CREATED="1379486701163" FOLDED="true" ID="ID_152678074" MODIFIED="1414539815126" TEXT="&#x82e5;&#x6b64;&#x4e2d;&#x65ad;&#x662f;&#x5171;&#x4eab;&#x4e2d;&#x65ad;&#x5219;&#x8bbe;&#x7f6e;&#x4ee5;&#x4e0b;&#x6807;&#x8bc6;:&#xa;_IRQ_NOPROBE&#xa;_IRQ_NOREQUEST&#xa;_IRQ_NOTHREAD&#xa;&#x5e76;&#x8c03;&#x7528;irq_startup&#x542f;&#x7528;&#x4e2d;&#x65ad;">
<node CREATED="1379486880048" ID="ID_200354446" MODIFIED="1379486881167" TEXT="irq_startup">
<node CREATED="1379486954807" ID="ID_1456916881" MODIFIED="1379486972692" TEXT="&#x8c03;&#x7528;desc-&gt;irq_data.chip-&gt;irq_startup&#x5728;&#x786c;&#x4ef6;&#x4e0a;&#x542f;&#x7528;&#x4e2d;&#x65ad;"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1379487069819" FOLDED="true" ID="ID_1713328067" MODIFIED="1414539862495" TEXT="request_irq">
<node CREATED="1379487078757" ID="ID_787188872" MODIFIED="1379487079900" TEXT="request_threaded_irq">
<node CREATED="1379489214797" ID="ID_386106428" MODIFIED="1379489216710" TEXT="__setup_irq">
<node CREATED="1379489651995" ID="ID_759040578" MODIFIED="1379489652970" TEXT="irq_setup_forced_threading">
<node CREATED="1379489668800" ID="ID_1406357203" MODIFIED="1379489838537" TEXT="&#x5f53;&#x7cfb;&#x7edf;&#x88ab;&#x914d;&#x7f6e;&#x4e3a;&#x5f3a;&#x5236;&#x5728;&#x7ebf;&#x7a0b;&#x4e2d;&#x5904;&#x7406;&#x4e2d;&#x65ad;&#x65f6;(&#x5373;&#x5168;&#x5c40;&#x53d8;&#x91cf;force_irqthreads&#x4e3a;1)&#xa;&#x8bbe;&#x7f6e;action-&gt;thread_fn = action-&gt;handler&#xa;action-&gt;handler = irq_default_primary_handler&#xa;&#x5e76;&#x5728;action-&gt;thread_flags&#x4e0a;&#x6807;&#x8bb0;IRQTF_FORCED_THREAD"/>
</node>
<node CREATED="1379489935404" ID="ID_1514430803" MODIFIED="1379489971772" TEXT="&#x82e5;&#x6709;&#x5fc5;&#x8981;&#x5219;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5185;&#x6838;&#x7ebf;&#x7a0b;&#x4ee5;&#x5904;&#x7406;&#x6b64;&#x4e2d;&#x65ad;"/>
<node CREATED="1379490874863" ID="ID_1408267077" MODIFIED="1379490883223" TEXT="&#x8bbe;&#x7f6e;flags"/>
<node CREATED="1379490896562" ID="ID_1417198781" MODIFIED="1379490897489" TEXT="&#x8c03;&#x7528;irq_startup&#x542f;&#x7528;&#x4e2d;&#x65ad;"/>
<node CREATED="1379490933473" ID="ID_856114293" MODIFIED="1379490942295" TEXT="wake up&#x5185;&#x6838;&#x7ebf;&#x7a0b;"/>
<node CREATED="1379490943003" ID="ID_472749115" MODIFIED="1379490962525" TEXT="&#x4e3a;&#x6b64;&#x4e2d;&#x65ad;&#x5efa;&#x7acb;proc&#x8def;&#x5f84;"/>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1379320111856" FOLDED="true" ID="ID_196000638" MODIFIED="1414539889367" TEXT="x86 :&#x8c03;&#x7528;&#x51fd;&#x6570;load_idt : &#x7528;&#x6307;&#x4ee4;lidt&#x5c06;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;IDT&#x7684;&#x5730;&#x5740;&#x52a0;&#x8f7d;&#x5230;CPU&#x5bc4;&#x5b58;&#x5668;idtr&#x4e2d;&#xa;mips : &#x5c06;except_vec3_generic&#x590d;&#x5236;&#x5230;ebase&#x5bc4;&#x5b58;&#x5668;&#x4e2d;,ebase&#x5bc4;&#x5b58;&#x5668;&#x4fdd;&#x5b58;&#x4e86;mips&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;">
<node CREATED="1379473974707" ID="ID_613669523" MODIFIED="1379474180066" TEXT="mips">
<node CREATED="1379473989928" ID="ID_510195108" MODIFIED="1379485337793" TEXT="except_vec3_generic&#x5b9a;&#x4e49;&#x5728;arch/mips/kernel/geneX.S&#x4e2d;">
<node CREATED="1379474045777" ID="ID_1183069850" MODIFIED="1379474097672" TEXT="&#x8c03;&#x7528;&#x4fdd;&#x5b58;&#x5728;exception_handlers&#x4e2d;&#x7684;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x51fd;&#x6570;,&#x5373;trap_init&#x4e2d;&#x521d;&#x59cb;&#x5316;&#x7684;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x51fd;&#x6570;"/>
</node>
</node>
</node>
</node>
<node CREATED="1379408970643" ID="ID_93842173" MODIFIED="1414539890902" POSITION="left" TEXT="&#x4e2d;&#x65ad;&#x53ca;&#x5f02;&#x5e38;&#x7684;&#x8f6f;&#x4ef6;&#x5904;&#x7406;">
<node CREATED="1379409044349" FOLDED="true" ID="ID_522619401" MODIFIED="1414540233102" TEXT="&#x5f02;&#x5e38;&#x7684;&#x8f6f;&#x4ef6;&#x5904;&#x7406;">
<node CREATED="1379409113934" ID="ID_830394576" MODIFIED="1379409133053" TEXT="&#x5728;&#x5185;&#x6838;&#x6808;&#x4e2d;&#x4fdd;&#x5b58;&#x5bc4;&#x5b58;&#x5668;&#x5185;&#x5bb9;"/>
<node CREATED="1379409209162" ID="ID_1799280154" MODIFIED="1379409260861" TEXT="&#x8c03;&#x7528;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x5982;do_coprocessor_error"/>
<node CREATED="1379409343635" ID="ID_867574939" MODIFIED="1379409358370" TEXT="&#x8c03;&#x7528;ret_from_exception&#x9000;&#x51fa;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x7a0b;&#x5e8f;"/>
</node>
<node CREATED="1379409054676" FOLDED="true" ID="ID_1226465723" MODIFIED="1414540248616" TEXT="&#x4e2d;&#x65ad;&#x7684;&#x8f6f;&#x4ef6;&#x5904;&#x7406;">
<node CREATED="1379409113934" ID="ID_137788838" MODIFIED="1379411787694" TEXT="&#x5728;&#x5185;&#x6838;&#x6808;&#x4e2d;&#x4fdd;&#x5b58;&#x5bc4;&#x5b58;&#x5668;&#x5185;&#x5bb9;&#x4ee5;&#x53ca;IRQ&#x4e2d;&#x65ad;&#x5411;&#x91cf;"/>
<node CREATED="1379411805139" ID="ID_1091510685" MODIFIED="1379411811553" TEXT="ack&#x4e2d;&#x65ad;"/>
<node CREATED="1379411825901" ID="ID_1822876452" MODIFIED="1379411865026" TEXT="&#x6267;&#x884c;&#x5171;&#x4eab;&#x8fd9;&#x4e2a;IRQ&#x7684;&#x6240;&#x6709;&#x8bbe;&#x5907;&#x7684;&#x4e2d;&#x65ad;&#x670d;&#x52a1;&#x4f8b;&#x7a0b;ISR">
<node CREATED="1379474168052" ID="ID_843745343" MODIFIED="1379474172256" TEXT="x86"/>
<node CREATED="1379474172787" ID="ID_1693057265" MODIFIED="1414539945095" TEXT="mips">
<node CREATED="1379474191078" ID="ID_714095289" MODIFIED="1379474217337" TEXT="except_vec3_generic (arch/mips/kernel/geneX.S)">
<node CREATED="1379474231998" ID="ID_908873359" MODIFIED="1379474286322" TEXT="exception_handlers[0]&#x5373;handle_int">
<node CREATED="1379474309709" ID="ID_147691458" MODIFIED="1379474372997" TEXT="plat_irq_dispatch (arch/mips/ath79/irq.c)">
<node CREATED="1379474436066" ID="ID_956864063" MODIFIED="1379474437691" TEXT="do_IRQ">
<node CREATED="1379485730140" ID="ID_1331863859" MODIFIED="1379485731034" TEXT="generic_handle_irq">
<node CREATED="1379485851006" ID="ID_95824802" MODIFIED="1379485876502" TEXT="&#x4ece;irq_desc&#x6570;&#x7ec4;&#x4e2d;&#x53d6;&#x51fa;&#x4e2d;&#x65ad;&#x63cf;&#x8ff0;&#x7b26;"/>
<node CREATED="1379485888673" ID="ID_1196552047" MODIFIED="1379485890844" TEXT="generic_handle_irq_desc">
<node CREATED="1379485920112" ID="ID_576674229" MODIFIED="1379485925651" TEXT="desc-&gt;handle_irq()"/>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1379409343635" ID="ID_1785664726" MODIFIED="1379411893774" TEXT="&#x8c03;&#x7528;ret_from_intr&#x9000;&#x51fa;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x7a0b;&#x5e8f;"/>
</node>
<node CREATED="1412814533842" FOLDED="true" ID="ID_833667406" MODIFIED="1414540015558" TEXT="API">
<node CREATED="1412814537592" ID="ID_1205614754" MODIFIED="1412814613116" TEXT="irq_enter()">
<node CREATED="1412814615279" ID="ID_431726798" MODIFIED="1412814877091" TEXT="&#x9012;&#x589e;&#x62a2;&#x5360;&#x8ba1;&#x6570;&#x5668;current_thread_info()-&gt;preempt_count&#x7684;Hardirq counter&#x90e8;&#x5206;"/>
</node>
<node CREATED="1412814810871" ID="ID_628184974" MODIFIED="1412814813409" TEXT="irq_exit()">
<node CREATED="1412814615279" ID="ID_84431860" MODIFIED="1412814884548" TEXT="&#x9012;&#x51cf;&#x62a2;&#x5360;&#x8ba1;&#x6570;&#x5668;current_thread_info()-&gt;preempt_count&#x7684;Hardirq counter&#x90e8;&#x5206;"/>
<node CREATED="1412814939138" ID="ID_1828680854" MODIFIED="1412814977172" TEXT="&#x5982;&#x679c;&#x5f53;&#x524d;&#x4e0d;&#x5904;&#x5728;&#x4e2d;&#x65ad;&#x4e2d;,&#x4e14;&#x6709;&#x5f85;&#x5904;&#x7406;&#x7684;&#x8f6f;&#x4e2d;&#x65ad;,&#x5219;&#x5f00;&#x59cb;&#x5904;&#x7406;&#x8f6f;&#x4e2d;&#x65ad;">
<node CREATED="1412815006783" ID="ID_873098457" MODIFIED="1412815023132" TEXT="invoke_softirq()">
<node CREATED="1412815017025" ID="ID_1326142505" LINK="#ID_1047919880" MODIFIED="1412963693442" TEXT="do_softirq()"/>
</node>
</node>
</node>
<node CREATED="1412816101848" ID="ID_592676611" MODIFIED="1412816102897" TEXT="in_interrupt()">
<node CREATED="1412816173282" ID="ID_669580863" MODIFIED="1412816264216">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#24403;&#21069;&#26159;&#21542;&#22788;&#20110;&#20013;&#26029;&#19978;&#19979;&#25991;&#20013;
    </p>
    <p>
      &#36825;&#37324;&#30340;&#20013;&#26029;&#26082;&#21253;&#25324;&#30828;&#20013;&#26029;&#20063;&#21253;&#25324;&#36719;&#20013;&#26029;,&#35265;&#19979;&#38754;
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1412816294706" ID="ID_1936975821" MODIFIED="1412816594022">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23454;&#38469;&#19978;&#26159;&#26816;&#26597;current_thread_info()-&gt;preempt_count&#30340;Hardirq counter&#21644;Softirq counter&#38750;0
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412816148784" ID="ID_1902948226" MODIFIED="1412816149599" TEXT="in_softirq()">
<node CREATED="1412816496881" ID="ID_53904596" MODIFIED="1412816517466" TEXT="&#x5f53;&#x524d;&#x662f;&#x5426;&#x5904;&#x4e8e;&#x8f6f;&#x4e2d;&#x65ad;&#x4e0a;&#x4e0b;&#x6587;&#x4e2d;"/>
<node CREATED="1412816294706" ID="ID_1625439280" MODIFIED="1412816534944">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23454;&#38469;&#19978;&#26159;&#26816;&#26597;current_thread_info()-&gt;preempt_count&#30340;Softirq counter&#38750;0
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412816165274" ID="ID_1887402457" MODIFIED="1412816166132" TEXT="in_irq()">
<node CREATED="1412816496881" ID="ID_1627180864" MODIFIED="1412816549336" TEXT="&#x5f53;&#x524d;&#x662f;&#x5426;&#x5904;&#x4e8e;&#x786c;&#x4e2d;&#x65ad;&#x4e0a;&#x4e0b;&#x6587;&#x4e2d;"/>
<node CREATED="1412816294706" ID="ID_185584876" MODIFIED="1412816574778">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23454;&#38469;&#19978;&#26159;&#26816;&#26597;current_thread_info()-&gt;preempt_count&#30340;Hardirq counter&#38750;0
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1412881179273" ID="ID_886074859" MODIFIED="1412881180150" TEXT="local_irq_save(flags)"/>
<node CREATED="1412881192483" ID="ID_381139354" MODIFIED="1412881193166" TEXT="local_irq_restore"/>
</node>
</node>
<node CREATED="1412812852337" ID="ID_1460010342" MODIFIED="1412812903347" POSITION="left" TEXT="&#x62a2;&#x5360;(preemption)"/>
<node CREATED="1412812959175" FOLDED="true" ID="ID_1864983684" MODIFIED="1414540044871" POSITION="left" TEXT="&#x8fdb;&#x7a0b;(process)">
<node CREATED="1412813015481" ID="ID_1904035423" MODIFIED="1412813036068" TEXT="&#x5185;&#x6838;&#x6808;(thread_info)">
<node CREATED="1412813063305" FOLDED="true" ID="ID_816811152" MODIFIED="1414540042680" TEXT="&#x5bf9;&#x4e8e;&#x6bcf;&#x4e00;&#x4e2a;&#x8fdb;&#x7a0b;&#x800c;&#x8a00;&#xff0c;&#x5185;&#x6838;&#x4e3a;&#x5176;&#x5355;&#x72ec;&#x5206;&#x914d;&#x4e86;&#x4e00;&#x4e2a;&#x5185;&#x5b58;&#x533a;&#x57df;&#xff0c;&#x8fd9;&#x4e2a;&#x533a;&#x57df;&#x5b58;&#x50a8;&#x7684;&#x662f;&#x5185;&#x6838;&#x6808;&#x548c;&#x8be5;&#x8fdb;&#x7a0b;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x4e00;&#x4e2a;&#x5c0f;&#x578b;&#x8fdb;&#x7a0b;&#x63cf;&#x8ff0;&#x7b26;thread_info&#x7ed3;&#x6784;. &#x4e4b;&#x6240;&#x4ee5;&#x5c06;thread_info&#x7ed3;&#x6784;&#x79f0;&#x4e4b;&#x4e3a;&#x5c0f;&#x578b;&#x7684;&#x8fdb;&#x7a0b;&#x63cf;&#x8ff0;&#x7b26;&#xff0c;&#x662f;&#x56e0;&#x4e3a;&#x5728;&#x8fd9;&#x4e2a;&#x7ed3;&#x6784;&#x4e2d;&#x5e76;&#x6ca1;&#x6709;&#x76f4;&#x63a5;&#x5305;&#x542b;&#x4e0e;&#x8fdb;&#x7a0b;&#x76f8;&#x5173;&#x7684;&#x5b57;&#x6bb5;&#xff0c;&#x800c;&#x662f;&#x901a;&#x8fc7;task&#x5b57;&#x6bb5;&#x6307;&#x5411;&#x5177;&#x4f53;&#x67d0;&#x4e2a;&#x8fdb;&#x7a0b;&#x63cf;&#x8ff0;&#x7b26;&#x3002;&#x901a;&#x5e38;&#x8fd9;&#x5757;&#x5185;&#x5b58;&#x533a;&#x57df;&#x7684;&#x5927;&#x5c0f;&#x662f;8KB&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x4e24;&#x4e2a;&#x9875;&#x7684;&#x5927;&#x5c0f;">
<node CREATED="1412813334689" ID="ID_821971687" MODIFIED="1412813335859" TEXT="struct thread_info">
<node CREATED="1412813348152" ID="ID_568906208" MODIFIED="1412813353426" TEXT="struct task_struct *task;"/>
<node CREATED="1412813376191" ID="ID_1422189556" MODIFIED="1412813384458" TEXT="int preempt_count;">
<node CREATED="1412813495785" ID="ID_1170672750" MODIFIED="1412813514381" TEXT="0-7bit&#x662f;Preemption counter"/>
<node CREATED="1412813526559" ID="ID_97195705" MODIFIED="1412813602063" TEXT="8-15bit&#x662f;Softirq counter"/>
<node CREATED="1412813553225" ID="ID_1437055116" MODIFIED="1412813596311" TEXT="16-27bit&#x662f;Hardirq counter"/>
<node CREATED="1412813576697" ID="ID_1075869680" MODIFIED="1412813591184" TEXT="28bit&#x662f;PREEMPT_ACTIVE flag"/>
</node>
<node CREATED="1412813406505" ID="ID_1199361339" MODIFIED="1412813416379" TEXT="unsigned char supervisor_stack[0];"/>
</node>
<node CREATED="1412813666729" ID="ID_1811022931" MODIFIED="1412813697052">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/thread_info_stack.png" />
  </body>
</html></richcontent>
</node>
<node CREATED="1412813832319" ID="ID_852376293" MODIFIED="1412813834529" TEXT="&#x4ece;&#x4e0a;&#x56fe;&#x53ef;&#x77e5;&#xff0c;&#x5185;&#x6838;&#x6808;&#x662f;&#x4ece;&#x8be5;&#x5185;&#x5b58;&#x533a;&#x57df;&#x7684;&#x9876;&#x5c42;&#x5411;&#x4e0b;&#xff08;&#x4ece;&#x9ad8;&#x5730;&#x5740;&#x5230;&#x4f4e;&#x5730;&#x5740;&#xff09;&#x589e;&#x957f;&#x7684;&#xff0c;&#x800c;thread_info&#x7ed3;&#x6784;&#x5219;&#x662f;&#x4ece;&#x8be5;&#x533a;&#x57df;&#x7684;&#x5f00;&#x59cb;&#x5904;&#x5411;&#x4e0a;&#xff08;&#x4ece;&#x4f4e;&#x5730;&#x5740;&#x5230;&#x9ad8;&#x5730;&#x5740;&#xff09;&#x589e;&#x957f;&#x3002;&#x5185;&#x6838;&#x6808;&#x7684;&#x6808;&#x9876;&#x5730;&#x5740;&#x5b58;&#x50a8;&#x5728;esp&#x5bc4;&#x5b58;&#x5668;&#x4e2d;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x5f53;&#x8fdb;&#x7a0b;&#x4ece;&#x7528;&#x6237;&#x6001;&#x5207;&#x6362;&#x5230;&#x5185;&#x6838;&#x6001;&#x540e;&#xff0c;esp&#x5bc4;&#x5b58;&#x5668;&#x6307;&#x5411;&#x8fd9;&#x4e2a;&#x533a;&#x57df;&#x7684;&#x672b;&#x7aef;"/>
</node>
<node CREATED="1412813786081" FOLDED="true" ID="ID_674905711" MODIFIED="1414540039773" TEXT="&#x4e3a;&#x4f55;&#x8981;&#x5c06;&#x5185;&#x6838;&#x6808;&#x548c;thread_info&#x7d27;&#x5bc6;&#x7684;&#x653e;&#x5728;&#x4e00;&#x8d77;&#xff1f;&#x6700;&#x4e3b;&#x8981;&#x7684;&#x539f;&#x56e0;&#x5c31;&#x662f;&#x5185;&#x6838;&#x53ef;&#x4ee5;&#x5f88;&#x5bb9;&#x6613;&#x7684;&#x901a;&#x8fc7;esp&#x5bc4;&#x5b58;&#x5668;&#x7684;&#x503c;&#x83b7;&#x5f97;&#x5f53;&#x524d;&#x6b63;&#x5728;&#x8fd0;&#x884c;&#x8fdb;&#x7a0b;&#x7684;thread_info&#x7ed3;&#x6784;&#x7684;&#x5730;&#x5740;&#xff0c;&#x8fdb;&#x800c;&#x83b7;&#x5f97;&#x5f53;&#x524d;&#x8fdb;&#x7a0b;&#x63cf;&#x8ff0;&#x7b26;&#x7684;&#x5730;&#x5740;">
<node CREATED="1412813879303" ID="ID_244497531" MODIFIED="1412814055214">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      static inline struct thread_info *current_thread_info(void)
    </p>
    <p>
      {
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;struct thread_info *ti;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;__asm__(&quot;andl %%esp,%0; &quot;:&quot;=r&quot; (ti) : &quot;0&quot; (~(THREAD_SIZE - 1)));
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return ti;
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1412814140415" ID="ID_203957621" MODIFIED="1412814141340" TEXT="&#x8fd9;&#x6761;&#x5185;&#x8054;&#x6c47;&#x7f16;&#x8bed;&#x53e5;&#x4f1a;&#x5c4f;&#x853d;&#x6389;esp&#x5bc4;&#x5b58;&#x5668;&#x4e2d;&#x7684;&#x5185;&#x6838;&#x6808;&#x9876;&#x5730;&#x5740;&#x7684;&#x4f4e;13&#x4f4d;&#xff08;&#x6216;12&#x4f4d;&#xff0c;&#x5f53;THREAD_SIZE&#x4e3a;4096&#x65f6;&#xff09;&#x3002;&#x6b64;&#x65f6;ti&#x6240;&#x6307;&#x7684;&#x5730;&#x5740;&#x5c31;&#x662f;&#x8fd9;&#x7247;&#x5185;&#x5b58;&#x533a;&#x57df;&#x7684;&#x8d77;&#x59cb;&#x5730;&#x5740;&#xff0c;&#x4e5f;&#x5c31;&#x521a;&#x597d;&#x662f;thread_info&#x7ed3;&#x6784;&#x7684;&#x5730;&#x5740;"/>
</node>
<node CREATED="1412814209410" ID="ID_1874400643" MODIFIED="1412814360813">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      linux&#20869;&#26680;&#27491;&#26159;&#36890;&#36807;current_thread_info()&#26469;&#33719;&#21462;&#25105;&#20204;&#32463;&#24120;&#29992;&#30340;current&#30340;
    </p>
    <p>
      #define get_current() (current_thread_info()-&gt;task)
    </p>
    <p>
      #define current get_current()
    </p>
    <p>
      (include/asm-generic/current.h)
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1414603349109" ID="ID_1091906952" MODIFIED="1414603369216" POSITION="left" TEXT="&#x786c;&#x4e2d;&#x65ad;">
<node CREATED="1414603750388" ID="ID_738823935" LINK="http://blog.csdn.net/DroidPhone/article/details/7445825" MODIFIED="1414603863612" TEXT="&#x53c2;&#x8003;&#x6587;&#x7ae0; : Linux&#x4e2d;&#x65ad;&#xff08;interrupt&#xff09;&#x5b50;&#x7cfb;&#x7edf;"/>
<node CREATED="1414603414857" FOLDED="true" ID="ID_1099273549" MODIFIED="1414607856978" TEXT="&#x4e2d;&#x65ad;&#x7cfb;&#x7edf;&#x57fa;&#x672c;&#x539f;&#x7406; ">
<node CREATED="1414603457185" FOLDED="true" ID="ID_1042555702" MODIFIED="1414603901717" TEXT="1.  &#x8bbe;&#x5907;&#x3001;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x548c;CPU">
<node CREATED="1414603539468" ID="ID_1299931497" MODIFIED="1414603541091" TEXT="&#x4e00;&#x4e2a;&#x5b8c;&#x6574;&#x7684;&#x8bbe;&#x5907;&#x4e2d;&#xff0c;&#x4e0e;&#x4e2d;&#x65ad;&#x76f8;&#x5173;&#x7684;&#x786c;&#x4ef6;&#x53ef;&#x4ee5;&#x5212;&#x5206;&#x4e3a;3&#x7c7b;&#xff0c;&#x5b83;&#x4eec;&#x5206;&#x522b;&#x662f;&#xff1a;&#x8bbe;&#x5907;&#x3001;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x548c;CPU&#x672c;&#x8eab;&#xff0c;&#x4e0b;&#x56fe;&#x5c55;&#x793a;&#x4e86;&#x4e00;&#x4e2a;smp&#x7cfb;&#x7edf;&#x4e2d;&#x7684;&#x4e2d;&#x65ad;&#x786c;&#x4ef6;&#x7684;&#x7ec4;&#x6210;&#x7ed3;&#x6784;&#xff1a;"/>
<node CREATED="1414603542698" ID="ID_814854686" MODIFIED="1414603569719">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/interrupt_device_structure.png" />
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414603603762" ID="ID_1079877830" MODIFIED="1414603616639">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#35774;&#22791;</b>&#160; &#35774;&#22791;&#26159;&#21457;&#36215;&#20013;&#26029;&#30340;&#28304;&#65292;&#24403;&#35774;&#22791;&#38656;&#35201;&#35831;&#27714;&#26576;&#31181;&#26381;&#21153;&#30340;&#26102;&#20505;&#65292;&#23427;&#20250;&#21457;&#36215;&#19968;&#20010;&#30828;&#20214;&#20013;&#26029;&#20449;&#21495;&#65292;&#36890;&#24120;&#65292;&#35813;&#20449;&#21495;&#20250;&#36830;&#25509;&#33267;&#20013;&#26029;&#25511;&#21046;&#22120;&#65292;&#30001;&#20013;&#26029;&#25511;&#21046;&#22120;&#20570;&#36827;&#19968;&#27493;&#30340;&#22788;&#29702;&#12290;&#22312;&#29616;&#20195;&#30340;&#31227;&#21160;&#35774;&#22791;&#20013;&#65292;&#21457;&#36215;&#20013;&#26029;&#30340;&#35774;&#22791;&#21487;&#20197;&#20301;&#20110;soc&#65288;system-on-chip&#65289;&#33455;&#29255;&#30340;&#22806;&#37096;&#65292;&#20063;&#21487;&#20197;&#20301;&#20110;soc&#30340;&#20869;&#37096;&#65292;&#22240;&#20026;&#30446;&#21069;&#22823;&#22810;&#25968;soc&#37117;&#38598;&#25104;&#20102;&#22823;&#37327;&#30340;&#30828;&#20214;IP&#65292;&#20363;&#22914;I2C&#12289;SPI&#12289;Display Controller&#31561;&#31561;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414603652660" ID="ID_291990179" MODIFIED="1414603665049">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#20013;&#26029;&#25511;&#21046;&#22120;</b>&#160; &#20013;&#26029;&#25511;&#21046;&#22120;&#36127;&#36131;&#25910;&#38598;&#25152;&#26377;&#20013;&#26029;&#28304;&#21457;&#36215;&#30340;&#20013;&#26029;&#65292;&#29616;&#26377;&#30340;&#20013;&#26029;&#25511;&#21046;&#22120;&#20960;&#20046;&#37117;&#26159;&#21487;&#32534;&#31243;&#30340;&#65292;&#36890;&#36807;&#23545;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#32534;&#31243;&#65292;&#25105;&#20204;&#21487;&#20197;&#25511;&#21046;&#27599;&#20010;&#20013;&#26029;&#28304;&#30340;&#20248;&#20808;&#32423;&#12289;&#20013;&#26029;&#30340;&#30005;&#22120;&#31867;&#22411;&#65292;&#36824;&#21487;&#20197;&#25171;&#24320;&#21644;&#20851;&#38381;&#26576;&#19968;&#20010;&#20013;&#26029;&#28304;&#65292;&#22312;smp&#31995;&#32479;&#20013;&#65292;&#29978;&#33267;&#21487;&#20197;&#25511;&#21046;&#26576;&#20010;&#20013;&#26029;&#28304;&#21457;&#24448;&#21738;&#19968;&#20010;CPU&#36827;&#34892;&#22788;&#29702;&#12290;&#23545;&#20110;ARM&#26550;&#26500;&#30340;soc&#65292;&#20351;&#29992;&#36739;&#22810;&#30340;&#20013;&#26029;&#25511;&#21046;&#22120;&#26159;VIC&#65288;Vector Interrupt Controller&#65289;&#65292;&#36827;&#20837;&#22810;&#26680;&#26102;&#20195;&#20197;&#21518;&#65292;GIC&#65288;General Interrupt Controller&#65289;&#30340;&#24212;&#29992;&#20063;&#24320;&#22987;&#36880;&#28176;&#21464;&#22810;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414603714660" ID="ID_548023250" MODIFIED="1414603728734">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>CPU&#160; </b>cpu&#26159;&#26368;&#32456;&#21709;&#24212;&#20013;&#26029;&#30340;&#37096;&#20214;&#65292;&#23427;&#36890;&#36807;&#23545;&#21487;&#32534;&#31243;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#32534;&#31243;&#25805;&#20316;&#65292;&#25511;&#21046;&#21644;&#31649;&#29702;&#32773;&#31995;&#32479;&#20013;&#30340;&#27599;&#20010;&#20013;&#26029;&#65292;&#24403;&#20013;&#26029;&#25511;&#21046;&#22120;&#26368;&#32456;&#21028;&#23450;&#19968;&#20010;&#20013;&#26029;&#21487;&#20197;&#34987;&#22788;&#29702;&#26102;&#65292;&#20182;&#20250;&#26681;&#25454;&#20107;&#20808;&#30340;&#35774;&#23450;&#65292;&#36890;&#30693;&#20854;&#20013;&#19968;&#20010;&#25110;&#32773;&#26159;&#26576;&#20960;&#20010;cpu&#23545;&#35813;&#20013;&#26029;&#36827;&#34892;&#22788;&#29702;&#65292;&#34429;&#28982;&#20013;&#26029;&#25511;&#21046;&#22120;&#21487;&#20197;&#21516;&#26102;&#36890;&#30693;&#25968;&#20010;cpu&#23545;&#26576;&#19968;&#20010;&#20013;&#26029;&#36827;&#34892;&#22788;&#29702;&#65292;&#23454;&#38469;&#19978;&#65292;&#26368;&#21518;&#21482;&#20250;&#26377;&#19968;&#20010;cpu&#30456;&#24212;&#36825;&#20010;&#20013;&#26029;&#35831;&#27714;&#65292;&#20294;&#20855;&#20307;&#26159;&#21738;&#20010;cpu&#36827;&#34892;&#21709;&#24212;&#26159;&#21487;&#33021;&#26159;&#38543;&#26426;&#30340;&#65292;&#20013;&#26029;&#25511;&#21046;&#22120;&#22312;&#30828;&#20214;&#19978;&#23545;&#36825;&#19968;&#29305;&#24615;&#36827;&#34892;&#20102;&#20445;&#35777;&#65292;&#19981;&#36807;&#36825;&#20063;&#20381;&#36182;&#20110;&#25805;&#20316;&#31995;&#32479;&#23545;&#20013;&#26029;&#31995;&#32479;&#30340;&#36719;&#20214;&#23454;&#29616;&#12290;&#22312;smp&#31995;&#32479;&#20013;&#65292;cpu&#20043;&#38388;&#20063;&#36890;&#36807;IPI&#65288;inter processor interrupt&#65289;&#20013;&#26029;&#36827;&#34892;&#36890;&#20449;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414603903147" FOLDED="true" ID="ID_1036947166" MODIFIED="1414603955709" TEXT="2.  IRQ&#x7f16;&#x53f7;">
<node CREATED="1414603945716" ID="ID_1645191544" MODIFIED="1414603952265">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#31995;&#32479;&#20013;&#27599;&#19968;&#20010;&#27880;&#20876;&#30340;&#20013;&#26029;&#28304;&#65292;&#37117;&#20250;&#20998;&#37197;&#19968;&#20010;&#21807;&#19968;&#30340;&#32534;&#21495;&#29992;&#20110;&#35782;&#21035;&#35813;&#20013;&#26029;&#65292;&#25105;&#20204;&#31216;&#20043;&#20026;IRQ&#32534;&#21495;&#12290;IRQ&#32534;&#21495;&#36143;&#31359;&#22312;&#25972;&#20010;Linux&#30340;&#36890;&#29992;&#20013;&#26029;&#23376;&#31995;&#32479;&#20013;&#12290;&#22312;&#31227;&#21160;&#35774;&#22791;&#20013;&#65292;&#27599;&#20010;&#20013;&#26029;&#28304;&#30340;IRQ&#32534;&#21495;&#37117;&#20250;&#22312;arch&#30456;&#20851;&#30340;&#19968;&#20123;&#22836;&#25991;&#20214;&#20013;&#65292;&#20363;&#22914;arch/xxx/mach-xxx/include/irqs.h&#12290;&#39537;&#21160;&#31243;&#24207;&#22312;&#35831;&#27714;&#20013;&#26029;&#26381;&#21153;&#26102;&#65292;&#23427;&#20250;&#20351;&#29992;IRQ&#32534;&#21495;&#27880;&#20876;&#35813;&#20013;&#26029;&#65292;&#20013;&#26029;&#21457;&#29983;&#26102;&#65292;cpu&#36890;&#24120;&#20250;&#20174;&#20013;&#26029;&#25511;&#21046;&#22120;&#20013;&#33719;&#21462;&#30456;&#20851;&#20449;&#24687;&#65292;&#28982;&#21518;&#35745;&#31639;&#20986;&#30456;&#24212;&#30340;IRQ&#32534;&#21495;&#65292;&#28982;&#21518;&#25226;&#35813;IRQ&#32534;&#21495;&#20256;&#36882;&#21040;&#30456;&#24212;&#30340;&#39537;&#21160;&#31243;&#24207;&#20013;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414603971428" FOLDED="true" ID="ID_847894317" MODIFIED="1414604241951" TEXT="3.  &#x5728;&#x9a71;&#x52a8;&#x7a0b;&#x5e8f;&#x4e2d;&#x7533;&#x8bf7;&#x4e2d;&#x65ad;">
<node CREATED="1414603993356" ID="ID_1646392709" MODIFIED="1414604001090">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Linux&#20013;&#26029;&#23376;&#31995;&#32479;&#21521;&#39537;&#21160;&#31243;&#24207;&#25552;&#20379;&#20102;&#19968;&#31995;&#21015;&#30340;API&#65292;&#20854;&#20013;&#30340;&#19968;&#20010;&#29992;&#20110;&#21521;&#31995;&#32479;&#30003;&#35831;&#20013;&#26029;&#65306;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604016964" ID="ID_1053750737" MODIFIED="1414604058517">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      int request_threaded_irq(unsigned int irq, irq_handler_t handler,&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;irq_handler_t thread_fn, unsigned long irqflags,&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;const char *devname, void *dev_id)
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414604077914" ID="ID_1382956863" MODIFIED="1414604079959" TEXT="irq&#x662f;&#x8981;&#x7533;&#x8bf7;&#x7684;IRQ&#x7f16;&#x53f7;"/>
<node CREATED="1414604097402" ID="ID_1457221814" MODIFIED="1414604104135">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      handler&#26159;&#20013;&#26029;&#22788;&#29702;&#26381;&#21153;&#20989;&#25968;&#65292;&#35813;&#20989;&#25968;&#24037;&#20316;&#22312;&#20013;&#26029;&#19978;&#19979;&#25991;&#20013;&#65292;&#22914;&#26524;&#19981;&#38656;&#35201;&#65292;&#21487;&#20197;&#20256;&#20837;NULL&#65292;&#20294;&#26159;&#19981;&#21487;&#20197;&#21644;thread_fn&#21516;&#26102;&#20026;NULL&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604123362" ID="ID_1970121705" MODIFIED="1414604129464">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      thread_fn&#26159;&#20013;&#26029;&#32447;&#31243;&#30340;&#22238;&#35843;&#20989;&#25968;&#65292;&#24037;&#20316;&#22312;&#20869;&#26680;&#36827;&#31243;&#19978;&#19979;&#25991;&#20013;&#65292;&#22914;&#26524;&#19981;&#38656;&#35201;&#65292;&#21487;&#20197;&#20256;&#20837;NULL&#65292;&#20294;&#26159;&#19981;&#21487;&#20197;&#21644;handler&#21516;&#26102;&#20026;NULL&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604150844" ID="ID_1192595357" MODIFIED="1414604158531">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      irqflags&#26159;&#35813;&#20013;&#26029;&#30340;&#19968;&#20123;&#26631;&#24535;&#65292;&#21487;&#20197;&#25351;&#23450;&#35813;&#20013;&#26029;&#30340;&#30005;&#27668;&#31867;&#22411;&#65292;&#26159;&#21542;&#20849;&#20139;&#31561;&#20449;&#24687;&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604174274" ID="ID_993513471" MODIFIED="1414604180320">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      devname&#25351;&#23450;&#35813;&#20013;&#26029;&#30340;&#21517;&#31216;&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604200044" ID="ID_1965794418" MODIFIED="1414604206669">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      dev_id&#29992;&#20110;&#20849;&#20139;&#20013;&#26029;&#26102;&#30340;cookie data&#65292;&#36890;&#24120;&#29992;&#20110;&#21306;&#20998;&#20849;&#20139;&#20013;&#26029;&#20855;&#20307;&#30001;&#21738;&#20010;&#35774;&#22791;&#21457;&#36215;&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node CREATED="1414604243597" FOLDED="true" ID="ID_347120361" MODIFIED="1414605019455" TEXT="4.  &#x901a;&#x7528;&#x4e2d;&#x65ad;&#x5b50;&#x7cfb;&#x7edf;&#xff08;Generic irq&#xff09;&#x7684;&#x8f6f;&#x4ef6;&#x62bd;&#x8c61;">
<node CREATED="1414604287148" ID="ID_399938879" MODIFIED="1414604293968">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22312;&#36890;&#29992;&#20013;&#26029;&#23376;&#31995;&#32479;&#65288;generic irq&#65289;&#20986;&#29616;&#20043;&#21069;&#65292;&#20869;&#26680;&#20351;&#29992;__do_IRQ&#22788;&#29702;&#25152;&#26377;&#30340;&#20013;&#26029;&#65292;&#36825;&#24847;&#21619;&#30528;__do_IRQ&#20013;&#35201;&#22788;&#29702;&#21508;&#31181;&#31867;&#22411;&#30340;&#20013;&#26029;&#65292;&#36825;&#20250;&#23548;&#33268;&#36719;&#20214;&#30340;&#22797;&#26434;&#24615;&#22686;&#21152;&#65292;&#23618;&#27425;&#19981;&#20998;&#26126;&#65292;&#32780;&#19988;&#20195;&#30721;&#30340;&#21487;&#37325;&#29992;&#24615;&#20063;&#19981;&#22909;&#12290;&#20107;&#23454;&#19978;&#65292;&#21040;&#20102;&#20869;&#26680;&#29256;&#26412;2.6.38&#65292;__do_IRQ&#36825;&#31181;&#26041;&#24335;&#24050;&#32463;&#24443;&#24213;&#22312;&#20869;&#26680;&#30340;&#20195;&#30721;&#20013;&#28040;&#22833;&#20102;&#12290;&#36890;&#29992;&#20013;&#26029;&#23376;&#31995;&#32479;&#30340;&#21407;&#22411;&#26368;&#21021;&#20986;&#29616;&#20110;ARM&#20307;&#31995;&#20013;&#65292;&#19968;&#24320;&#22987;&#20869;&#26680;&#30340;&#24320;&#21457;&#32773;&#20204;&#25226;3&#31181;&#20013;&#26029;&#31867;&#22411;&#21306;&#20998;&#20986;&#26469;&#65292;&#20182;&#20204;&#26159;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414604313701" ID="ID_1060058849" MODIFIED="1414604315750" TEXT="&#x7535;&#x5e73;&#x89e6;&#x53d1;&#x4e2d;&#x65ad;&#xff08;level type&#xff09;"/>
<node CREATED="1414604326194" ID="ID_277183062" MODIFIED="1414604327746" TEXT="&#x8fb9;&#x7f18;&#x89e6;&#x53d1;&#x4e2d;&#x65ad;&#xff08;edge type&#xff09;"/>
<node CREATED="1414604336682" ID="ID_1518947430" MODIFIED="1414604338229" TEXT="&#x7b80;&#x6613;&#x7684;&#x4e2d;&#x65ad;&#xff08;simple type&#xff09;"/>
</node>
<node CREATED="1414604359869" ID="ID_1121096964" MODIFIED="1414604366049">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21518;&#26469;&#21448;&#38024;&#23545;&#26576;&#20123;&#38656;&#35201;&#22238;&#24212;eoi&#65288;end of interrupt&#65289;&#30340;&#20013;&#26029;&#25511;&#21046;&#22120;&#65292;&#21152;&#20837;&#20102;fast eoi type&#65292;&#38024;&#23545;smp&#21152;&#20837;&#20102;per cpu type&#12290;&#25226;&#36825;&#20123;&#19981;&#21516;&#30340;&#20013;&#26029;&#31867;&#22411;&#25277;&#35937;&#20986;&#26469;&#21518;&#65292;&#25104;&#20026;&#20102;&#20013;&#26029;&#23376;&#31995;&#32479;&#30340;&#27969;&#25511;&#23618;&#12290;&#35201;&#20351;&#25152;&#26377;&#30340;&#20307;&#31995;&#26550;&#26500;&#37117;&#21487;&#20197;&#37325;&#29992;&#36825;&#37096;&#20998;&#30340;&#20195;&#30721;&#65292;&#20013;&#26029;&#25511;&#21046;&#22120;&#20063;&#34987;&#36827;&#19968;&#27493;&#22320;&#23553;&#35013;&#36215;&#26469;&#65292;&#24418;&#25104;&#20102;&#20013;&#26029;&#23376;&#31995;&#32479;&#20013;&#30340;&#30828;&#20214;&#23553;&#35013;&#23618;&#12290;&#25105;&#20204;&#21487;&#20197;&#29992;&#19979;&#38754;&#30340;&#22270;&#31034;&#34920;&#31034;&#36890;&#29992;&#20013;&#26029;&#23376;&#31995;&#32479;&#30340;&#23618;&#27425;&#32467;&#26500;&#65306;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604413044" ID="ID_1058505908" MODIFIED="1414604423857">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/generic_irq_framework.png" />
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604453850" FOLDED="true" ID="ID_1089197563" MODIFIED="1414604643463">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#30828;&#20214;&#23553;&#35013;&#23618;</b>&#160; &#23427;&#21253;&#21547;&#20102;&#20307;&#31995;&#26550;&#26500;&#30456;&#20851;&#30340;&#25152;&#26377;&#20195;&#30721;&#65292;&#21253;&#25324;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#25277;&#35937;&#23553;&#35013;&#65292;arch&#30456;&#20851;&#30340;&#20013;&#26029;&#21021;&#22987;&#21270;&#65292;&#20197;&#21450;&#21508;&#20010;IRQ&#30340;&#30456;&#20851;&#25968;&#25454;&#32467;&#26500;&#30340;&#21021;&#22987;&#21270;&#24037;&#20316;&#65292;cpu&#30340;&#20013;&#26029;&#20837;&#21475;&#20063;&#20250;&#22312;arch&#30456;&#20851;&#30340;&#20195;&#30721;&#20013;&#23454;&#29616;&#12290;&#20013;&#26029;&#36890;&#29992;&#36923;&#36753;&#23618;&#36890;&#36807;&#26631;&#20934;&#30340;&#23553;&#35013;&#25509;&#21475;&#65288;&#23454;&#38469;&#19978;&#23601;&#26159;struct irq_chip&#23450;&#20041;&#30340;&#25509;&#21475;&#65289;&#35775;&#38382;&#24182;&#25511;&#21046;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#34892;&#20026;&#65292;&#20307;&#31995;&#30456;&#20851;&#30340;&#20013;&#26029;&#20837;&#21475;&#20989;&#25968;&#22312;&#33719;&#21462;IRQ&#32534;&#21495;&#21518;&#65292;&#36890;&#36807;&#20013;&#26029;&#36890;&#29992;&#36923;&#36753;&#23618;&#25552;&#20379;&#30340;&#26631;&#20934;&#20989;&#25968;&#65292;&#25226;&#20013;&#26029;&#35843;&#29992;&#20256;&#36882;&#21040;&#20013;&#26029;&#27969;&#25511;&#23618;&#20013;&#12290;&#25105;&#20204;&#30475;&#30475;irq_chip&#30340;&#37096;&#20998;&#23450;&#20041;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1379487562036" FOLDED="true" ID="ID_694209691" MODIFIED="1414604565159" TEXT=" struct irq_chip&#xa;&#x4e00;&#x7ec4;&#x7528;&#x6765;&#x5bf9;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x8fdb;&#x884c;&#x7f16;&#x7a0b;&#x7684;&#x51fd;&#x6570;">
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" const char *name"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" unsigned int (*irq_startup)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_shutdown)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_enable)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_disable)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_ack)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_mask)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_mask_ack)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_unmask)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_eoi)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" int (*irq_set_affinity)(struct irq_data *data, const struct cpumask *dest, bool force)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" int (*irq_retrigger)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" int (*irq_set_type)(struct irq_data *data, unsigned int flow_type)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" int (*irq_set_wake)(struct irq_data *data, unsigned int on)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_bus_lock)(struct irq_data *data)"/>
<node CREATED="1379487562037" ID="ID_281287218" MODIFIED="1379487562037" TEXT=" void (*irq_bus_sync_unlock)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_cpu_online)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_cpu_offline)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_suspend)(struct irq_data *data)"/>
<node CREATED="1379487562037" ID="ID_696334731" MODIFIED="1379487562037" TEXT=" void (*irq_resume)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_pm_shutdown)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_print_chip)(struct irq_data *data, struct seq_file *p)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" unsigned long flags"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*release)(unsigned int irq, void *dev_id)"/>
</node>
<node CREATED="1414604567458" ID="ID_857224906" MODIFIED="1414604573773">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#30475;&#21040;&#19978;&#38754;&#30340;&#32467;&#26500;&#23450;&#20041;&#65292;&#24456;&#26126;&#26174;&#65292;&#23427;&#23454;&#38469;&#19978;&#23601;&#26159;&#23545;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#25509;&#21475;&#25277;&#35937;&#65292;&#25105;&#20204;&#21482;&#35201;&#23545;&#27599;&#20010;&#20013;&#26029;&#25511;&#21046;&#22120;&#23454;&#29616;&#20197;&#19978;&#25509;&#21475;&#65288;&#19981;&#24517;&#20840;&#37096;&#65289;&#65292;&#24182;&#25226;&#23427;&#21644;&#30456;&#24212;&#30340;irq&#20851;&#32852;&#36215;&#26469;&#65292;&#19978;&#23618;&#30340;&#23454;&#29616;&#21363;&#21487;&#36890;&#36807;&#36825;&#20123;&#25509;&#21475;&#35775;&#38382;&#20013;&#26029;&#25511;&#21046;&#22120;&#12290;&#32780;&#19988;&#65292;&#21516;&#19968;&#20010;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#20195;&#30721;&#21487;&#20197;&#26041;&#20415;&#22320;&#34987;&#19981;&#21516;&#30340;&#24179;&#21488;&#25152;&#37325;&#29992;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414604621837" FOLDED="true" ID="ID_1573166310" MODIFIED="1414604795334">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#20013;&#26029;&#27969;&#25511;&#23618;</b>&#160; &#25152;&#35859;&#20013;&#26029;&#27969;&#25511;&#26159;&#25351;&#21512;&#29702;&#24182;&#27491;&#30830;&#22320;&#22788;&#29702;&#36830;&#32493;&#21457;&#29983;&#30340;&#20013;&#26029;&#65292;&#27604;&#22914;&#19968;&#20010;&#20013;&#26029;&#22312;&#22788;&#29702;&#20013;&#65292;&#21516;&#19968;&#20010;&#20013;&#26029;&#20877;&#27425;&#21040;&#36798;&#26102;&#22914;&#20309;&#22788;&#29702;&#65292;&#20309;&#26102;&#24212;&#35813;&#23631;&#34109;&#20013;&#26029;&#65292;&#20309;&#26102;&#25171;&#24320;&#20013;&#26029;&#65292;&#20309;&#26102;&#22238;&#24212;&#20013;&#26029;&#25511;&#21046;&#22120;&#31561;&#19968;&#31995;&#21015;&#30340;&#25805;&#20316;&#12290;&#35813;&#23618;&#23454;&#29616;&#20102;&#19982;&#20307;&#31995;&#21644;&#30828;&#20214;&#26080;&#20851;&#30340;&#20013;&#26029;&#27969;&#25511;&#22788;&#29702;&#25805;&#20316;&#65292;&#23427;&#38024;&#23545;&#19981;&#21516;&#30340;&#20013;&#26029;&#30005;&#27668;&#31867;&#22411;&#65288;level&#65292;edge......&#65289;&#65292;&#23454;&#29616;&#20102;&#23545;&#24212;&#30340;&#26631;&#20934;&#20013;&#26029;&#27969;&#25511;&#22788;&#29702;&#20989;&#25968;&#65292;&#22312;&#36825;&#20123;&#22788;&#29702;&#20989;&#25968;&#20013;&#65292;&#26368;&#32456;&#20250;&#25226;&#20013;&#26029;&#25511;&#21046;&#26435;&#20256;&#36882;&#21040;&#39537;&#21160;&#31243;&#24207;&#27880;&#20876;&#20013;&#26029;&#26102;&#20256;&#20837;&#30340;&#22788;&#29702;&#20989;&#25968;&#25110;&#32773;&#26159;&#20013;&#26029;&#32447;&#31243;&#20013;&#12290;&#30446;&#21069;&#20869;&#26680;&#25552;&#20379;&#20102;&#20197;&#19979;&#20960;&#20010;&#20027;&#35201;&#30340;&#20013;&#26029;&#27969;&#25511;&#20989;&#25968;&#30340;&#23454;&#29616;:
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414604671365" ID="ID_1517887263" MODIFIED="1414604673381" TEXT="handle_simple_irq()"/>
<node CREATED="1414604683517" ID="ID_353324018" MODIFIED="1414604738310">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      handle_level_irq()
    </p>
    <p>
      &#30005;&#24179;&#20013;&#26029;&#27969;&#25511;&#22788;&#29702;&#31243;&#24207;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604695163" ID="ID_801483294" MODIFIED="1414604754221">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      handle_edge_irq()
    </p>
    <p>
      &#36793;&#27839;&#35302;&#21457;&#20013;&#26029;&#27969;&#25511;&#22788;&#29702;&#31243;&#24207;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604706659" ID="ID_357528273" MODIFIED="1414604771004">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      handle_fasteoi_irq()
    </p>
    <p>
      &#38656;&#35201;eoi&#30340;&#20013;&#26029;&#22788;&#29702;&#22120;&#20351;&#29992;&#30340;&#20013;&#26029;&#27969;&#25511;&#22788;&#29702;&#31243;&#24207;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414604719362" ID="ID_802576639" MODIFIED="1414604786465">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      handle_percpu_irq()
    </p>
    <p>
      &#35813;irq&#21482;&#26377;&#21333;&#20010;cpu&#21709;&#24212;&#26102;&#20351;&#29992;&#30340;&#27969;&#25511;&#22788;&#29702;&#31243;&#24207;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414604809627" FOLDED="true" ID="ID_1695661510" MODIFIED="1414604903463">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#20013;&#26029;&#36890;&#29992;&#36923;&#36753;&#23618;</b>&#160; &#35813;&#23618;&#23454;&#29616;&#20102;&#23545;&#20013;&#26029;&#31995;&#32479;&#20960;&#20010;&#37325;&#35201;&#25968;&#25454;&#30340;&#31649;&#29702;&#65292;&#24182;&#25552;&#20379;&#20102;&#19968;&#31995;&#21015;&#30340;&#36741;&#21161;&#31649;&#29702;&#20989;&#25968;&#12290;&#21516;&#26102;&#65292;&#35813;&#23618;&#36824;&#23454;&#29616;&#20102;&#20013;&#26029;&#32447;&#31243;&#30340;&#23454;&#29616;&#21644;&#31649;&#29702;&#65292;&#20849;&#20139;&#20013;&#26029;&#21644;&#23884;&#22871;&#20013;&#26029;&#30340;&#23454;&#29616;&#21644;&#31649;&#29702;&#65292;&#21478;&#22806;&#23427;&#36824;&#25552;&#20379;&#20102;&#19968;&#20123;&#25509;&#21475;&#20989;&#25968;&#65292;&#23427;&#20204;&#23558;&#20316;&#20026;&#30828;&#20214;&#23553;&#35013;&#23618;&#21644;&#20013;&#26029;&#27969;&#25511;&#23618;&#20197;&#21450;&#39537;&#21160;&#31243;&#24207;API&#23618;&#20043;&#38388;&#30340;&#26725;&#26753;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414604834669" ID="ID_433270679" MODIFIED="1414604836604" TEXT="generic_handle_irq()"/>
<node CREATED="1414604847021" ID="ID_996499898" MODIFIED="1414604848554" TEXT="irq_to_desc()"/>
<node CREATED="1414604861980" ID="ID_923969492" MODIFIED="1414604863678" TEXT="irq_set_chip()"/>
<node CREATED="1414604874909" ID="ID_599188700" MODIFIED="1414604876479" TEXT="irq_set_chained_handler()"/>
</node>
<node CREATED="1414604904885" FOLDED="true" ID="ID_1228173995" MODIFIED="1414605006046">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#39537;&#21160;&#31243;&#24207;API </b>&#160; &#35813;&#37096;&#20998;&#21521;&#39537;&#21160;&#31243;&#24207;&#25552;&#20379;&#20102;&#19968;&#31995;&#21015;&#30340;API&#65292;&#29992;&#20110;&#21521;&#31995;&#32479;&#30003;&#35831;/&#37322;&#25918;&#20013;&#26029;&#65292;&#25171;&#24320;/&#20851;&#38381;&#20013;&#26029;&#65292;&#35774;&#32622;&#20013;&#26029;&#31867;&#22411;&#21644;&#20013;&#26029;&#21796;&#37266;&#31995;&#32479;&#30340;&#29305;&#24615;&#31561;&#25805;&#20316;&#12290;&#39537;&#21160;&#31243;&#24207;&#30340;&#24320;&#21457;&#32773;&#36890;&#24120;&#21482;&#20250;&#20351;&#29992;&#21040;&#36825;&#19968;&#23618;&#25552;&#20379;&#30340;&#36825;&#20123;API&#21363;&#21487;&#23436;&#25104;&#39537;&#21160;&#31243;&#24207;&#30340;&#24320;&#21457;&#24037;&#20316;&#65292;&#20854;&#20182;&#30340;&#32454;&#33410;&#37117;&#30001;&#21478;&#22806;&#20960;&#20010;&#36719;&#20214;&#23618;&#36739;&#22909;&#22320;&#8220;&#38544;&#34255;&#8221;&#36215;&#26469;&#20102;&#65292;&#39537;&#21160;&#31243;&#24207;&#24320;&#21457;&#32773;&#26080;&#38656;&#20877;&#20851;&#27880;&#24213;&#23618;&#30340;&#23454;&#29616;&#65292;&#36825;&#30475;&#36215;&#26469;&#30830;&#23454;&#26159;&#19968;&#20214;&#32654;&#22937;&#30340;&#20107;&#24773;&#65292;&#19981;&#36807;&#25105;&#35748;&#20026;&#65292;&#35201;&#24819;&#20889;&#20986;&#22909;&#30340;&#20013;&#26029;&#20195;&#30721;&#65292;&#36824;&#26159;&#33457;&#28857;&#26102;&#38388;&#20102;&#35299;&#19968;&#19979;&#20854;&#20182;&#20960;&#23618;&#30340;&#23454;&#29616;&#21543;&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414604926669" ID="ID_1485874768" MODIFIED="1414604928427" TEXT="enable_irq()"/>
<node CREATED="1414604937981" ID="ID_943311957" MODIFIED="1414604939455" TEXT="disable_irq()"/>
<node CREATED="1414604949109" ID="ID_180174583" MODIFIED="1414604950564" TEXT="disable_irq_nosync()"/>
<node CREATED="1414604959139" ID="ID_676361827" MODIFIED="1414604960590" TEXT="request_threaded_irq()"/>
<node CREATED="1414604971381" ID="ID_892810647" MODIFIED="1414604972875" TEXT="irq_set_affinity()"/>
</node>
</node>
<node CREATED="1414605026517" FOLDED="true" ID="ID_1614884252" MODIFIED="1414607447921" TEXT="5.  irq&#x63cf;&#x8ff0;&#x7ed3;&#x6784;&#xff1a;struct irq_desc">
<node CREATED="1414605045701" FOLDED="true" ID="ID_1341209026" MODIFIED="1414605241511">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25972;&#20010;&#36890;&#29992;&#20013;&#26029;&#23376;&#31995;&#32479;&#20960;&#20046;&#37117;&#26159;&#22260;&#32469;&#30528;irq_desc&#32467;&#26500;&#36827;&#34892;&#65292;&#31995;&#32479;&#20013;&#27599;&#19968;&#20010;irq&#37117;&#23545;&#24212;&#30528;&#19968;&#20010;irq_desc&#32467;&#26500;&#65292;&#25152;&#26377;&#30340;irq_desc&#32467;&#26500;&#30340;&#32452;&#32455;&#26041;&#24335;&#26377;&#20004;&#31181;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414605068331" ID="ID_169015815" MODIFIED="1414605086046">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#22522;&#20110;&#25968;&#32452;&#26041;&#24335;</b>&#160; &#24179;&#21488;&#30456;&#20851;&#26495;&#32423;&#20195;&#30721;&#20107;&#20808;&#26681;&#25454;&#31995;&#32479;&#20013;&#30340;IRQ&#25968;&#37327;&#65292;&#23450;&#20041;&#24120;&#37327;&#65306;NR_IRQS&#65292;&#22312;kernel/irq/irqdesc.c&#20013;&#20351;&#29992;&#35813;&#24120;&#37327;&#23450;&#20041;irq_desc&#32467;&#26500;&#25968;&#32452;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414605109052" ID="ID_1228865427" MODIFIED="1414605120661">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;struct irq_desc irq_desc[NR_IRQS] __cacheline_aligned_in_smp = {&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[0 ... NR_IRQS-1] = {&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.handle_irq = handle_bad_irq,&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.depth&#160;&#160;&#160;&#160;&#160;&#160;= 1,&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.lock&#160;&#160;&#160;&#160;&#160;&#160;&#160;= __RAW_SPIN_LOCK_UNLOCKED(irq_desc-&gt;lock),&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;};&#160;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414605138093" ID="ID_1597070593" MODIFIED="1414605149584">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      <b>&#22522;&#20110;&#22522;&#25968;&#26641;&#26041;&#24335; </b>&#160; &#24403;&#20869;&#26680;&#30340;&#37197;&#32622;&#39033;CONFIG_SPARSE_IRQ&#34987;&#36873;&#20013;&#26102;&#65292;&#20869;&#26680;&#20351;&#29992;&#22522;&#25968;&#26641;&#65288;radix tree&#65289;&#26469;&#31649;&#29702;irq_desc&#32467;&#26500;&#65292;&#36825;&#19968;&#26041;&#24335;&#21487;&#20197;&#21160;&#24577;&#22320;&#20998;&#37197;irq_desc&#32467;&#26500;&#65292;&#23545;&#20110;&#37027;&#20123;&#20855;&#22791;&#22823;&#37327;IRQ&#25968;&#37327;&#25110;&#32773;IRQ&#32534;&#21495;&#19981;&#36830;&#32493;&#30340;&#31995;&#32479;&#65292;&#20351;&#29992;&#35813;&#26041;&#24335;&#31649;&#29702;irq_desc&#23545;&#20869;&#23384;&#30340;&#33410;&#30465;&#26377;&#22909;&#22788;&#65292;&#32780;&#19988;&#23545;&#37027;&#20123;&#33258;&#24102;&#20013;&#26029;&#25511;&#21046;&#22120;&#31649;&#29702;&#35774;&#22791;&#33258;&#36523;&#22810;&#20010;&#20013;&#26029;&#28304;&#30340;&#22806;&#37096;&#35774;&#22791;&#65292;&#23427;&#20204;&#21487;&#20197;&#22312;&#39537;&#21160;&#31243;&#24207;&#20013;&#21160;&#24577;&#22320;&#30003;&#35831;&#36825;&#20123;&#20013;&#26029;&#28304;&#25152;&#23545;&#24212;&#30340;irq_desc&#32467;&#26500;&#65292;&#32780;&#19981;&#24517;&#22312;&#31995;&#32479;&#30340;&#32534;&#35793;&#38454;&#27573;&#20445;&#30041;irq_desc&#32467;&#26500;&#25152;&#38656;&#30340;&#20869;&#23384;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1379412877149" FOLDED="true" ID="ID_1817056974" MODIFIED="1414607378993" TEXT="&#x6240;&#x6709;&#x4e2d;&#x65ad;&#x63cf;&#x8ff0;&#x7b26;&#x5b58;&#x653e;&#x5728;struct irq_desc irq_desc[NR_IRQS], &#xa;&#x5b83;&#x5b9a;&#x4e49;&#x5728;kernel/irq/irqdesc.c&#x4e2d;">
<node CREATED="1379481517706" FOLDED="true" ID="ID_743951786" MODIFIED="1414607337490">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;struct irq_data irq_data
    </p>
    <p>
      
    </p>
    <p>
      irq_data&#160; &#36825;&#20010;&#20869;&#23884;&#32467;&#26500;&#22312;2.6.37&#29256;&#26412;&#24341;&#20837;&#65292;&#20043;&#21069;&#30340;&#20869;&#26680;&#29256;&#26412;&#30340;&#20570;&#27861;&#26159;&#30452;&#25509;&#25226;&#36825;&#20010;&#32467;&#26500;&#20013;&#30340;&#23383;&#27573;&#30452;&#25509;&#25918;&#32622;&#22312;irq_desc&#32467;&#26500;&#20307;&#20013;&#65292;&#28982;&#21518;&#22312;&#35843;&#29992;&#30828;&#20214;&#23553;&#35013;&#23618;&#30340;chip-&gt;xxx()&#22238;&#35843;&#20013;&#20256;&#20837;IRQ&#32534;&#21495;&#20316;&#20026;&#21442;&#25968;&#65292;&#20294;&#26159;&#24213;&#23618;&#30340;&#20989;&#25968;&#32463;&#24120;&#38656;&#35201;&#35775;&#38382;-&gt;handler_data&#65292;-&gt;chip_data&#65292;-&gt;msi_desc&#31561;&#23383;&#27573;&#65292;&#36825;&#38656;&#35201;&#21033;&#29992;irq_to_desc(irq)&#26469;&#33719;&#24471;irq_desc&#32467;&#26500;&#30340;&#25351;&#38024;&#65292;&#28982;&#21518;&#25165;&#33021;&#35775;&#38382;&#19978;&#36848;&#23383;&#27573;&#65292;&#32773;&#24102;&#26469;&#20102;&#24615;&#33021;&#30340;&#38477;&#20302;&#65292;&#23588;&#20854;&#22312;&#37197;&#32622;&#20026;sparse irq&#30340;&#31995;&#32479;&#20013;&#26356;&#26159;&#22914;&#27492;&#65292;&#22240;&#20026;&#36825;&#24847;&#21619;&#30528;&#22522;&#25968;&#26641;&#30340;&#25628;&#32034;&#25805;&#20316;&#12290;&#20026;&#20102;&#35299;&#20915;&#36825;&#19968;&#38382;&#39064;&#65292;&#20869;&#26680;&#24320;&#21457;&#32773;&#25226;&#20960;&#20010;&#20302;&#23618;&#20989;&#25968;&#38656;&#35201;&#20351;&#29992;&#30340;&#23383;&#27573;&#21333;&#29420;&#23553;&#35013;&#20026;&#19968;&#20010;&#32467;&#26500;&#65292;&#35843;&#29992;&#26102;&#30340;&#21442;&#25968;&#21017;&#25913;&#20026;&#20256;&#20837;&#35813;&#32467;&#26500;&#30340;&#25351;&#38024;&#12290;&#23454;&#29616;&#21516;&#26679;&#30340;&#30446;&#30340;&#65292;&#37027;&#20026;&#20160;&#20040;&#19981;&#30452;&#25509;&#20256;&#20837;irq_desc&#32467;&#26500;&#25351;&#38024;&#65311;&#22240;&#20026;&#36825;&#20250;&#30772;&#22351;&#23618;&#27425;&#30340;&#23553;&#35013;&#24615;&#65292;&#25105;&#20204;&#19981;&#24076;&#26395;&#20302;&#23618;&#20195;&#30721;&#21487;&#20197;&#30475;&#21040;&#19981;&#24212;&#35813;&#30475;&#21040;&#30340;&#37096;&#20998;&#65292;&#20165;&#27492;&#32780;&#24050;&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1379487562035" ID="ID_1769229268" MODIFIED="1414607134418">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;unsigned int irq
    </p>
    <p>
      
    </p>
    <p>
      &#35813;&#32467;&#26500;&#25152;&#23545;&#24212;&#30340;IRQ&#32534;&#21495;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562035" ID="ID_381250551" MODIFIED="1414607157420">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;unsigned long hwirq
    </p>
    <p>
      
    </p>
    <p>
      &#30828;&#20214;irq&#32534;&#21495;&#65292;&#23427;&#19981;&#21516;&#20110;&#19978;&#38754;&#30340;irq&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562035" ID="ID_1410877895" MODIFIED="1414607178255">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;unsigned int node
    </p>
    <p>
      
    </p>
    <p>
      &#36890;&#24120;&#29992;&#20110;hwirq&#21644;irq&#20043;&#38388;&#30340;&#26144;&#23556;&#25805;&#20316;&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562036" ID="ID_383027278" MODIFIED="1414607198784">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;unsigned int state_use_accessors
    </p>
    <p>
      
    </p>
    <p>
      &#30828;&#20214;&#23553;&#35013;&#23618;&#38656;&#35201;&#20351;&#29992;&#30340;&#29366;&#24577;&#20449;&#24687;&#65292;&#19981;&#35201;&#30452;&#25509;&#35775;&#38382;&#35813;&#23383;&#27573;&#65292;&#20869;&#26680;&#23450;&#20041;&#20102;&#19968;&#32452;&#20989;&#25968;&#29992;&#20110;&#35775;&#38382;&#35813;&#23383;&#27573;&#65306;irqd_xxxx()&#65292;&#21442;&#35265;include/linux/irq.h&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562036" FOLDED="true" ID="ID_668327179" MODIFIED="1414607233584" TEXT=" struct irq_chip *chip&#xa;&#x6307;&#x5411;&#x8be5;irq&#x6240;&#x5c5e;&#x7684;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x7684;irq_chip&#x7ed3;&#x6784;&#x6307;&#x9488;, &#x4e00;&#x7ec4;&#x7528;&#x6765;&#x5bf9;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x8fdb;&#x884c;&#x7f16;&#x7a0b;&#x7684;&#x51fd;&#x6570;&#xa;">
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" const char *name"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" unsigned int (*irq_startup)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_shutdown)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_enable)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_disable)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_ack)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_mask)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_mask_ack)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_unmask)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" void (*irq_eoi)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" int (*irq_set_affinity)(struct irq_data *data, const struct cpumask *dest, bool force)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" int (*irq_retrigger)(struct irq_data *data)"/>
<node CREATED="1379487562036" MODIFIED="1379487562036" TEXT=" int (*irq_set_type)(struct irq_data *data, unsigned int flow_type)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" int (*irq_set_wake)(struct irq_data *data, unsigned int on)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_bus_lock)(struct irq_data *data)"/>
<node CREATED="1379487562037" ID="ID_1385652248" MODIFIED="1379487562037" TEXT=" void (*irq_bus_sync_unlock)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_cpu_online)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_cpu_offline)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_suspend)(struct irq_data *data)"/>
<node CREATED="1379487562037" ID="ID_1727672839" MODIFIED="1379487562037" TEXT=" void (*irq_resume)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_pm_shutdown)(struct irq_data *data)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*irq_print_chip)(struct irq_data *data, struct seq_file *p)"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" unsigned long flags"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" void (*release)(unsigned int irq, void *dev_id)"/>
</node>
<node CREATED="1379487562037" FOLDED="true" ID="ID_1469110385" MODIFIED="1414537855390" TEXT=" struct irq_domain *domain">
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" struct list_head list"/>
<node CREATED="1379487562037" MODIFIED="1379487562037" TEXT=" unsigned int irq_base"/>
<node CREATED="1379487562038" MODIFIED="1379487562038" TEXT=" unsigned int nr_irq"/>
<node CREATED="1379487562038" MODIFIED="1379487562038" TEXT=" unsigned int hwirq_base"/>
<node CREATED="1379487562038" MODIFIED="1379487562038" TEXT=" const struct irq_domain_ops *ops">
<node CREATED="1379487562038" MODIFIED="1379487562038" TEXT=" unsigned int (*to_irq)(struct irq_domain *d, unsigned long hwirq)"/>
</node>
<node CREATED="1379487562038" MODIFIED="1379487562038" TEXT=" void *priv"/>
<node CREATED="1379487562038" ID="ID_1620512596" MODIFIED="1379487562038" TEXT=" struct device_node *of_node"/>
</node>
<node CREATED="1379487562038" ID="ID_22611697" MODIFIED="1414607283700">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;void *handler_data
    </p>
    <p>
      
    </p>
    <p>
      &#27599;&#20010;irq&#30340;&#31169;&#26377;&#25968;&#25454;&#25351;&#38024;&#65292;&#35813;&#23383;&#27573;&#30001;&#30828;&#20214;&#23553;&#36716;&#23618;&#20351;&#29992;&#65292;&#20363;&#22914;&#29992;&#20316;&#24213;&#23618;&#30828;&#20214;&#30340;&#22810;&#36335;&#22797;&#29992;&#20013;&#26029;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562038" ID="ID_25844664" MODIFIED="1414607303470">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;void *chip_data
    </p>
    <p>
      
    </p>
    <p>
      &#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#31169;&#26377;&#25968;&#25454;&#65292;&#35813;&#23383;&#27573;&#30001;&#30828;&#20214;&#23553;&#36716;&#23618;&#20351;&#29992;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562038" ID="ID_319296813" MODIFIED="1414607319101">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;struct msi_desc *msi_desc
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;PCIe&#24635;&#32447;&#30340;MSI&#25110;MSI-X&#20013;&#26029;&#26426;&#21046;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379487562038" ID="ID_1834750472" MODIFIED="1414607335315">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;cpumask_var_t affinity
    </p>
    <p>
      
    </p>
    <p>
      &#35760;&#24405;&#35813;irq&#19982;cpu&#20043;&#38388;&#30340;&#20146;&#32536;&#20851;&#31995;&#65292;&#23427;&#20854;&#23454;&#26159;&#19968;&#20010;bit-mask&#65292;&#27599;&#19968;&#20010;bit&#20195;&#34920;&#19968;&#20010;cpu&#65292;&#32622;&#20301;&#21518;&#20195;&#34920;&#35813;cpu&#21487;&#33021;&#22788;&#29702;&#35813;irq&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1379481517706" ID="ID_376827880" MODIFIED="1414606900645">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;unsigned int __percpu *kstat_irqs
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;irq&#30340;&#19968;&#20123;&#32479;&#35745;&#20449;&#24687;&#65292;&#36825;&#20123;&#32479;&#35745;&#20449;&#24687;&#21487;&#20197;&#20174;proc&#25991;&#20214;&#31995;&#32479;&#20013;&#26597;&#35810;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379481517706" ID="ID_174359656" MODIFIED="1379481517706" TEXT=" irq_flow_handler_t handle_irq"/>
<node CREATED="1379481517706" ID="ID_625222281" MODIFIED="1379481517706" TEXT=" irq_preflow_handler_t preflow_handler"/>
<node CREATED="1379481517706" FOLDED="true" ID="ID_874815571" MODIFIED="1414606925149">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;struct irqaction *action
    </p>
    <p>
      
    </p>
    <p>
      &#20013;&#26029;&#21709;&#24212;&#38142;&#34920;&#65292;&#24403;&#19968;&#20010;irq&#34987;&#35302;&#21457;&#26102;&#65292;&#20869;&#26680;&#20250;&#36941;&#21382;&#35813;&#38142;&#34920;&#65292;&#35843;&#29992;action&#32467;&#26500;&#20013;&#30340;&#22238;&#35843;handler&#25110;&#32773;&#28608;&#27963;&#20854;&#20013;&#30340;&#20013;&#26029;&#32447;&#31243;&#65292;&#20043;&#25152;&#20197;&#23454;&#29616;&#20026;&#19968;&#20010;&#38142;&#34920;&#65292;&#26159;&#20026;&#20102;&#23454;&#29616;&#20013;&#26029;&#30340;&#20849;&#20139;&#65292;&#22810;&#20010;&#35774;&#22791;&#20849;&#20139;&#21516;&#19968;&#20010;irq&#65292;&#36825;&#22312;&#22806;&#22260;&#35774;&#22791;&#20013;&#26159;&#26222;&#36941;&#23384;&#22312;&#30340;&#12290;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1379481886866" ID="ID_581753564" MODIFIED="1379488618896" TEXT=" irq_handler_t handler : &#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;"/>
<node CREATED="1379481886866" FOLDED="true" ID="ID_21293288" MODIFIED="1414537878590" TEXT=" unsigned long flags">
<node CREATED="1379482081565" ID="ID_45057189" MODIFIED="1379482084176" TEXT="IRQF_TRIGGER_NONE"/>
<node CREATED="1379482092145" ID="ID_972039978" MODIFIED="1379482092760" TEXT="IRQF_TRIGGER_RISING"/>
<node CREATED="1379482101155" ID="ID_590413372" MODIFIED="1379482101714" TEXT="IRQF_TRIGGER_FALLING"/>
<node CREATED="1379482110458" ID="ID_1506836733" MODIFIED="1379482111196" TEXT="IRQF_TRIGGER_HIGH"/>
<node CREATED="1379482119318" ID="ID_948512080" MODIFIED="1379482119981" TEXT="IRQF_TRIGGER_LOW"/>
<node CREATED="1379482129616" ID="ID_1407823712" MODIFIED="1379482130057" TEXT="IRQF_TRIGGER_PROBE"/>
<node CREATED="1379482138647" ID="ID_566620190" MODIFIED="1379482138851" TEXT="IRQF_DISABLED"/>
<node CREATED="1379482144943" ID="ID_1680249932" MODIFIED="1379482145598" TEXT="IRQF_SHARED"/>
<node CREATED="1379482153762" ID="ID_999280025" MODIFIED="1379482154660" TEXT="IRQF_PROBE_SHARED"/>
<node CREATED="1379482163126" ID="ID_1180422405" MODIFIED="1379482163371" TEXT="__IRQF_TIMER"/>
<node CREATED="1379482170314" ID="ID_1360759243" MODIFIED="1379482171007" TEXT="IRQF_PERCPU"/>
<node CREATED="1379482177978" ID="ID_839720520" MODIFIED="1379482179104" TEXT="IRQF_NOBALANCING"/>
<node CREATED="1379482185645" ID="ID_1027795132" MODIFIED="1379482186865" TEXT="IRQF_IRQPOLL"/>
<node CREATED="1379482193739" ID="ID_311322024" MODIFIED="1379482194889" TEXT="IRQF_ONESHOT"/>
<node CREATED="1379482201311" ID="ID_1586422407" MODIFIED="1379482202487" TEXT="IRQF_NO_SUSPEND"/>
<node CREATED="1379482208634" ID="ID_1780052769" MODIFIED="1379482209781" TEXT="IRQF_FORCE_RESUME"/>
<node CREATED="1379482216558" ID="ID_1251395626" MODIFIED="1379482217317" TEXT="IRQF_NO_THREAD"/>
<node CREATED="1379482224374" ID="ID_797921467" MODIFIED="1379482225402" TEXT="IRQF_EARLY_RESUME"/>
</node>
<node CREATED="1379481886866" ID="ID_669101153" MODIFIED="1379482003819" TEXT=" void *dev_id : &#x4f20;&#x9012;&#x7ed9;handler&#x7684;&#x53c2;&#x6570;"/>
<node CREATED="1379481886866" ID="ID_1517677582" MODIFIED="1379488928418" TEXT=" void __percpu *percpu_dev_id : &#x5f53;status_use_accessors&#x4e0a;&#xa; &#x8bbe;&#x7f6e;&#x6807;&#x8bc6;IRQ_PER_CPU_DEVID&#x65f6;&#x4f20;&#x9012;&#x7ed9;handler&#x7684;&#x53c2;&#x6570;"/>
<node CREATED="1379481886866" ID="ID_950030135" MODIFIED="1379481886866" TEXT=" struct irqaction *next"/>
<node CREATED="1379481886866" ID="ID_1509342428" MODIFIED="1379481886866" TEXT=" int irq"/>
<node CREATED="1379481886867" ID="ID_599701753" MODIFIED="1379489090219" TEXT=" irq_handler_t thread_fn : &#x5f53;&#x8981;&#x6c42;&#x5728;&#x7ebf;&#x7a0b;&#x4e2d;&#x8fd0;&#x884c;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x65f6;, &#x7528;&#x6b64;&#x51fd;&#x6570;&#x4f5c;&#x4e3a;&#x7ebf;&#x7a0b;&#x4e3b;&#x5faa;&#x73af;&#x51fd;&#x6570;"/>
<node CREATED="1379481886867" ID="ID_704326618" MODIFIED="1379489124846" TEXT=" struct task_struct *thread : &#x8fd0;&#x884c;&#x4e2d;&#x65ad;&#x5904;&#x7406;&#x51fd;&#x6570;&#x7684;&#x7ebf;&#x7a0b;"/>
<node CREATED="1379481886867" ID="ID_1028702479" MODIFIED="1379481886867" TEXT=" unsigned long thread_flags"/>
<node CREATED="1379481886867" ID="ID_972470178" MODIFIED="1379481886867" TEXT=" unsigned long thread_mask"/>
<node CREATED="1379481886867" ID="ID_365951252" MODIFIED="1379481886867" TEXT=" const char *name"/>
<node CREATED="1379481886867" ID="ID_817898967" MODIFIED="1379481886867" TEXT=" struct proc_dir_entry *dir"/>
</node>
<node CREATED="1379481517706" FOLDED="true" ID="ID_1697691380" MODIFIED="1414606974225">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      unsigned int status_use_accessors
    </p>
    <p>
      
    </p>
    <p>
      &#35760;&#24405;&#35813;irq&#30340;&#29366;&#24577;&#20449;&#24687;&#65292;&#20869;&#26680;&#25552;&#20379;&#20102;&#19968;&#31995;&#21015;irq_settings_xxx&#30340;&#36741;&#21161;&#20989;&#25968;&#35775;&#38382;&#35813;&#23383;&#27573;&#65292;&#35814;&#32454;&#35831;&#26597;&#30475;kernel/irq/settings.h
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1379488026518" ID="ID_1429180452" MODIFIED="1379488027868" TEXT="IRQ_PER_CPU"/>
<node CREATED="1379488036510" ID="ID_844386427" MODIFIED="1379488037807" TEXT="IRQ_LEVEL"/>
<node CREATED="1379488045560" ID="ID_203498966" MODIFIED="1379488046672" TEXT="IRQ_NOPROBE"/>
<node CREATED="1379488053856" ID="ID_272497111" MODIFIED="1379488316360" TEXT="IRQ_NOREQUEST : &#x6b64;&#x4e2d;&#x65ad;&#x4e0d;&#x80fd;&#x518d;&#x88ab;&#x7533;&#x8bf7;&#xa;&#x4e00;&#x822c;&#x60c5;&#x51b5;&#x4e0b;&#x8868;&#x793a;&#x6b64;&#x4e2d;&#x65ad;&#x662f;&#x4e00;&#x4e2a;&#x5171;&#x4eab;&#x4e2d;&#x65ad;&#x4e14;&#x5df2;&#x5728;arch_init_irq&#x9636;&#x6bb5;&#x88ab;&#x521d;&#x59cb;&#x5316;&#x4e86;,&#xa;&#x6240;&#x4ee5;&#x4e0d;&#x80fd;&#x518d;&#x88ab;&#x52a8;&#x6001;&#x5730;&#x7533;&#x8bf7;"/>
<node CREATED="1379488061839" ID="ID_1889778971" MODIFIED="1379488062518" TEXT="IRQ_NOTHREAD"/>
<node CREATED="1379488074874" ID="ID_1195020660" MODIFIED="1379488075515" TEXT="IRQ_NOAUTOEN"/>
<node CREATED="1379488085450" ID="ID_1741788725" MODIFIED="1379488085596" TEXT="IRQ_MOVE_PCNTXT"/>
<node CREATED="1379488093286" ID="ID_755982297" MODIFIED="1379488093989" TEXT="IRQ_NO_BALANCING"/>
<node CREATED="1379488101365" ID="ID_812267452" MODIFIED="1379488102181" TEXT="IRQ_NESTED_THREAD"/>
<node CREATED="1379488109834" ID="ID_275062056" MODIFIED="1379488748290" TEXT="IRQ_PER_CPU_DEVID : &#x4f20;&#x9012;&#x7ed9;action-&gt;handle&#x7684;&#x53c2;&#x6570;&#x4e3a;action-&gt;percpu_dev_id&#x800c;&#x4e0d;&#x662f;action-&gt;dev_id"/>
<node CREATED="1379488116674" ID="ID_698620596" MODIFIED="1379488117417" TEXT="IRQF_MODIFY_MASK"/>
</node>
<node CREATED="1379481517706" ID="ID_653698519" MODIFIED="1379481517706" TEXT=" unsigned int core_internal_state__do_not_mess_with_it"/>
<node CREATED="1379481517706" ID="ID_1793612367" MODIFIED="1414606993968">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;unsigned int depth
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;&#31649;&#29702;enable_irq()/disable_irq()&#36825;&#20004;&#20010;API&#30340;&#23884;&#22871;&#28145;&#24230;&#31649;&#29702;&#65292;&#27599;&#27425;enable_irq&#26102;&#35813;&#20540;&#20943;&#21435;1&#65292;&#27599;&#27425;disable_irq&#26102;&#35813;&#20540;&#21152;1&#65292;&#21482;&#26377;depth==0&#26102;&#25165;&#30495;&#27491;&#21521;&#30828;&#20214;&#23553;&#35013;&#23618;&#21457;&#20986;&#20851;&#38381;irq&#30340;&#35843;&#29992;&#65292;&#21482;&#26377;depth==1&#26102;&#25165;&#20250;&#21521;&#30828;&#20214;&#23553;&#35013;&#23618;&#21457;&#20986;&#25171;&#24320;irq&#30340;&#35843;&#29992;&#12290;disable&#30340;&#23884;&#22871;&#27425;&#25968;&#21487;&#20197;&#27604;enable&#30340;&#27425;&#25968;&#22810;&#65292;&#27492;&#26102;depth&#30340;&#20540;&#22823;&#20110;1&#65292;&#38543;&#30528;enable&#30340;&#19981;&#26029;&#35843;&#29992;&#65292;&#24403;depth&#30340;&#20540;&#20026;1&#26102;&#65292;&#22312;&#21521;&#30828;&#20214;&#23553;&#35013;&#23618;&#21457;&#20986;&#25171;&#24320;irq&#30340;&#35843;&#29992;&#21518;&#65292;depth&#20943;&#21435;1&#21518;&#65292;&#27492;&#26102;depth&#20026;0&#65292;&#27492;&#26102;&#22788;&#20110;&#19968;&#20010;&#24179;&#34913;&#29366;&#24577;&#65292;&#25105;&#20204;&#21482;&#33021;&#35843;&#29992;disable_irq&#65292;&#22914;&#26524;&#27492;&#26102;enable_irq&#34987;&#35843;&#29992;&#65292;&#20869;&#26680;&#20250;&#25253;&#21578;&#19968;&#20010;irq&#22833;&#34913;&#30340;&#35686;&#21578;&#65292;&#25552;&#37266;&#39537;&#21160;&#31243;&#24207;&#30340;&#24320;&#21457;&#20154;&#21592;&#26816;&#26597;&#33258;&#24049;&#30340;&#20195;&#30721;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379481517706" MODIFIED="1379481517706" TEXT=" unsigned int wake_depth"/>
<node CREATED="1379481517706" MODIFIED="1379481517706" TEXT=" unsigned int irq_count"/>
<node CREATED="1379481517706" MODIFIED="1379481517706" TEXT=" unsigned long last_unhandled"/>
<node CREATED="1379481517706" MODIFIED="1379481517706" TEXT=" unsigned int irqs_unhandled"/>
<node CREATED="1379481517706" ID="ID_649429204" MODIFIED="1414607025847">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;raw_spinlock_t lock
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;&#20445;&#25252;irq_desc&#32467;&#26500;&#26412;&#36523;&#30340;&#33258;&#26059;&#38145;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379481517706" ID="ID_1483274448" MODIFIED="1379481517706" TEXT=" struct cpumask *percpu_enabled"/>
<node CREATED="1379481517706" ID="ID_360394274" MODIFIED="1414607063114">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;const struct cpumask *affinity_hint
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;&#25552;&#31034;&#29992;&#25143;&#31354;&#38388;&#65292;&#20316;&#20026;&#20248;&#21270;irq&#21644;cpu&#20043;&#38388;&#30340;&#20146;&#32536;&#20851;&#31995;&#30340;&#20381;&#25454;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379481517706" MODIFIED="1379481517706" TEXT=" struct irq_affinity_notify *affinity_notify"/>
<node CREATED="1379481517706" ID="ID_148203556" MODIFIED="1414607086765">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;cpumask_var_t pending_mask
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;&#35843;&#25972;irq&#22312;&#21508;&#20010;cpu&#20043;&#38388;&#30340;&#24179;&#34913;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379481517706" ID="ID_1342520340" MODIFIED="1379481517706" TEXT=" unsigned long threads_oneshot"/>
<node CREATED="1379481517706" MODIFIED="1379481517706" TEXT=" atomic_t threads_active"/>
<node CREATED="1379481517707" ID="ID_1391065417" MODIFIED="1414607112781">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;wait_queue_head_t wait_for_threads
    </p>
    <p>
      
    </p>
    <p>
      &#29992;&#20110;synchronize_irq()&#65292;&#31561;&#24453;&#35813;irq&#25152;&#26377;&#32447;&#31243;&#23436;&#25104;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1379481517707" ID="ID_1676031042" MODIFIED="1379481517707" TEXT=" struct proc_dir_entry *dir"/>
<node CREATED="1379481517707" MODIFIED="1379481517707" TEXT=" struct module *owner"/>
<node CREATED="1379481517707" MODIFIED="1379481517707" TEXT=" const char *name"/>
</node>
</node>
<node CREATED="1414607423439" FOLDED="true" ID="ID_1427769439" MODIFIED="1414607574857" TEXT="&#x67b6;&#x6784;&#x4ecb;&#x7ecd;">
<node CREATED="1414607460847" ID="ID_1423686559" MODIFIED="1414607461824" TEXT="&#x7cfb;&#x7edf;&#x542f;&#x52a8;&#x9636;&#x6bb5;&#xff0c;&#x53d6;&#x51b3;&#x4e8e;&#x5185;&#x6838;&#x7684;&#x914d;&#x7f6e;&#xff0c;&#x5185;&#x6838;&#x4f1a;&#x901a;&#x8fc7;&#x6570;&#x7ec4;&#x6216;&#x57fa;&#x6570;&#x6811;&#x5206;&#x914d;&#x597d;&#x8db3;&#x591f;&#x591a;&#x7684;irq_desc&#x7ed3;&#x6784;&#xff1b;"/>
<node CREATED="1414607482103" ID="ID_591366193" MODIFIED="1414607482765" TEXT="&#x6839;&#x636e;&#x4e0d;&#x540c;&#x7684;&#x4f53;&#x7cfb;&#x7ed3;&#x6784;&#xff0c;&#x521d;&#x59cb;&#x5316;&#x4e2d;&#x65ad;&#x76f8;&#x5173;&#x7684;&#x786c;&#x4ef6;&#xff0c;&#x5c24;&#x5176;&#x662f;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#xff1b;"/>
<node CREATED="1414607499943" ID="ID_150924593" MODIFIED="1414607501077" TEXT="&#x4e3a;&#x6bcf;&#x4e2a;&#x5fc5;&#x8981;irq&#x7684;irq_desc&#x7ed3;&#x6784;&#x586b;&#x5145;&#x9ed8;&#x8ba4;&#x7684;&#x5b57;&#x6bb5;&#xff0c;&#x4f8b;&#x5982;irq&#x7f16;&#x53f7;&#xff0c;irq_chip&#x6307;&#x9488;&#xff0c;&#x6839;&#x636e;&#x4e0d;&#x540c;&#x7684;&#x4e2d;&#x65ad;&#x7c7b;&#x578b;&#x914d;&#x7f6e;&#x6d41;&#x63a7;handler&#xff1b;"/>
<node CREATED="1414607511415" ID="ID_1504516547" MODIFIED="1414607512090" TEXT="&#x8bbe;&#x5907;&#x9a71;&#x52a8;&#x7a0b;&#x5e8f;&#x5728;&#x521d;&#x59cb;&#x5316;&#x9636;&#x6bb5;&#xff0c;&#x5229;&#x7528;request_threaded_irq() api&#x7533;&#x8bf7;&#x4e2d;&#x65ad;&#x670d;&#x52a1;&#xff0c;&#x4e24;&#x4e2a;&#x91cd;&#x8981;&#x7684;&#x53c2;&#x6570;&#x662f;handler&#x548c;thread_fn&#xff1b;"/>
<node CREATED="1414607523302" ID="ID_1164674843" MODIFIED="1414607523802" TEXT="&#x5f53;&#x8bbe;&#x5907;&#x89e6;&#x53d1;&#x4e00;&#x4e2a;&#x4e2d;&#x65ad;&#x540e;&#xff0c;cpu&#x4f1a;&#x8fdb;&#x5165;&#x4e8b;&#x5148;&#x8bbe;&#x5b9a;&#x597d;&#x7684;&#x4e2d;&#x65ad;&#x5165;&#x53e3;&#xff0c;&#x5b83;&#x5c5e;&#x4e8e;&#x5e95;&#x5c42;&#x4f53;&#x7cfb;&#x76f8;&#x5173;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x5b83;&#x901a;&#x8fc7;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x83b7;&#x5f97;irq&#x7f16;&#x53f7;&#xff0c;&#x5728;&#x5bf9;irq_data&#x7ed3;&#x6784;&#x4e2d;&#x7684;&#x67d0;&#x4e9b;&#x5b57;&#x6bb5;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x540e;&#xff0c;&#x4f1a;&#x5c06;&#x63a7;&#x5236;&#x6743;&#x4f20;&#x9012;&#x5230;&#x4e2d;&#x65ad;&#x6d41;&#x63a7;&#x5c42;&#xff08;&#x901a;&#x8fc7;irq_desc-&gt;handle_irq&#xff09;&#xff1b;"/>
<node CREATED="1414607557685" ID="ID_1790799850" MODIFIED="1414607558941" TEXT="&#x4e2d;&#x65ad;&#x6d41;&#x63a7;&#x5904;&#x7406;&#x4ee3;&#x7801;&#x5728;&#x4f5c;&#x51fa;&#x5fc5;&#x8981;&#x7684;&#x6d41;&#x63a7;&#x5904;&#x7406;&#x540e;&#xff0c;&#x901a;&#x8fc7;irq_desc-&gt;action&#x94fe;&#x8868;&#xff0c;&#x53d6;&#x51fa;&#x9a71;&#x52a8;&#x7a0b;&#x5e8f;&#x7533;&#x8bf7;&#x4e2d;&#x65ad;&#x65f6;&#x6ce8;&#x518c;&#x7684;handler&#x548c;thread_fn&#xff0c;&#x6839;&#x636e;&#x5b83;&#x4eec;&#x7684;&#x8d4b;&#x503c;&#x60c5;&#x51b5;&#xff0c;&#x6216;&#x8005;&#x53ea;&#x662f;&#x8c03;&#x7528;handler&#x56de;&#x8c03;&#xff0c;&#x6216;&#x8005;&#x542f;&#x52a8;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#x6267;&#x884c;thread_fn&#xff0c;&#x53c8;&#x6216;&#x8005;&#x4e24;&#x8005;&#x90fd;&#x6267;&#x884c;&#xff1b;"/>
<node CREATED="1414607569614" ID="ID_926086002" MODIFIED="1414607570166" TEXT="&#x81f3;&#x6b64;&#xff0c;&#x4e2d;&#x65ad;&#x6700;&#x7ec8;&#x7531;&#x9a71;&#x52a8;&#x7a0b;&#x5e8f;&#x8fdb;&#x884c;&#x4e86;&#x54cd;&#x5e94;&#x548c;&#x5904;&#x7406;&#x3002;"/>
</node>
<node CREATED="1414607607991" FOLDED="true" ID="ID_1158758644" MODIFIED="1414607849434" TEXT="6.  &#x4e2d;&#x65ad;&#x5b50;&#x7cfb;&#x7edf;&#x7684;proc&#x6587;&#x4ef6;&#x63a5;&#x53e3;">
<node CREATED="1414607630159" ID="ID_1449364327" MODIFIED="1414607756809">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22312;/proc&#30446;&#24405;&#19979;&#38754;&#65292;&#26377;&#20004;&#20010;&#19982;&#20013;&#26029;&#23376;&#31995;&#32479;&#30456;&#20851;&#30340;&#25991;&#20214;&#21644;&#23376;&#30446;&#24405;&#65292;&#23427;&#20204;&#26159;&#65306;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;/proc/interrupts&#65306;&#25991;&#20214;
    </p>
    <p>
      &#160;&#160;&#160;&#160;/proc/irq&#65306;&#23376;&#30446;&#24405;
    </p>
    <p>
      
    </p>
    <p>
      &#35835;&#21462;interrupts&#20250;&#20381;&#27425;&#26174;&#31034;irq&#32534;&#21495;&#65292;&#27599;&#20010;cpu&#23545;&#35813;irq&#30340;&#22788;&#29702;&#27425;&#25968;&#65292;&#20013;&#26029;&#25511;&#21046;&#22120;&#30340;&#21517;&#23383;&#65292;irq&#30340;&#21517;&#23383;&#65292;&#20197;&#21450;&#39537;&#21160;&#31243;&#24207;&#27880;&#20876;&#35813;irq&#26102;&#20351;&#29992;&#30340;&#21517;&#23383;&#65292;&#20197;&#19979;&#26159;&#19968;&#20010;&#20363;&#23376;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414607725103" ID="ID_131432247" MODIFIED="1414607737836">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/interrupt_proc.png" />
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414607716269" ID="ID_1130357720" MODIFIED="1414607722547">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      /proc/irq&#30446;&#24405;&#19979;&#38754;&#20250;&#20026;&#27599;&#20010;&#27880;&#20876;&#30340;irq&#21019;&#24314;&#19968;&#20010;&#20197;irq&#32534;&#21495;&#20026;&#21517;&#23383;&#30340;&#23376;&#30446;&#24405;&#65292;&#27599;&#20010;&#23376;&#30446;&#24405;&#19979;&#20998;&#21035;&#26377;&#20197;&#19979;&#26465;&#30446;&#65306;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;smp_affinity&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;irq&#21644;cpu&#20043;&#38388;&#30340;&#20146;&#32536;&#32465;&#23450;&#20851;&#31995;&#65307;
    </p>
    <p>
      &#160;&#160;&#160;&#160;smp_affinity_hint&#160;&#160;&#160;&#21482;&#35835;&#26465;&#30446;&#65292;&#29992;&#20110;&#29992;&#25143;&#31354;&#38388;&#20570;irq&#24179;&#34913;&#21482;&#29992;&#65307;
    </p>
    <p>
      &#160;&#160;&#160;&#160;spurious&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#21487;&#20197;&#33719;&#24471;&#35813;irq&#34987;&#22788;&#29702;&#21644;&#26410;&#34987;&#22788;&#29702;&#30340;&#27425;&#25968;&#30340;&#32479;&#35745;&#20449;&#24687;&#65307;
    </p>
    <p>
      &#160;&#160;&#160;&#160;handler_name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39537;&#21160;&#31243;&#24207;&#27880;&#20876;&#35813;irq&#26102;&#20256;&#20837;&#30340;&#22788;&#29702;&#31243;&#24207;&#30340;&#21517;&#23383;&#65307;
    </p>
    <p>
      
    </p>
    <p>
      &#26681;&#25454;irq&#30340;&#19981;&#21516;&#65292;&#20197;&#19978;&#26465;&#30446;&#19981;&#19968;&#23450;&#20250;&#20840;&#37096;&#37117;&#20986;&#29616;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node CREATED="1414607998040" ID="ID_1046811410" MODIFIED="1414607999415" TEXT="arch&#x76f8;&#x5173;&#x7684;&#x786c;&#x4ef6;&#x5c01;&#x88c5;&#x5c42; ">
<node CREATED="1414608029312" ID="ID_1784163798" MODIFIED="1414608035301">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      Linux&#30340;&#36890;&#29992;&#20013;&#26029;&#23376;&#31995;&#32479;&#30340;&#19968;&#20010;&#35774;&#35745;&#21407;&#21017;&#23601;&#26159;&#25226;&#24213;&#23618;&#30340;&#30828;&#20214;&#23454;&#29616;&#23613;&#21487;&#33021;&#22320;&#38544;&#34255;&#36215;&#26469;&#65292;&#20351;&#24471;&#39537;&#21160;&#31243;&#24207;&#30340;&#24320;&#21457;&#20154;&#21592;&#19981;&#29992;&#20851;&#27880;&#24213;&#23618;&#30340;&#23454;&#29616;&#65292;&#35201;&#23454;&#29616;&#36825;&#20010;&#30446;&#26631;&#65292;&#20869;&#26680;&#30340;&#24320;&#21457;&#32773;&#20204;&#24517;&#39035;&#25226;&#30828;&#20214;&#30456;&#20851;&#30340;&#20869;&#23481;&#21093;&#31163;&#20986;&#26469;&#65292;&#28982;&#21518;&#23450;&#20041;&#19968;&#20123;&#21015;&#26631;&#20934;&#30340;&#25509;&#21475;&#20379;&#19978;&#23618;&#35775;&#38382;&#65292;&#19978;&#23618;&#30340;&#24320;&#21457;&#20154;&#21592;&#21482;&#35201;&#30693;&#36947;&#36825;&#20123;&#25509;&#21475;&#21363;&#21487;&#23436;&#25104;&#23545;&#20013;&#26029;&#30340;&#36827;&#19968;&#27493;&#22788;&#29702;&#21644;&#25511;&#21046;&#12290;&#23545;&#24213;&#23618;&#30340;&#23553;&#35013;&#20027;&#35201;&#21253;&#25324;&#20004;&#37096;&#20998;&#65306;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#23454;&#29616;&#19981;&#21516;&#20307;&#31995;&#32467;&#26500;&#20013;&#26029;&#20837;&#21475;&#65292;&#36825;&#37096;&#20998;&#20195;&#30721;&#36890;&#24120;&#29992;asm&#23454;&#29616;&#65307;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#20013;&#26029;&#25511;&#21046;&#22120;&#36827;&#34892;&#23553;&#35013;&#21644;&#23454;&#29616;&#65307;
    </p>
    <p>
      
    </p>
    <p>
      &#26412;&#25991;&#30340;&#20869;&#23481;&#27491;&#26159;&#35201;&#35752;&#35770;&#30828;&#20214;&#23553;&#35013;&#23618;&#30340;&#23454;&#29616;&#32454;&#33410;&#12290;&#25105;&#23558;&#20197;ARM&#20307;&#31995;&#36827;&#34892;&#20171;&#32461;&#65292;&#22823;&#37096;&#20998;&#30340;&#20195;&#30721;&#20301;&#20110;&#20869;&#26680;&#20195;&#30721;&#26641;&#30340;arch/arm/&#30446;&#24405;&#20869;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414608047784" FOLDED="true" ID="ID_770193241" MODIFIED="1414615335767" TEXT="1.  CPU&#x7684;&#x4e2d;&#x65ad;&#x5165;&#x53e3;">
<node CREATED="1414608075606" FOLDED="true" ID="ID_900212913" MODIFIED="1414614996695">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#25105;&#20204;&#30693;&#36947;&#65292;arm&#30340;&#24322;&#24120;&#21644;&#22797;&#20301;&#21521;&#37327;&#34920;&#26377;&#20004;&#31181;&#36873;&#25321;&#65292;&#19968;&#31181;&#26159;&#20302;&#31471;&#21521;&#37327;&#65292;&#21521;&#37327;&#22320;&#22336;&#20301;&#20110;0x00000000&#65292;&#21478;&#19968;&#31181;&#26159;&#39640;&#31471;&#21521;&#37327;&#65292;&#21521;&#37327;&#22320;&#22336;&#20301;&#20110;0xffff0000&#65292;Linux&#36873;&#25321;&#20351;&#29992;&#39640;&#31471;&#21521;&#37327;&#27169;&#24335;&#65292;&#20063;&#23601;&#26159;&#35828;&#65292;&#24403;&#24322;&#24120;&#21457;&#29983;&#26102;&#65292;CPU&#20250;&#25226;PC&#25351;&#38024;&#33258;&#21160;&#36339;&#36716;&#21040;&#22987;&#20110;0xffff0000&#24320;&#22987;&#30340;&#26576;&#19968;&#20010;&#22320;&#22336;&#19978;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414609971241" ID="ID_878692231" MODIFIED="1414610210600">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;ARM&#30340;&#24322;&#24120;&#21521;&#37327;&#34920;
    </p>
    <table style="border-top-width: 0; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 0; border-right-width: 0; width: 80%; border-left-width: 0; border-top-style: solid" border="0">
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            &#22320;&#22336;
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            &#24322;&#24120;&#31181;&#31867;
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF0000
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            &#22797;&#20301;
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF0004
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            &#26410;&#23450;&#20041;&#25351;&#20196;
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF0008
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            &#36719;&#20013;&#26029;&#65288;swi&#65289;
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF000C
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            Prefetch abort
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF0010
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            Data abort
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF0014
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            &#20445;&#30041;
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF0018
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            IRQ
          </p>
        </td>
      </tr>
      <tr>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FFFF001C
          </p>
        </td>
        <td style="border-top-width: 1; border-bottom-style: solid; border-right-style: solid; border-left-style: solid; border-bottom-width: 1; border-right-width: 1; width: 50%; border-left-width: 1; border-top-style: solid" valign="top">
          <p style="margin-right: 1; margin-bottom: 1; margin-left: 1; margin-top: 1">
            FIQ
          </p>
        </td>
      </tr>
    </table>
    <p>
      
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414612131754" FOLDED="true" ID="ID_875393075" MODIFIED="1414615004512" TEXT="&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x8868;&#x5728;arch/arm/kernel/entry_armv.S&#x4e2d;&#x5b9a;&#x4e49;&#xff0c;&#x4e3a;&#x4e86;&#x65b9;&#x4fbf;&#x8ba8;&#x8bba;&#xff0c;&#x4e0b;&#x9762;&#x53ea;&#x5217;&#x51fa;&#x90e8;&#x5206;&#x5173;&#x952e;&#x7684;&#x4ee3;&#x7801;&#xff1a;">
<node CREATED="1414612152258" ID="ID_430119558" MODIFIED="1414612158747">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.globl&#160;&#160;__stubs_start&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;__stubs_start:&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vector_stub irq, IRQ_MODE, 4&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__irq_usr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;0&#160;&#160;(USR_26 / USR_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__irq_invalid&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;1&#160;&#160;(FIQ_26 / FIQ_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__irq_invalid&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;2&#160;&#160;(IRQ_26 / IRQ_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__irq_svc&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;3&#160;&#160;(SVC_26 / SVC_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vector_stub dabt, ABT_MODE, 8&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__dabt_usr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;0&#160;&#160;(USR_26 / USR_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__dabt_invalid&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;1&#160;&#160;(FIQ_26 / FIQ_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__dabt_invalid&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;2&#160;&#160;(IRQ_26 / IRQ_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.long&#160;&#160;&#160;__dabt_svc&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;&#160;3&#160;&#160;(SVC_26 / SVC_32)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;vector_fiq:&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;disable_fiq&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;subs&#160;&#160;&#160;&#160;pc, lr, #4&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;......&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.globl&#160;&#160;__stubs_end&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;__stubs_end:&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.equ&#160;&#160;&#160;&#160;stubs_offset, __vectors_start + 0x200 - __stubs_start&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.globl&#160;&#160;__vectors_start&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;__vectors_start:&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;ARM(&#160;&#160;&#160;swi SYS_ERROR0&#160;&#160;)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;THUMB( svc #0&#160;&#160;&#160;&#160;&#160;&#160;)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;THUMB( nop&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(b)&#160;&#160;&#160;&#160;vector_und + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(ldr)&#160;&#160;pc, .LCvswi + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(b)&#160;&#160;&#160;&#160;vector_pabt + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(b)&#160;&#160;&#160;&#160;vector_dabt + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(b)&#160;&#160;&#160;&#160;vector_addrexcptn + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(b)&#160;&#160;&#160;&#160;vector_irq + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;W(b)&#160;&#160;&#160;&#160;vector_fiq + stubs_offset&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.globl&#160;&#160;__vectors_end&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;__vectors_end:&#160;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414612182745" ID="ID_1746959077" MODIFIED="1414612188908">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20195;&#30721;&#34987;&#20998;&#20026;&#20004;&#37096;&#20998;&#65306;
    </p>
    <p>
      
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#31532;&#19968;&#37096;&#20998;&#26159;&#30495;&#27491;&#30340;&#21521;&#37327;&#36339;&#36716;&#34920;&#65292;&#20301;&#20110;__vectors_start&#21644;__vectors_end&#20043;&#38388;&#65307;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#31532;&#20108;&#37096;&#20998;&#26159;&#22788;&#29702;&#36339;&#36716;&#30340;&#37096;&#20998;&#65292;&#20301;&#20110;__stubs_start&#21644;__stubs_end&#20043;&#38388;&#65307;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414612207994" ID="ID_26320762" MODIFIED="1414612235427">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      vector_stub irq, IRQ_MODE, 4&#160;
    </p>
    <p>
      &#20197;&#19978;&#36825;&#19968;&#21477;&#25226;&#23439;&#23637;&#24320;&#21518;&#23454;&#38469;&#19978;&#23601;&#26159;&#23450;&#20041;&#20102;vector_irq&#65292;&#26681;&#25454;&#36827;&#20837;&#20013;&#26029;&#21069;&#30340;cpu&#27169;&#24335;&#65292;&#20998;&#21035;&#36339;&#36716;&#21040;__irq_usr&#25110;__irq_svc&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414612248130" ID="ID_520442737" MODIFIED="1414612267962">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      vector_stub dabt, ABT_MODE, 8&#160;
    </p>
    <p>
      &#20197;&#19978;&#36825;&#19968;&#21477;&#25226;&#23439;&#23637;&#24320;&#21518;&#23454;&#38469;&#19978;&#23601;&#26159;&#23450;&#20041;&#20102;vector_dabt&#65292;&#26681;&#25454;&#36827;&#20837;&#20013;&#26029;&#21069;&#30340;cpu&#27169;&#24335;&#65292;&#20998;&#21035;&#36339;&#36716;&#21040;__dabt_usr&#25110;__dabt_svc&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414612310603" FOLDED="true" ID="ID_15962993" MODIFIED="1414615009344">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#31995;&#32479;&#21551;&#21160;&#38454;&#27573;&#65292;&#20301;&#20110;arch/arm/kernel/traps.c&#20013;&#30340;early_trap_init()&#34987;&#35843;&#29992;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414612342555" ID="ID_615704713" MODIFIED="1414612350895">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;void __init early_trap_init(void)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;{&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;......&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* Copy the vectors, stubs and kuser helpers (in entry-armv.S)
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* into the vector page, mapped at 0xffff0000, and ensure these
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;* are visible to the instruction stream.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*/&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;memcpy((void *)vectors, __vectors_start, __vectors_end - __vectors_start);&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;memcpy((void *)vectors + 0x200, __stubs_start, __stubs_end - __stubs_start);&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;......&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414612364860" ID="ID_423593313" MODIFIED="1414612371240">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#20197;&#19978;&#20004;&#20010;memcpy&#20250;&#25226;__vectors_start&#24320;&#22987;&#30340;&#20195;&#30721;&#25335;&#36125;&#21040;0xffff0000&#22788;&#65292;&#25226;__stubs_start&#24320;&#22987;&#30340;&#20195;&#30721;&#25335;&#36125;&#21040;0xFFFF0000+0x200&#22788;&#65292;&#36825;&#26679;&#65292;&#24322;&#24120;&#20013;&#26029;&#21040;&#26469;&#26102;&#65292;CPU&#23601;&#21487;&#20197;&#27491;&#30830;&#22320;&#36339;&#36716;&#21040;&#30456;&#24212;&#20013;&#26029;&#21521;&#37327;&#20837;&#21475;&#24182;&#25191;&#34892;&#20182;&#20204;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414614924398" ID="ID_1407686042" MODIFIED="1414614935391">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/interrupt_vector.png" />
  </body>
</html>
</richcontent>
</node>
</node>
<node CREATED="1414615011822" ID="ID_1325620778" MODIFIED="1414615018726">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#23545;&#20110;&#31995;&#32479;&#30340;&#22806;&#37096;&#35774;&#22791;&#26469;&#35828;&#65292;&#36890;&#24120;&#37117;&#26159;&#20351;&#29992;IRQ&#20013;&#26029;&#65292;&#25152;&#20197;&#25105;&#20204;&#21482;&#20851;&#27880;__irq_usr&#21644;__irq_svc&#65292;&#20004;&#32773;&#30340;&#21306;&#21035;&#26159;&#36827;&#20837;&#21644;&#36864;&#20986;&#20013;&#26029;&#26102;&#26159;&#21542;&#36827;&#34892;&#29992;&#25143;&#26632;&#21644;&#20869;&#26680;&#26632;&#20043;&#38388;&#30340;&#20999;&#25442;&#65292;&#36824;&#26377;&#36827;&#31243;&#35843;&#24230;&#21644;&#25250;&#21344;&#30340;&#22788;&#29702;&#31561;&#65292;&#36825;&#20123;&#32454;&#33410;&#19981;&#22312;&#36825;&#37324;&#35752;&#35770;&#12290;&#20004;&#20010;&#20989;&#25968;&#26368;&#32456;&#37117;&#20250;&#36827;&#20837;irq_handler&#36825;&#20010;&#23439;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414615101622" ID="ID_230090011" MODIFIED="1414615107157">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;.macro&#160;&#160;irq_handler&#160;
    </p>
    <p>
      #ifdef CONFIG_MULTI_IRQ_HANDLER&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;ldr r1, =handle_arch_irq&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;mov r0, sp&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;adr lr, BSYM(9997f)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;ldr pc, [r1]&#160;
    </p>
    <p>
      #else&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;arch_irq_handler_default&#160;
    </p>
    <p>
      #endif&#160;
    </p>
    <p>
      9997:&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;.endm&#160;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414615131222" ID="ID_1206187321" MODIFIED="1414615137696">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#22914;&#26524;&#36873;&#25321;&#20102;MULTI_IRQ_HANDLER&#37197;&#32622;&#39033;&#65292;&#21017;&#24847;&#21619;&#30528;&#20801;&#35768;&#24179;&#21488;&#30340;&#20195;&#30721;&#21487;&#20197;&#21160;&#24577;&#35774;&#32622;irq&#22788;&#29702;&#31243;&#24207;&#65292;&#24179;&#21488;&#20195;&#30721;&#21487;&#20197;&#20462;&#25913;&#20840;&#23616;&#21464;&#37327;&#65306;handle_arch_irq&#65292;&#20174;&#32780;&#21487;&#20197;&#20462;&#25913;irq&#30340;&#22788;&#29702;&#31243;&#24207;&#12290;&#36825;&#37324;&#25105;&#20204;&#35752;&#35770;&#40664;&#35748;&#30340;&#23454;&#29616;&#65306;arch_irq_handler_default&#65292;&#23427;&#20301;&#20110;arch/arm/include/asm/entry_macro_multi.S&#20013;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414615169382" ID="ID_593440904" MODIFIED="1414615176641">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.macro&#160;&#160;arch_irq_handler_default&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;get_irqnr_preamble r6, lr&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;1:&#160;&#160;get_irqnr_and_base r0, r2, r6, lr&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;movne&#160;&#160;&#160;r1, sp&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@ routine called with r0 = irq number, r1 = struct pt_regs *&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;@&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;adrne&#160;&#160;&#160;lr, BSYM(1b)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bne asm_do_IRQ&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;......&#160;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414615201542" ID="ID_1308934807" MODIFIED="1414615206608">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      get_irqnr_preamble&#21644;get_irqnr_and_base&#20004;&#20010;&#23439;&#30001;machine&#32423;&#30340;&#20195;&#30721;&#23450;&#20041;&#65292;&#30446;&#30340;&#23601;&#26159;&#20174;&#20013;&#26029;&#25511;&#21046;&#22120;&#20013;&#33719;&#24471;IRQ&#32534;&#21495;&#65292;&#32039;&#25509;&#30528;&#23601;&#35843;&#29992;asm_do_IRQ&#65292;&#20174;&#36825;&#20010;&#20989;&#25968;&#24320;&#22987;&#65292;&#20013;&#26029;&#31243;&#24207;&#36827;&#20837;C&#20195;&#30721;&#20013;&#65292;&#20256;&#20837;&#30340;&#21442;&#25968;&#26159;IRQ&#32534;&#21495;&#21644;&#23492;&#23384;&#22120;&#32467;&#26500;&#25351;&#38024;&#65292;&#36825;&#20010;&#20989;&#25968;&#22312;arch/arm/kernel/irq.c&#20013;&#23454;&#29616;&#65306;
    </p>
  </body>
</html>
</richcontent>
<node CREATED="1414615248926" ID="ID_1246465561" MODIFIED="1414615255448">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#160;&#160;&#160;&#160;/*
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;* asm_do_IRQ is the interface to be used from assembly code.
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;*/&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;asmlinkage void __exception_irq_entry&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;asm_do_IRQ(unsigned int irq, struct pt_regs *regs)&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;{&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;handle_IRQ(irq, regs);&#160;
    </p>
    <p>
      &#160;&#160;&#160;&#160;}&#160;
    </p>
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414615285510" ID="ID_228734914" MODIFIED="1414615292628">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#21040;&#36825;&#37324;&#65292;&#20013;&#26029;&#31243;&#24207;&#23436;&#25104;&#20102;&#20174;asm&#20195;&#30721;&#21040;C&#20195;&#30721;&#30340;&#20256;&#36882;&#65292;&#24182;&#19988;&#33719;&#24471;&#20102;&#24341;&#36215;&#20013;&#26029;&#30340;IRQ&#32534;&#21495;&#12290;
    </p>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1414615340262" FOLDED="true" ID="ID_269421055" MODIFIED="1414615657985" TEXT="2.  &#x521d;&#x59cb;&#x5316; ">
<node CREATED="1414615507158" ID="ID_544898276" MODIFIED="1414615510075" TEXT="&#x4e0e;&#x901a;&#x7528;&#x4e2d;&#x65ad;&#x5b50;&#x7cfb;&#x7edf;&#x76f8;&#x5173;&#x7684;&#x521d;&#x59cb;&#x5316;&#x7531;start_kernel()&#x51fd;&#x6570;&#x53d1;&#x8d77;&#xff0c;&#x8c03;&#x7528;&#x6d41;&#x7a0b;&#x5982;&#x4e0b;&#x56fe;&#x6240;&#x89c6;&#xff1a;"/>
<node CREATED="1414615536974" ID="ID_445291805" MODIFIED="1414615547041">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <img src="pic/interrupt_init.png" />
  </body>
</html>
</richcontent>
</node>
<node CREATED="1414615570558" ID="ID_289616324" MODIFIED="1414615572426" TEXT="&#x9996;&#x5148;&#xff0c;&#x5728;setup_arch&#x51fd;&#x6570;&#x4e2d;&#xff0c;early_trap_init&#x88ab;&#x8c03;&#x7528;&#xff0c;&#x5176;&#x4e2d;&#x5b8c;&#x6210;&#x4e86;&#x7b2c;1&#x8282;&#x6240;&#x8bf4;&#x7684;&#x4e2d;&#x65ad;&#x5411;&#x91cf;&#x7684;&#x62f7;&#x8d1d;&#x548c;&#x91cd;&#x5b9a;&#x4f4d;&#x5de5;&#x4f5c;&#x3002;"/>
<node CREATED="1414615583614" ID="ID_848057558" MODIFIED="1414615585375" TEXT="&#x7136;&#x540e;&#xff0c;start_kernel&#x53d1;&#x51fa;early_irq_init&#x8c03;&#x7528;&#xff0c;early_irq_init&#x5c5e;&#x4e8e;&#x4e0e;&#x786c;&#x4ef6;&#x548c;&#x5e73;&#x53f0;&#x65e0;&#x5173;&#x7684;&#x901a;&#x7528;&#x903b;&#x8f91;&#x5c42;&#xff0c;&#x5b83;&#x5b8c;&#x6210;irq_desc&#x7ed3;&#x6784;&#x7684;&#x5185;&#x5b58;&#x7533;&#x8bf7;&#xff0c;&#x4e3a;&#x5b83;&#x4eec;&#x5176;&#x4e2d;&#x67d0;&#x4e9b;&#x5b57;&#x6bb5;&#x586b;&#x5145;&#x9ed8;&#x8ba4;&#x503c;&#xff0c;&#x5b8c;&#x6210;&#x540e;&#x8c03;&#x7528;&#x4f53;&#x7cfb;&#x76f8;&#x5173;&#x7684;arch_early_irq_init&#x51fd;&#x6570;&#x5b8c;&#x6210;&#x8fdb;&#x4e00;&#x6b65;&#x7684;&#x521d;&#x59cb;&#x5316;&#x5de5;&#x4f5c;&#xff0c;&#x4e0d;&#x8fc7;ARM&#x4f53;&#x7cfb;&#x6ca1;&#x6709;&#x5b9e;&#x73b0;arch_early_irq_init&#x3002;"/>
<node CREATED="1414615606718" ID="ID_947376678" MODIFIED="1414615608474" TEXT="&#x63a5;&#x7740;&#xff0c;start_kernel&#x53d1;&#x51fa;init_IRQ&#x8c03;&#x7528;&#xff0c;&#x5b83;&#x4f1a;&#x76f4;&#x63a5;&#x8c03;&#x7528;&#x6240;&#x5c5e;&#x677f;&#x5b50;machine_desc&#x7ed3;&#x6784;&#x4f53;&#x4e2d;&#x7684;init_irq&#x56de;&#x8c03;&#x3002;machine_desc&#x901a;&#x5e38;&#x5728;&#x677f;&#x5b50;&#x7684;&#x7279;&#x5b9a;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4f7f;&#x7528;MACHINE_START&#x548c;MACHINE_END&#x5b8f;&#x8fdb;&#x884c;&#x5b9a;&#x4e49;&#x3002;"/>
<node CREATED="1414615619158" ID="ID_1546412991" MODIFIED="1414615620884" TEXT="machine_desc-&gt;init_irq()&#x5b8c;&#x6210;&#x5bf9;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x7684;&#x521d;&#x59cb;&#x5316;&#xff0c;&#x4e3a;&#x6bcf;&#x4e2a;irq_desc&#x7ed3;&#x6784;&#x5b89;&#x88c5;&#x5408;&#x9002;&#x7684;&#x6d41;&#x63a7;handler&#xff0c;&#x4e3a;&#x6bcf;&#x4e2a;irq_desc&#x7ed3;&#x6784;&#x5b89;&#x88c5;irq_chip&#x6307;&#x9488;&#xff0c;&#x4f7f;&#x4ed6;&#x6307;&#x5411;&#x6b63;&#x786e;&#x7684;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x6240;&#x5bf9;&#x5e94;&#x7684;irq_chip&#x7ed3;&#x6784;&#x7684;&#x5b9e;&#x4f8b;&#xff0c;&#x540c;&#x65f6;&#xff0c;&#x5982;&#x679c;&#x8be5;&#x5e73;&#x53f0;&#x4e2d;&#x7684;&#x4e2d;&#x65ad;&#x7ebf;&#x6709;&#x591a;&#x8def;&#x590d;&#x7528;&#xff08;&#x591a;&#x4e2a;&#x4e2d;&#x65ad;&#x516c;&#x7528;&#x4e00;&#x4e2a;irq&#x4e2d;&#x65ad;&#x7ebf;&#xff09;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x8fd8;&#x5e94;&#x8be5;&#x521d;&#x59cb;&#x5316;irq_desc&#x4e2d;&#x76f8;&#x5e94;&#x7684;&#x5b57;&#x6bb5;&#x548c;&#x6807;&#x5fd7;&#xff0c;&#x4ee5;&#x4fbf;&#x5b9e;&#x73b0;&#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x7684;&#x7ea7;&#x8054;&#x3002;"/>
</node>
<node CREATED="1414615659613" ID="ID_996841187" MODIFIED="1414615661226" TEXT="3.  &#x4e2d;&#x65ad;&#x63a7;&#x5236;&#x5668;&#x7684;&#x8f6f;&#x4ef6;&#x62bd;&#x8c61;&#xff1a;struct irq_chip"/>
</node>
</node>
<node CREATED="1414603372413" ID="ID_1980817318" MODIFIED="1414603381338" POSITION="left" TEXT="&#x5f02;&#x5e38;"/>
</node>
</map>
